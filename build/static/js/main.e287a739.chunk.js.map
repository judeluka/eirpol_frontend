{"version":3,"sources":["components/Dashboard/BarChart.js","components/Dashboard/FeaturedItem/FeaturedItem.js","components/Dashboard/SimpleGauge/SimpleGauge.js","components/Dashboard/MultilineChartV3PartyFollowers/utils/propTypes.js","components/Dashboard/MultilineChartV3PartyFollowers/components/Line.js","components/Dashboard/MultilineChartV3PartyFollowers/components/Area.js","components/Dashboard/MultilineChartV3PartyFollowers/components/Axis.js","components/Dashboard/MultilineChartV3PartyFollowers/components/GridLine.js","components/Dashboard/MultilineChartV3PartyFollowers/components/Overlay.js","components/Dashboard/MultilineChartV3PartyFollowers/components/Tooltip.js","components/Dashboard/MultilineChartV3PartyFollowers/utils/commonUtils.js","components/Dashboard/MultilineChartV3PartyFollowers/views/MultilineChart.controller.js","components/Dashboard/MultilineChartV3PartyFollowers/utils/useResize.js","components/Dashboard/MultilineChartV3PartyFollowers/utils/useDimensions.js","components/Dashboard/MultilineChartV3PartyFollowers/views/MultilineChart.js","components/Dashboard/MultilineChartV3PartyFollowers/components/Legend.js","Backend/rollCall.js","Backend/tdGenerator.js","Backend/metaData.js","components/Dashboard/MultilineChartV3PartyFollowers/MultilineAppV3PartyFollowers.js","components/MultilineChartV3/utils/propTypes.js","components/MultilineChartV3/components/Line.js","components/MultilineChartV3/components/Area.js","components/MultilineChartV3/components/Axis.js","components/MultilineChartV3/components/GridLine.js","components/MultilineChartV3/components/Overlay.js","components/MultilineChartV3/components/Tooltip.js","components/MultilineChartV3/utils/commonUtils.js","components/MultilineChartV3/views/MultilineChart.controller.js","components/MultilineChartV3/utils/useResize.js","components/MultilineChartV3/utils/useDimensions.js","components/MultilineChartV3/views/MultilineChart.js","components/Dashboard/PartyFollowersGraph/PartyFollowersGraph.js","components/Dashboard/Scatterplot/SearchSelectBox.js","components/Dashboard/Scatterplot/GroupedSelectBox.js","components/Dashboard/Scatterplot/Scatterplot.js","components/Dashboard/PartyBarchart/PartyBarchart.js","components/Dashboard/ScatterplotZoom/SearchSelectBox.js","components/Dashboard/ScatterplotZoom/GroupedSelectBox.js","components/Dashboard/ScatterplotZoom/ScatterplotZoom.js","components/Dashboard/ScatterplotParty/SearchSelectBox.js","components/Dashboard/ScatterplotParty/GroupedSelectBox.js","components/Dashboard/ScatterplotParty/ScatterplotParty.js","components/Dashboard/MultilineChartV3PartyRetweets/utils/propTypes.js","components/Dashboard/VoteBarchart/VoteBarchart.js","components/Dashboard/MultilineChartV3PartyRetweets/components/Line.js","components/Dashboard/MultilineChartV3PartyRetweets/components/Area.js","components/Dashboard/MultilineChartV3PartyRetweets/components/Axis.js","components/Dashboard/MultilineChartV3PartyRetweets/components/GridLine.js","components/Dashboard/MultilineChartV3PartyRetweets/components/Overlay.js","components/Dashboard/MultilineChartV3PartyRetweets/components/Tooltip.js","components/Dashboard/MultilineChartV3PartyRetweets/utils/commonUtils.js","components/Dashboard/MultilineChartV3PartyRetweets/views/MultilineChart.controller.js","components/Dashboard/MultilineChartV3PartyRetweets/utils/useResize.js","components/Dashboard/MultilineChartV3PartyRetweets/utils/useDimensions.js","components/Dashboard/MultilineChartV3PartyRetweets/views/MultilineChart.js","components/Dashboard/MultilineChartV3PartyRetweets/components/Legend.js","components/Dashboard/MultilineChartV3PartyRetweets/MultilineAppV3PartyRetweets.js","components/Dashboard/MultilineChartV3PartyPolarity/utils/propTypes.js","components/Dashboard/MultilineChartV3PartyPolarity/components/Line.js","components/Dashboard/MultilineChartV3PartyPolarity/components/Area.js","components/Dashboard/MultilineChartV3PartyPolarity/components/Axis.js","components/Dashboard/MultilineChartV3PartyPolarity/components/GridLine.js","components/Dashboard/MultilineChartV3PartyPolarity/components/Overlay.js","components/Dashboard/MultilineChartV3PartyPolarity/components/Tooltip.js","components/Dashboard/MultilineChartV3PartyPolarity/utils/commonUtils.js","components/Dashboard/MultilineChartV3PartyPolarity/views/MultilineChart.controller.js","components/Dashboard/MultilineChartV3PartyPolarity/utils/useResize.js","components/Dashboard/MultilineChartV3PartyPolarity/utils/useDimensions.js","components/Dashboard/MultilineChartV3PartyPolarity/views/MultilineChart.js","components/Dashboard/MultilineChartV3PartyPolarity/components/Legend.js","components/Dashboard/MultilineChartV3PartyPolarity/MultilineAppV3PartyPolarity.js","components/Dashboard/MultilineChartV3PartySubjectivity/utils/propTypes.js","components/Dashboard/MultilineChartV3PartySubjectivity/components/Line.js","components/Dashboard/MultilineChartV3PartySubjectivity/components/Area.js","components/Dashboard/MultilineChartV3PartySubjectivity/components/Axis.js","components/Dashboard/MultilineChartV3PartySubjectivity/components/GridLine.js","components/Dashboard/MultilineChartV3PartySubjectivity/components/Overlay.js","components/Dashboard/MultilineChartV3PartySubjectivity/components/Tooltip.js","components/Dashboard/MultilineChartV3PartySubjectivity/utils/commonUtils.js","components/Dashboard/MultilineChartV3PartySubjectivity/views/MultilineChart.controller.js","components/Dashboard/MultilineChartV3PartySubjectivity/utils/useResize.js","components/Dashboard/MultilineChartV3PartySubjectivity/utils/useDimensions.js","components/Dashboard/MultilineChartV3PartySubjectivity/views/MultilineChart.js","components/Dashboard/MultilineChartV3PartySubjectivity/components/Legend.js","components/Dashboard/MultilineChartV3PartySubjectivity/MultilineAppV3PartySubjectivity.js","components/Dashboard/ComingSoon.js","components/Dashboard/Welcome/Welcome.js","components/Dashboard/Dashboard.js","components/Navbar/Navbar.js","components/TDPage/TDHeader.js","components/TDPage/TDStats.js","components/TDPage/TDPage.js","components/TDList/TDList.js","components/Footer/Footer.js","App.js","reportWebVitals.js","index.js"],"names":["useStyles","makeStyles","theme","icon","color","formControl","margin","spacing","minWidth","partyColors","BarChart","data","options","optionsFunctions","d","followerData","followers","retweetData","retweets","original_tweets","test","Infinity","sentimentData","polarity","subjectivity","classes","useState","TDData","setTDData","yOption","setYOption","svgRef","useRef","useEffect","TDDataHolderBar","sort","a","b","d3","party","console","log","xValue","name","yValue","partyColor","svg","current","xScale","domain","map","range","padding","yScale","xAxis","select","attr","transition","call","yAxis","style","tooltip","append","text","rects","selectAll","join","duration","bandwidth","on","i","html","toLocaleString","this","pageY","pageX","remove","className","textAlign","FormControl","InputLabel","fill","htmlFor","Select","onChange","event","child","target","value","defaultValue","id","ListSubheader","disabled","ref","height","width","transform","MostFollowedTD","currentWeekIndex","setCurrentWeekIndex","length","leo","filter","Grid","container","xs","alignItems","item","Avatar","src","class","ArrowUpward","MostFollowedParty","justFG","reduce","MostRetweetedTD","mostRetweetsTD","MostActiveTD","MostNegativeTD","mostNegativeTD","MostPositiveTD","mostPositiveTD","DailTotal","total","setTotal","tenTot","setTenTot","percTopTot","setPercTopTot","avg","setAvg","testtf","tenTott","Math","round","justifyContent","Typography","variant","marginLeft","fontSize","fontWeight","DailSentimentGauge","dailPolAvg","setDailPolAvg","DailConnectivityGauge","dailSubAvg","setDailSubAvg","MultiLineDataItemsPropTypes","arrayOf","shape","date","dateProp","change","number","string","items","Line","animation","isSmooth","props","React","animateLeft","useCallback","totalLength","getTotalLength","ease","animateFadeIn","noneAnimation","x","y","line","match","stroke","strokeWidth","opacity","defaultProps","Area","disableAnimation","useMemo","y1","y0","area","x1","x2","y2","offset","stopColor","stopOpacity","Axis","type","scale","ticks","tickFormat","anchorEl","axis","axisGroup","xDate","invert","textElements","index","left","GridLine","size","tickSize","gridGroup","Overlay","forwardRef","children","propTypes","PropTypes","isRequired","node","Tooltip","drawLine","top","drawContent","tooltipContent","cur","nodes","nodeWidth","getBoundingClientRect","drawBackground","contentBackground","tooltipContentElement","contentSize","onChangePosition","isVisible","td","tIndex","percent","result","isNumber","isString","isNotNaN","Number","isNaN","parseFloat","formatPercent","maxNameWidth","datum","previousSibling","followPoints","bisectDate","baseXPos","d0","d1","undefined","xPos","yPos","rx","ry","r","bottom","right","useController","xMin","xMax","yMin","yMax","yTickFormat","indention","yScaleForAxis","xTickFormat","useResize","dimensions","setDimensions","element","resizeObserver","ResizeObserver","entries","forEach","entry","contentRect","observe","unobserve","useDimensions","maxHeight","scaleCoef","svgWidth","svgHeight","MultilineChart","overlayRef","containerRef","controller","Legend","selectedItems","checked","includes","chamber","weeks","arr","floor","random","push","concat","img","partyName","mOG","followArr","dateArr","changeArr","Date","setDate","getDate","month","getMonth","day","year","getFullYear","formatDate","weekDate","base","follows","lastWeek","diff","followObj","Object","toObj","totalFollowers","retweetArr","changePerArr","changeNumArr","changePer","changeNum","retweetObj","totalRetweets","sentiment","dailMaker","MultilineAppV3PartyFollowers","setSelectedItems","justParty","partyStats","currentParty","apart","split","together","toString","replace","partyFollowers","partyFollowersTotal","partyRetweets","partyRetweetsTotal","polarityData","polarityArr","partyPolarity","partyPolarityAvg","polarityAvg","polarityObj","polAvg","fineGaelData","sinnFeinData","fiannaFailData","labourData","peopleBeforeProfitData","independentData","greenPartyData","independents4ChangeData","aontuData","socDemData","chartData","legendData","newSelectedItems","styled","label","onDelete","onClick","Scatterplot","TDDataScatter","setTDDataScatter","oirOralQuestionData","setOirOralQuestionData","oirWrittenQuestionData","setOirWrittenQuestionData","partySelect","setPartySelect","xOption","setXOption","rOption","setROption","filteredTDData","setFilteredTDData","rValue","axios","get","then","response","optionsExplanation","handleChange","holder","tester","splice","selectedFilteredTDData","rScale","axisBottom","axisLeft","circles","marginBottom","align","List","display","ListItem","ListItemText","primary","FormGroup","verticalAlign","FormControlLabel","control","Checkbox","defaultChecked","PartyBarchart","totalFollows","totalOriginalTweets","TDAmount","followersToTDs","retweetsToFollowers","retweetsToOriginalTweets","secOption","setSecOption","makePartyObj","partyArr","parties","Set","TDs","ratio","retweetsToFollowersFunc","retweetsToOriginalTweetsFunc","partyData","secondaryValue","marginTop","ScatterplotParty","subAvg","followersPerRetweet","retweetsPerOriginalTweet","avgOriginalTweets","avgFollowers","avgRetweets","fetch","json","responseJson","movies","catch","error","k","MultilineAppV3PartyRetweets","MultilineAppV3PartyPolarity","tdAmount","toFixed","subjectivityAvg","MultilineAppV3PartySubjectivity","subjectivityData","subjectivityArr","partySubjectivity","partySubjectivityAvg","subjectivityObj","ComingSoon","sm","paddingLeft","paddingRight","listStyleType","Welcome","TDFollowerDataObjArr","setTDFollowerDataObjArr","href","Dashboard","Navbar","click","setClick","handleClick","exact","to","activeClassName","TDHeader","direction","TDFollowerStats","TDRetweetStats","ArrowDownward","TDTwitterActivity","TDSentimentGauge","formatTextValue","TDConnectivityGauge","TDPage","TDList","md","button","component","ListItemAvatar","myClassName","backgroundColor","position","Footer","background","IconButton","window","open","App","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e287a739.chunk.js","sourcesContent":["import * as d3 from 'd3'\r\nimport React from 'react'\r\nimport { useRef, useEffect, useState } from 'react'\r\nimport { Typography, Checkbox, Select, MenuItem, ListSubheader, FormControl, InputLabel, makeStyles } from '@material-ui/core'\r\n\r\n\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    icon: {\r\n      color: \"white\"\r\n  },\r\n\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  }\r\n\r\n}));\r\n\r\nconst partyColors = {\r\n    \"Sinn Fin\": \"#326760\",\r\n    \"Fine Gael\": \"#6699FF\",\r\n    \"Fianna Fil\": \"#66BB66\",\r\n    \"Labour Party\": \"#CC0000\",\r\n    \"Solidarity - People Before Profit\": \"#8E2420\",\r\n    \"Independent\": \"white\",\r\n    \"Green Party\": \"#99CC33\",\r\n    \"Social Democrats\": \"#752F8B\",\r\n    \"Aont\": \"#44532A\",\r\n    \"Independents 4 Change\": \"grey\"}\r\n\r\n\r\nexport const BarChart = ({data}) => {\r\n\r\n\r\n    const options = [\r\n\r\n    \"Followers\", \"Retweets\", \"Original Tweets\", \"Followers per Retweet\", \"Retweets Per Original Tweet\", \"Polarity\", \"Subjectivity\"\r\n\r\n    ]\r\n\r\n    const followers = d => d.followerData[2].followers\r\n    const retweets = d => d.retweetData[2].retweets\r\n    const originalTweets = d => d.retweetData[2].original_tweets\r\n    const followersPerRetweet = (d) => {\r\n\r\n        var f = d.followerData[2].followers \r\n        var r = d.retweetData[2].retweets\r\n\r\n        var test = f / r\r\n\r\n        if(test === Infinity) {\r\n            test = 0\r\n        }\r\n    return test\r\n\r\n    }\r\n    const retweetsPerOriginalTweet = (d) => {\r\n\r\n        var r = d.retweetData[2].retweets \r\n        var o = d.retweetData[2].original_tweets\r\n\r\n        var test = r / o\r\n\r\n        if(test === Infinity ) {\r\n\r\n            test = 0\r\n        \r\n    }\r\n\r\n    test = test ? test : 0;\r\n\r\n\r\n    return test\r\n}\r\n    const polarity = d => d.sentimentData[2].polarity\r\n    const subjectivity = d => d.sentimentData[2].subjectivity\r\n\r\n\r\n    const optionsFunctions =\r\n\r\n    [followers, retweets, originalTweets, followersPerRetweet, retweetsPerOriginalTweet, polarity, subjectivity]\r\n\r\n\r\n    const classes = useStyles();\r\n\r\n\r\n    const [TDData, setTDData] = useState(null)\r\n    const [xOption, setXOption] = useState(1)\r\n    const [yOption, setYOption] = useState(0)\r\n\r\n\r\n\r\n    const margin = {top: 20, right: 20, bottom: 20, left: 60}\r\n\r\n    const height = 600\r\n    const width = 900\r\n\r\n\r\n\r\n    const svgRef= useRef()\r\n\r\n\r\nconst onChangeX = (event, child) => {\r\n        setXOption(event.target.value)\r\n        console.log('x:' + event.target.value);\r\n        console.log(child);\r\n};\r\n\r\nconst onChangeY = (event, child) => {\r\n        setYOption(event.target.value)\r\n        console.log('y:' + event.target.value);\r\n        console.log(child);\r\n};\r\n\r\n// const onChangeR = (event, child) => {\r\n//     setROption(event.target.value)\r\n//     console.log('r:' + event.target.value);\r\n//     console.log(child);\r\n// };\r\n\r\n\r\nuseEffect(() => {\r\n\r\n    setTDData(data)\r\n\r\n}, [])\r\n\r\n    useEffect(() => {\r\n\r\n        if(!TDData) return null;\r\n\r\n        const TDDataHolderBar = TDData;\r\n\r\n        TDDataHolderBar.sort(function(a, b) {\r\n         return   d3.ascending(a.party, b.party)\r\n        })\r\n\r\n        console.log(TDDataHolderBar)\r\n\r\n        const xValue = d => d.name\r\n        const yValue = optionsFunctions[yOption]\r\n        const party = d => d.party\r\n        const partyColor = d => partyColors[party(d)]\r\n\r\n\r\n        const svg = d3.select(svgRef.current);\r\n\r\n\r\n        const xScale = d3.scaleBand()\r\n                            .domain(TDDataHolderBar.map(xValue))\r\n                            .range([0, width])\r\n                            .padding(0.2)\r\n\r\n\r\n        const yScale = d3.scaleLinear()\r\n                        .domain([0, d3.max(TDDataHolderBar, yValue)])\r\n                        .range([height, 0]);\r\n\r\n\r\n\r\n                        console.log(yValue)\r\n\r\n        const xAxis = d3.axisBottom(xScale)\r\n\r\n        svg\r\n            .select(\".x-axis\")\r\n            .attr(\"transform\", \"translate(0,\" + 600 + \")\")\r\n            .transition(2000)\r\n            .call(xAxis);\r\n\r\n        const yAxis = d3.axisLeft(yScale);\r\n\r\n    svg\r\n        .select(\".y-axis\")\r\n        .attr(\"transform\", \"translate(0,0)\")\r\n        .style(\"color\", \"white\")\r\n        .transition(500)\r\n        .call(yAxis)\r\n\r\n\r\n\r\n        const tooltip = d3\r\n                .select('body')\r\n                .append('div')\r\n                .attr('class', 'd3-tooltip')\r\n                .style('position', 'absolute')\r\n                .style('z-index', '10')\r\n                .style('visibility', 'hidden')\r\n                .style('padding', '10px')\r\n                .style('background', 'rgba(0,0,0,0.6)')\r\n                .style('border-radius', '4px')\r\n                .style('color', '#fff')\r\n                .text('a simple tooltip');\r\n\r\n\r\n        var rects = d3.select(\"#container-bar\")\r\n                    .selectAll(\".bar\")\r\n                    .data(TDDataHolderBar)\r\n                    .join(\"rect\")\r\n                    .attr(\"class\", \"bar\")\r\n                    .attr(\"fill\", partyColor)\r\n\r\n\r\n\r\n                rects.transition()\r\n                    .duration(400)\r\n                    .attr(\"x\", d => xScale(xValue(d)))\r\n                    .attr(\"y\", d => yScale(yValue(d)))\r\n                    .attr(\"width\", xScale.bandwidth())\r\n                    .attr(\"height\", d => 600 - yScale(yValue(d)))\r\n\r\n\r\n\r\n                const hoverColor = \"#eec42d\"\r\n\r\n\r\n                rects\r\n                    .on('mouseover', function (d, i) {\r\n                        tooltip\r\n                        .html(\r\n                            `<div>Name: ${d.name}</div><div>Party: ${d.party}</div><div>${options[yOption]}: ${yValue(d).toLocaleString()}</div></div>`\r\n                        )\r\n                            .style('visibility', 'visible');\r\n                            d3.select(this).transition().attr('fill', hoverColor);\r\n                        })\r\n                        .on('mousemove', function () {\r\n                            tooltip\r\n                            .style('top', d3.event.pageY - 10 + 'px')\r\n                            .style('left', d3.event.pageX + 10 + 'px');\r\n                        })\r\n                        .on('mouseout', function () {\r\n                            tooltip.html(``).style('visibility', 'hidden');\r\n                            d3.select(this).transition().attr('fill', partyColor);\r\n                        });\r\n\r\n                        svg.select('.x-axis').selectAll(\"text\").remove();\r\n\r\n\r\n        console.log(yScale(yValue(TDData[2])))\r\n    }, [TDData, yOption])\r\n\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n    <div className={\"featuredItem\"} style={{textAlign: \"center\", padding: \"0px\", margin: \"0px\"}}>\r\n            {/* <Typography variant=\"h5\">Most Followed TDs</Typography> */}\r\n      <FormControl className={classes.formControl}>\r\n        <InputLabel style={{fill: \"white\", color: \"white\"}} htmlFor=\"grouped-select\">Y-Value</InputLabel>\r\n        <Select onChange={onChangeY} style={{ color: \"white\"}} classes={{icon:classes.icon}} defaultValue=\"\" id=\"grouped-select\">\r\n          <ListSubheader>Twitter Data</ListSubheader>\r\n          <MenuItem value={0}>Followers</MenuItem>\r\n          <MenuItem value={1}>Total Retweets</MenuItem>\r\n          <MenuItem value={2}>Original Tweets</MenuItem>          \r\n          <MenuItem value={3}>Followers Per Retweet</MenuItem>\r\n          <MenuItem value={4}>Retweets Per Original Tweet</MenuItem>\r\n          <MenuItem value={5}>Polarity</MenuItem>\r\n          <MenuItem value={6}>Subjectivity</MenuItem>\r\n          <ListSubheader>Parliamentary Data (Coming Soon)</ListSubheader>          \r\n          <MenuItem disabled>Questions Asked</MenuItem>\r\n          <ListSubheader>News Data (Coming Soon)</ListSubheader>\r\n          <MenuItem disabled>News Mentions</MenuItem>\r\n          <ListSubheader>Electoral Data (Coming Soon)</ListSubheader>\r\n          <MenuItem disabled>Votes recieved in last election</MenuItem>\r\n          <MenuItem disabled>Avg. Poll</MenuItem>\r\n        </Select>\r\n      </FormControl>\r\n        <div className={\"scroll-svg-container\"}>\r\n            <svg ref={svgRef} height={height + margin.top + margin.bottom} width={width + margin.left + margin.right}>\r\n            <g id=\"container-bar\" transform={'translate(' + margin.left + ',' + margin.top + ')'}>\r\n                <g className=\"x-axis\"></g>\r\n                <g className=\"y-axis\"></g>\r\n            </g>\r\n            </svg>\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Avatar, Grid, useForkRef, Typography } from '@material-ui/core'\r\nimport {ArrowDownward, ArrowUpward, ContactlessOutlined, LocalConvenienceStoreOutlined, SettingsPhoneTwoTone} from '@material-ui/icons'\r\nimport './featureditem.css'\r\nimport * as d3 from 'd3'\r\nimport { BarChart } from '../BarChart'\r\n\r\n\r\nexport const MostFollowedTD = ({data}) => {\r\n\r\n\r\n\r\n    const [TDData, setTDData] = useState(null)\r\n    const [currentWeekIndex, setCurrentWeekIndex] = useState(null)\r\n\r\n    useEffect(() => {\r\n\r\n        setTDData(data)\r\n\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n\r\n        if(!TDData) return null;\r\n\r\n        setCurrentWeekIndex(TDData[0].followerData.length - 1)\r\n\r\n    }, [TDData])\r\n\r\n    \r\n    \r\n    if(!TDData || !currentWeekIndex) return null;\r\n\r\n    const leo = TDData.filter(d => d.name === 'Leo Varadkar')[0]\r\n\r\n\r\n    return (\r\n    <div className=\"featuredItem\">\r\n        <span className=\"featuredSub\">Most Followed TD</span>\r\n        <Grid container xs={12} alignItems=\"center\">\r\n        <Grid item>\r\n        <Avatar  src=\"https://www.finegael.ie/app/uploads/2016/09/leo_varadkar_thumbnail.jpg\"/>\r\n        </Grid>\r\n        <Grid item >\r\n        <span className=\"featuredTitle\">Leo Varadkar</span><span class=\"party-dot-fg\"/>\r\n        </Grid>\r\n        </Grid>\r\n        <div className=\"featuredFollowerContainer\">\r\n            <span className=\"featuredFollowers\">{leo.followerData[currentWeekIndex].followers.toLocaleString()}</span>\r\n                <span className=\"featuredFollowerChange\">+100% <ArrowUpward style={{fill: \"green\"}}/></span>\r\n        </div>\r\n        \r\n    </div>\r\n    )\r\n}\r\n\r\n\r\nexport const MostFollowedParty = ({data}) => {\r\n\r\n\r\n\r\n    const [TDData, setTDData] = useState(null)\r\n    const [currentWeekIndex, setCurrentWeekIndex] = useState(null)\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        setTDData(data)\r\n        console.log(TDData)\r\n\r\n    }, [data])\r\n\r\n    useEffect(() => {\r\n\r\n        if(!TDData) return null;\r\n\r\n        setCurrentWeekIndex(TDData[0].followerData.length - 1)\r\n\r\n    }, [TDData])\r\n\r\n    \r\n\r\n    if(!TDData || !currentWeekIndex) return null;\r\n    const justFG = TDData.filter(d => d.party !== 'Fine Gael').map(d => d.followerData[currentWeekIndex].followers).reduce(function(a, b) {return a + b})\r\n    \r\n    console.log(justFG)\r\n\r\n    return(\r\n\r\n\r\n        <div className=\"featuredItem\">\r\n            <span className=\"featuredSub\">Most Followed Party</span>\r\n        <Grid container xs={12} alignItems=\"center\">\r\n        <Grid item>\r\n        <Avatar  src=\"https://www.finegael.ie/app/themes/finegael/dist/images/FG-Logo-white-text-col-star.png\"/>\r\n        </Grid>\r\n        <Grid item >\r\n        <span className=\"featuredTitle\">Fine Gael</span><span class=\"party-dot-fg\"/>\r\n        </Grid>\r\n        </Grid>\r\n\r\n\r\n        <div className=\"featuredFollowerContainer\">\r\n            <span className=\"featuredFollowers\">{justFG.toLocaleString()}</span>\r\n            <span className=\"featuredFollowerChange\">+100% <ArrowUpward style={{fill: \"green\"}}/></span>\r\n        </div>\r\n        \r\n    </div>\r\n\r\n\r\n\r\n\r\n)\r\n}\r\n\r\nexport const MostRetweetedTD = ({data}) => {\r\n\r\n\r\n    const [TDData, setTDData] = useState(null)\r\n    const [currentWeekIndex, setCurrentWeekIndex] = useState(null)\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        setTDData(data)\r\n\r\n    }, [data])\r\n\r\n    useEffect(() => {\r\n\r\n        if(!TDData) return null;\r\n\r\n        setCurrentWeekIndex(TDData[0].followerData.length - 1)\r\n\r\n    }, [TDData])\r\n\r\n\r\n    if(!TDData || !currentWeekIndex) return null;\r\n\r\n    const mostRetweetsTD = TDData.sort(function(a, b) {\r\n\r\n        return   d3.descending(a.retweetData[currentWeekIndex].retweets, b.retweetData[currentWeekIndex].retweets)\r\n\r\n       })\r\n\r\n    return (\r\n\r\n\r\n        <div className=\"featuredItem\">\r\n            <span className=\"featuredSub\">Most Retweets this week</span>\r\n        <Grid container xs={12} alignItems=\"center\">\r\n        <Grid item>\r\n        <Avatar  src=\"https://data.oireachtas.ie/ie/oireachtas/member/id/John-Brady.D.2016-10-03/image/large\"/>\r\n        </Grid>\r\n        <Grid item >\r\n        <span className=\"featuredTitle\">{mostRetweetsTD[0].name}</span><span class=\"party-dot-sf\"/>\r\n        </Grid>\r\n        </Grid>\r\n\r\n\r\n        <div className=\"featuredFollowerContainer\">\r\n            <span className=\"featuredFollowers\">{mostRetweetsTD[0].retweetData[currentWeekIndex].retweets}</span>\r\n            <span className=\"featuredFollowerChange\">+100% <ArrowUpward style={{fill: \"green\"}}/></span>\r\n        </div>\r\n        \r\n    </div>\r\n\r\n    )\r\n\r\n}\r\n\r\nexport const MostActiveTD = ({data}) => {\r\n\r\n\r\n    const [TDData, setTDData] = useState(null)\r\n    const [currentWeekIndex, setCurrentWeekIndex] = useState(null)\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        setTDData(data)\r\n\r\n    }, [data])\r\n\r\n    useEffect(() => {\r\n\r\n        if(!TDData) return null;\r\n\r\n        setCurrentWeekIndex(TDData[0].followerData.length - 1)\r\n\r\n    }, [TDData])\r\n\r\n\r\n    if(!TDData || !currentWeekIndex) return null;\r\n    const mostRetweetsTD = TDData.sort(function(a, b) {\r\n\r\n        return   d3.descending(a.retweetData[currentWeekIndex].original_tweets, b.retweetData[currentWeekIndex].original_tweets)\r\n\r\n       })\r\n\r\n    return (\r\n\r\n\r\n        <div className=\"featuredItem\">\r\n            <span className=\"featuredSub\">Most Active this week (Original Tweets)</span>\r\n        <Grid container xs={12} alignItems=\"center\">\r\n        <Grid item>\r\n        <Avatar  src=\"https://data.oireachtas.ie/ie/oireachtas/member/id/Ciaran-Cannon.S.2007-07-23/image/large\"/>\r\n        </Grid>\r\n        <Grid item >\r\n        <span className=\"featuredTitle\">{mostRetweetsTD[0].name}</span><span class=\"party-dot-fg\"/>\r\n        </Grid>\r\n        </Grid>\r\n\r\n\r\n        <div className=\"featuredFollowerContainer\">\r\n            <span className=\"featuredFollowers\">{mostRetweetsTD[0].retweetData[currentWeekIndex].original_tweets}</span>\r\n            <span className=\"featuredFollowerChange\">+100% <ArrowUpward style={{fill: \"green\"}}/></span>\r\n        </div>\r\n        \r\n    </div>\r\n\r\n    )\r\n\r\n}\r\n\r\nexport const MostNegativeTD = ({data}) => {\r\n\r\n\r\n\r\n    const [TDData, setTDData] = useState(null)\r\n    const [currentWeekIndex, setCurrentWeekIndex] = useState(null)\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        setTDData(data)\r\n        console.log(TDData)\r\n\r\n    }, [data])\r\n\r\n    useEffect(() => {\r\n\r\n        if(!TDData) return null;\r\n\r\n        setCurrentWeekIndex(TDData[0].followerData.length - 1)\r\n\r\n    }, [TDData])\r\n\r\n\r\n    \r\n\r\n    if(!TDData || !currentWeekIndex) return null;\r\n\r\n    const mostNegativeTD = TDData.sort(function(a, b) {\r\n\r\n        return   d3.ascending(a.sentimentData[currentWeekIndex].polarity, b.sentimentData[currentWeekIndex].polarity)\r\n\r\n       })\r\n\r\n\r\n\r\n    return(\r\n\r\n\r\n        <div className=\"featuredItem\">\r\n            <span className=\"featuredSub\">Most Negative TD this Week</span>\r\n        <Grid container xs={12} alignItems=\"center\">\r\n        <Grid item>\r\n        <Avatar  src=\"https://www.sinnfein.ie/files/images/orig/2014/paul-donnelly.jpg\"/>\r\n        </Grid>\r\n        <Grid item >\r\n        <span className=\"featuredTitle\">{mostNegativeTD[0].name}</span><span class=\"party-dot-sf\"/>\r\n        </Grid>\r\n        </Grid>\r\n\r\n\r\n        <div className=\"featuredFollowerContainer\">\r\n            <span className=\"featuredFollowers\">{mostNegativeTD[0].sentimentData[currentWeekIndex].polarity.toLocaleString()}</span>\r\n            <span className=\"featuredFollowerChange\">+100% <ArrowUpward style={{fill: \"green\"}}/></span>\r\n        </div>\r\n        \r\n    </div>\r\n\r\n\r\n\r\n\r\n)\r\n}\r\n\r\nexport const MostPositiveTD = ({data}) => {\r\n\r\n\r\n\r\n    const [TDData, setTDData] = useState(null)\r\n    const [currentWeekIndex, setCurrentWeekIndex] = useState(null)\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        setTDData(data)\r\n        console.log(TDData)\r\n\r\n    }, [data])\r\n\r\n    useEffect(() => {\r\n\r\n        if(!TDData) return null;\r\n\r\n        setCurrentWeekIndex(TDData[0].followerData.length - 1)\r\n\r\n    }, [TDData])\r\n\r\n    \r\n\r\n    if(!TDData || !currentWeekIndex) return null;\r\n\r\n    const mostPositiveTD = TDData.sort(function(a, b) {\r\n\r\n        return   d3.descending(a.sentimentData[currentWeekIndex].polarity, b.sentimentData[currentWeekIndex].polarity)\r\n\r\n       })\r\n\r\n\r\n\r\n    return(\r\n\r\n\r\n        <div className=\"featuredItem\">\r\n            <span className=\"featuredSub\">Most Positive TD this Week</span>\r\n        <Grid container xs={12} alignItems=\"center\">\r\n        <Grid item>\r\n        <Avatar  src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/5/52/Miche%C3%A1l_Martin_TD_%28cropped%29.jpg/1200px-Miche%C3%A1l_Martin_TD_%28cropped%29.jpg\"/>\r\n        </Grid>\r\n        <Grid item >\r\n        <span className=\"featuredTitle\">{mostPositiveTD[0].name}</span><span class=\"party-dot-ff\"/>\r\n        </Grid>\r\n        </Grid>\r\n\r\n\r\n        <div className=\"featuredFollowerContainer\">\r\n            <span className=\"featuredFollowers\">{mostPositiveTD[0].sentimentData[currentWeekIndex].polarity.toLocaleString()}</span>\r\n            <span className=\"featuredFollowerChange\">+100% <ArrowUpward style={{fill: \"green\"}}/></span>\r\n        </div>\r\n        \r\n    </div>\r\n\r\n\r\n\r\n\r\n)\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport const DailTotal = ({data}) => {\r\n\r\n    const [TDData, setTDData] = useState(null)\r\n    const [total, setTotal] = useState(null)\r\n    const [tenTot, setTenTot] = useState(null)\r\n    const [percTopTot, setPercTopTot] = useState(null)\r\n    const [avg, setAvg] = useState(null)\r\n    const [currentWeekIndex, setCurrentWeekIndex] = useState(null)\r\n\r\n    useEffect(() => {\r\n\r\n        setTDData(data)\r\n        console.log(TDData)\r\n\r\n    }, [data])\r\n\r\n    useEffect(() => {\r\n\r\n        if(!TDData) return null;\r\n\r\n        setCurrentWeekIndex(TDData[0].followerData.length - 1)\r\n\r\n    }, [TDData])\r\n\r\n\r\n    \r\n\r\n    useEffect(() => {\r\n\r\n        if(!TDData || !currentWeekIndex) return null;\r\n\r\n\r\n        const holder = TDData.map(d => d.followerData[currentWeekIndex].followers)\r\n        const total = holder.reduce(function(a, b) {\r\n            return a + b\r\n        })\r\n\r\n        setTotal(total)\r\n        console.log(total)\r\n\r\n\r\n\r\n\r\n        \r\n     // return d3.descending(a.totalFollowers, b.totalFollowers)\r\n            \r\n                 \r\n        \r\n        \r\n        const TDDataHolder = TDData;\r\n\r\n        const topFive = TDDataHolder.sort(function (a, b) {\r\n\r\n\r\n            return d3.descending(a.followerData[currentWeekIndex].followers, b.followerData[currentWeekIndex].followers)\r\n\r\n\r\n\r\n        })\r\n\r\n\r\n\r\n\r\n        \r\n\r\n        const testtf = topFive.map(d => d.followerData[currentWeekIndex].followers)\r\n\r\n\r\n        testtf.length = 10\r\n\r\n\r\n        const tenTott = testtf.reduce(function(a,b) {\r\n\r\n            return a + b\r\n\r\n        })\r\n\r\n        setTenTot(tenTott)\r\n\r\n\r\n        setPercTopTot(tenTott / total)\r\n\r\n        setAvg(Math.round(total / TDData.length))\r\n\r\n\r\n        console.log(percTopTot)\r\n        \r\n\r\n    }, [TDData, currentWeekIndex])\r\n\r\n\r\n\r\n    console.log(TDData)\r\n\r\n\r\n    \r\n    if(!TDData || !total || !currentWeekIndex) return null;\r\n\r\n\r\n    \r\n    \r\n\r\n    return (\r\n\r\n\r\n        <div className=\"featuredItem\" >\r\n        <Grid container xs={12} alignItems=\"center\" style={{justifyContent: \"center\"}}>\r\n        <Grid item >\r\n        <Avatar  src=\"https://img2.thejournal.ie/inline/2163335/original/?width=630&version=2163335\"/>\r\n        </Grid>\r\n        <Grid item >\r\n        <Typography variant=\"h6\" style={{justifyContent: \"center\", marginLeft: 10}}>Dil Eireann</Typography>\r\n        </Grid>\r\n        </Grid>\r\n\r\n        <div className=\"featuredFollowerContainer\" style={{justifyContent: \"center\"}}>\r\n            <span style={{fontSize: 14}}>Of the <span style={{fontWeight: \"bold\"}}>161</span> TDs in the Dil, <span style={{fontWeight: \"bold\"}}>{TDData.length}</span> have Twitter.</span>\r\n        </div>\r\n        \r\n        <div className=\"featuredFollowerContainer\" style={{justifyContent: \"center\"}}>\r\n            <span style={{fontSize: 14}}>They have a combined following of <span style={{fontWeight: \"bold\"}}>{total.toLocaleString()}</span>.</span>\r\n        </div>\r\n\r\n     \r\n        <div className=\"featuredFollowerContainer\" style={{justifyContent: \"center\"}}>\r\n            <span style={{fontSize: 14}}>The 10 most followed TDs account for <span style={{fontWeight: \"bold\"}}>{tenTot.toLocaleString()}</span>, or <span style={{fontWeight: \"bold\"}}>{percTopTot.toLocaleString(\"en\", {style: \"percent\"})} </span>of the total.</span>\r\n        </div>        \r\n        <div className=\"featuredFollowerContainer\" style={{justifyContent: \"center\"}}>\r\n            <span style={{fontSize: 14}}>The average TD has just <span style={{fontWeight: \"bold\"}}>{avg.toLocaleString()}</span>.</span>\r\n        </div>   \r\n        <BarChart data={TDData}/>\r\n    </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    )\r\n\r\n}\r\n\r\n\r\n\r\n","import React, {useState, useEffect} from 'react'\r\nimport * as d3 from 'd3'\r\nimport GaugeChart from 'react-gauge-chart'\r\nimport { Typography } from '@material-ui/core'\r\nimport { ArrowUpward } from '@material-ui/icons'\r\n\r\n\r\nexport const DailSentimentGauge = ({data}) => {\r\n\r\n    const [TDData, setTDData] = useState(null)\r\n    const [dailPolAvg, setDailPolAvg] = useState(null)\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        setTDData(data)\r\n        console.log(TDData)\r\n\r\n    }, [data])\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        if(!TDData) return null;\r\n\r\n\r\n        const holder = TDData.map(d => d.sentimentData[2].polarity)\r\n        const total = holder.reduce(function(a, b) {\r\n            return a + b\r\n        })\r\n\r\n        var avg = total / 154\r\n\r\n\r\n        setDailPolAvg(avg)\r\n\r\n        console.log(avg)\r\n \r\n     // return d3.descending(a.totalFollowers, b.totalFollowers)\r\n            \r\n                 \r\n        \r\n    \r\n\r\n    }, [TDData, dailPolAvg])\r\n\r\n    if(!dailPolAvg) return null;\r\n\r\n\r\n    return (\r\n        <div className=\"featuredItem\">\r\n            <Typography variant=\"h6\">Dil Sentiment</Typography>\r\n            <p style={{fontSize: 14}}>How positive or negative TD's have been Twitter over the past week. Value lies between [-1, 1] where 1 is most positive.</p>\r\n            <div className=\"featuredFollowerContainer\">\r\n            <span className=\"featuredFollowers\">{dailPolAvg.toLocaleString()}</span>\r\n            <span className=\"featuredFollowerChange\">+100% <ArrowUpward style={{fill: \"green\"}}/></span>\r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport const DailConnectivityGauge = ({data}) => {\r\n\r\n\r\n    \r\n\r\n\r\n    const [TDData, setTDData] = useState(null)\r\n    const [dailSubAvg, setDailSubAvg] = useState(null)\r\n\r\n    useEffect(() => {\r\n\r\n        setTDData(data)\r\n        console.log(TDData)\r\n\r\n    }, [data])\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        if(!TDData) return null;\r\n\r\n        const holder = TDData.map(d => d.sentimentData[2].subjectivity)\r\n        const total = holder.reduce(function(a, b) {\r\n            return a + b\r\n    })\r\n\r\n        var avg = total / 154  \r\n        \r\n        if(!total) return null;\r\n\r\n        console.log(avg)\r\n\r\n\r\n        setDailSubAvg(avg)\r\n\r\n\r\n    }, [TDData, dailSubAvg])\r\n\r\n\r\n\r\n    if(!TDData || !dailSubAvg) return null;\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"featuredItem\">\r\n            <Typography variant=\"h6\">Dil Subjectivity</Typography>\r\n            <p style={{fontSize: 14}}>How subjective TD's have been on Twitter over the past week. Unlike sentiment, subjectivity lies between [0, 1] where 1 is most subjective.</p>\r\n            <div className=\"featuredFollowerContainer\">\r\n            <span className=\"featuredFollowers\">{dailSubAvg.toLocaleString()}</span>\r\n            <span className=\"featuredFollowerChange\">+100% <ArrowUpward style={{fill: \"green\"}}/></span>\r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\n","import { arrayOf, shape, string, date as dateProp, number } from \"prop-types\";\r\n\r\nexport const MultiLineDataItemsPropTypes = arrayOf(\r\n  shape({\r\n    date: dateProp,\r\n    change: number,\r\n    followers: number\r\n  })\r\n);\r\n\r\nexport const MultiLineDataPropTypes = arrayOf(\r\n  shape({\r\n    name: string,\r\n    items: MultiLineDataItemsPropTypes,\r\n    color: string\r\n  })\r\n);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport * as d3 from \"d3\";\r\n\r\nconst Line = ({\r\n  xScale,\r\n  yScale,\r\n  color,\r\n  data,\r\n  isSmooth,\r\n  animation,\r\n  ...props\r\n}) => {\r\n  const ref = React.useRef(null);\r\n  // Define different types of animation that we can use\r\n  const animateLeft = React.useCallback(() => {\r\n    // NOTE: for some reason getTotalLength() doesn't work in tests\r\n    // in this codesandbox so we added default value just for tests\r\n    const totalLength = ref.current.getTotalLength\r\n      ? ref.current.getTotalLength()\r\n      : 500;\r\n    d3.select(ref.current)\r\n      .attr(\"opacity\", 1)\r\n      .attr(\"stroke-dasharray\", `${totalLength},${totalLength}`)\r\n      .attr(\"stroke-dashoffset\", totalLength)\r\n      .transition()\r\n      .duration(750)\r\n      .ease(d3.easeLinear)\r\n      .attr(\"stroke-dashoffset\", 0);\r\n  }, []);\r\n  const animateFadeIn = React.useCallback(() => {\r\n    d3.select(ref.current)\r\n      .transition()\r\n      .duration(750)\r\n      .ease(d3.easeLinear)\r\n      .attr(\"opacity\", 1);\r\n  }, []);\r\n  const noneAnimation = React.useCallback(() => {\r\n    d3.select(ref.current).attr(\"opacity\", 1);\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    switch (animation) {\r\n      case \"left\":\r\n        animateLeft();\r\n        break;\r\n      case \"fadeIn\":\r\n        animateFadeIn();\r\n        break;\r\n      case \"none\":\r\n      default:\r\n        noneAnimation();\r\n        break;\r\n    }\r\n  }, [animateLeft, animateFadeIn, noneAnimation, animation]);\r\n\r\n  // Recalculate line length if scale has changed\r\n  React.useEffect(() => {\r\n    if (animation === \"left\") {\r\n      const totalLength = ref.current.getTotalLength\r\n        ? ref.current.getTotalLength()\r\n        : 500;\r\n      d3.select(ref.current).attr(\r\n        \"stroke-dasharray\",\r\n        `${totalLength},${totalLength}`\r\n      );\r\n    }\r\n  }, [xScale, yScale, animation]);\r\n\r\n  const line = d3\r\n    .line()\r\n    .x((d) => xScale(d.date))\r\n    .y((d) => yScale(d.followers));\r\n\r\n  const d = line(data);\r\n\r\n  return (\r\n    <path\r\n      ref={ref}\r\n      d={d?.match(/NaN|undefined/) ? \"\" : d}\r\n      stroke={color}\r\n      strokeWidth={3}\r\n      fill=\"none\"\r\n      opacity={0}\r\n      {...props}\r\n    />\r\n  );\r\n};\r\n\r\nLine.propTypes = {\r\n  xScale: PropTypes.func.isRequired,\r\n  yScale: PropTypes.func.isRequired,\r\n  data: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      date: PropTypes.date,\r\n      change: PropTypes.number\r\n    })\r\n  ),\r\n  color: PropTypes.string,\r\n  isSmooth: PropTypes.bool,\r\n  animation: PropTypes.oneOf([\"left\", \"fadeIn\", \"none\"])\r\n};\r\n\r\nLine.defaultProps = {\r\n  data: [],\r\n  color: \"white\",\r\n  isSmooth: false,\r\n  animation: \"left\"\r\n};\r\n\r\nexport default Line;\r\n","/** Area.js */\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport * as d3 from \"d3\";\r\n\r\nconst Area = ({ xScale, yScale, color, data, disableAnimation, ...props }) => {\r\n  const ref = React.useRef(null);\r\n  React.useEffect(() => {\r\n    if (disableAnimation) {\r\n      d3.select(ref.current).attr(\"opacity\", 1);\r\n      return;\r\n    }\r\n    d3.select(ref.current)\r\n      .transition()\r\n      .duration(750)\r\n      .ease(d3.easeBackIn)\r\n      .attr(\"opacity\", 1);\r\n  }, [disableAnimation]);\r\n\r\n  const d = React.useMemo(() => {\r\n    const area = d3\r\n      .area()\r\n      .x(({ date }) => xScale(date))\r\n      .y1(({ followers }) => yScale(followers))\r\n      .y0(() => yScale(yScale.domain()[0]));\r\n    return area(data);\r\n  }, [xScale, yScale, data]);\r\n\r\n  return (\r\n    <>\r\n      <path\r\n        ref={ref}\r\n        d={d}\r\n        fill={`url(#gradient-${color})`}\r\n        opacity={0}\r\n        {...props}\r\n      />\r\n      <defs>\r\n        <linearGradient\r\n          id={`gradient-${color}`}\r\n          x1=\"0%\"\r\n          x2=\"0%\"\r\n          y1=\"0%\"\r\n          y2=\"100%\"\r\n        >\r\n          <stop offset=\"0%\" stopColor={color} stopOpacity={0.2} />\r\n          <stop offset=\"100%\" stopColor={color} stopOpacity={0} />\r\n        </linearGradient>\r\n      </defs>\r\n    </>\r\n  );\r\n};\r\n\r\nArea.propTypes = {\r\n  xScale: PropTypes.func.isRequired,\r\n  yScale: PropTypes.func.isRequired,\r\n  data: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      date: PropTypes.date,\r\n      followers: PropTypes.number\r\n    })\r\n  ),\r\n  color: PropTypes.string,\r\n  disableAnimation: PropTypes.bool\r\n};\r\n\r\nArea.defaultProps = {\r\n  data: [],\r\n  color: \"white\",\r\n  disableAnimation: false\r\n};\r\n\r\nexport default Area;\r\n","/** AxisX.js */\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport * as d3 from \"d3\";\r\n\r\nconst Axis = ({\r\n  type,\r\n  scale,\r\n  ticks,\r\n  transform,\r\n  tickFormat,\r\n  disableAnimation,\r\n  anchorEl,\r\n  ...props\r\n}) => {\r\n  const ref = React.useRef(null);\r\n  React.useEffect(() => {\r\n    const axisGenerator = type === \"left\" ? d3.axisRight : d3.axisBottom;\r\n    const axis = axisGenerator(scale).ticks(ticks).tickFormat(tickFormat);\r\n    const axisGroup = d3.select(ref.current);\r\n    if (disableAnimation) {\r\n      axisGroup.call(axis);\r\n    } else {\r\n      axisGroup.transition().duration(750).ease(d3.easeLinear).call(axis);\r\n    }\r\n    axisGroup.select(\".domain\").remove();\r\n    axisGroup.selectAll(\"line\").remove();\r\n    axisGroup\r\n      .selectAll(\"text\")\r\n      .attr(\"opacity\", 0.5)\r\n      .attr(\"color\", \"white\")\r\n      .attr(\"font-size\", \"0.75rem\");\r\n  }, [scale, ticks, tickFormat, disableAnimation]);\r\n\r\n  React.useEffect(() => {\r\n    d3.select(anchorEl)\r\n      .on(\"mouseout.axisX\", () => {\r\n        d3.select(ref.current)\r\n          .selectAll(\"text\")\r\n          .attr(\"opacity\", 0.5)\r\n          .style(\"font-weight\", \"normal\");\r\n      })\r\n      .on(\"mousemove.axisX\", () => {\r\n        const [x] = d3.mouse(anchorEl);\r\n        const xDate = scale.invert(x);\r\n        const textElements = d3.select(ref.current).selectAll(\"text\");\r\n        const data = textElements.data();\r\n        const index = d3.bisector((d) => d).left(data, xDate);\r\n        textElements\r\n          .attr(\"opacity\", (d, i) => (i === index - 1 ? 1 : 0.5))\r\n          .style(\"font-weight\", (d, i) =>\r\n            i === index - 1 ? \"bold\" : \"normal\"\r\n          );\r\n      });\r\n  }, [anchorEl, scale]);\r\n\r\n  return <g ref={ref} transform={transform} {...props} />;\r\n};\r\n\r\nAxis.propTypes = {\r\n  type: PropTypes.oneOf([\"left\", \"bottom\"]).isRequired,\r\n  scale: PropTypes.func.isRequired,\r\n  ticks: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\r\n  tickFormat: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\r\n  transform: PropTypes.string,\r\n  disableAnimation: PropTypes.bool,\r\n  anchorEl: PropTypes.instanceOf(Element)\r\n};\r\n\r\nAxis.defaultProps = {\r\n  ticks: 0,\r\n  tickFormat: null,\r\n  transform: \"\",\r\n  disableAnimation: false,\r\n  anchorEl: null\r\n};\r\n\r\nexport default Axis;\r\n","/** GridLine.js */\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport * as d3 from \"d3\";\r\n\r\nconst GridLine = ({\r\n  type,\r\n  scale,\r\n  ticks,\r\n  size,\r\n  transform,\r\n  disableAnimation,\r\n  ...props\r\n}) => {\r\n  const ref = React.useRef(null);\r\n  React.useEffect(() => {\r\n    const axisGenerator = type === \"vertical\" ? d3.axisBottom : d3.axisLeft;\r\n    const axis = axisGenerator(scale).ticks(ticks).tickSize(-size);\r\n\r\n    const gridGroup = d3.select(ref.current);\r\n    if (disableAnimation) {\r\n      gridGroup.call(axis);\r\n    } else {\r\n      gridGroup.transition().duration(750).ease(d3.easeLinear).call(axis);\r\n    }\r\n    gridGroup.select(\".domain\").remove();\r\n    gridGroup.selectAll(\"text\").remove();\r\n    gridGroup.selectAll(\"line\").attr(\"stroke\", \"rgba(255, 255, 255, 0.1)\");\r\n  }, [scale, ticks, size, disableAnimation]);\r\n\r\n  return <g ref={ref} transform={transform} {...props} />;\r\n};\r\n\r\nGridLine.propTypes = {\r\n  scale: PropTypes.func.isRequired,\r\n  type: PropTypes.oneOf([\"vertical\", \"horizontal\"]).isRequired,\r\n  ticks: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\r\n  transform: PropTypes.string,\r\n  size: PropTypes.number,\r\n  disableAnimation: PropTypes.bool\r\n};\r\n\r\nGridLine.defaultProps = {\r\n  ticks: 0,\r\n  transform: \"\",\r\n  size: 0,\r\n  disableAnimation: false\r\n};\r\n\r\nexport default GridLine;\r\n","/** Overlay.js */\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\n/**\r\n * Use Overlay as a wrapper for components that need mouse events to be handled.\r\n * For example: Tooltip, AxisX.\r\n */\r\nconst Overlay = React.forwardRef(({ width, height, children }, ref) => (\r\n  <g>\r\n    {children}\r\n    <rect ref={ref} width={width} height={height} opacity={0} />\r\n  </g>\r\n));\r\n\r\nOverlay.propTypes = {\r\n  width: PropTypes.number.isRequired,\r\n  height: PropTypes.number.isRequired,\r\n  children: PropTypes.node.isRequired\r\n};\r\n\r\nexport default Overlay;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport * as d3 from \"d3\";\r\nimport { MultiLineDataPropTypes } from \"../utils/propTypes\";\r\nimport {formatPercent } from \"../utils/commonUtils\"\r\n// import { formatPercent, formatPriceUSD } from \"../utils/commonUtils\";\r\n\r\nconst Tooltip = ({\r\n  xScale,\r\n  yScale,\r\n  width,\r\n  height,\r\n  data,\r\n  margin,\r\n  anchorEl,\r\n  children,\r\n  ...props\r\n}) => {\r\n  const ref = React.useRef(null);\r\n  const drawLine = React.useCallback(\r\n    (x) => {\r\n      d3.select(ref.current)\r\n        .select(\".tooltipLine\")\r\n        .attr(\"x1\", x)\r\n        .attr(\"x2\", x)\r\n        .attr(\"y1\", -margin.top)\r\n        .attr(\"y2\", height);\r\n    },\r\n    [ref, height, margin]\r\n  );\r\n\r\n  const drawContent = React.useCallback(\r\n    (x) => {\r\n      const tooltipContent = d3.select(ref.current).select(\".tooltipContent\");\r\n      tooltipContent.attr(\"transform\", (cur, i, nodes) => {\r\n        const nodeWidth = nodes[i]?.getBoundingClientRect()?.width || 0;\r\n        const translateX = nodeWidth + x > width ? x - nodeWidth - 12 : x + 8;\r\n        return `translate(${translateX}, ${-margin.top})`;\r\n      });\r\n      tooltipContent\r\n        .select(\".contentTitle\")\r\n        .text(d3.timeFormat(\"%b %d, %Y\")(xScale.invert(x)));\r\n    },\r\n    [xScale, margin, width]\r\n  );\r\n\r\n  const drawBackground = React.useCallback(() => {\r\n    // reset background size to defaults\r\n    const contentBackground = d3\r\n      .select(ref.current)\r\n      .select(\".contentBackground\");\r\n    contentBackground.attr(\"width\", 125).attr(\"height\", 40);\r\n\r\n    // calculate new background size\r\n    const tooltipContentElement = d3\r\n      .select(ref.current)\r\n      .select(\".tooltipContent\")\r\n      .node();\r\n    if (!tooltipContentElement) return;\r\n\r\n    const contentSize = tooltipContentElement.getBoundingClientRect();\r\n    contentBackground\r\n      .attr(\"width\", contentSize.width + 8)\r\n      .attr(\"height\", contentSize.height + 4);\r\n  }, []);\r\n\r\n  const onChangePosition = React.useCallback((d, i, isVisible) => {\r\n    d3.selectAll(\".performanceItemChange\")\r\n      .filter((td, tIndex) => tIndex === i)\r\n      .text(isVisible ? formatPercent(d.change) : \"\");\r\n\r\n    d3.selectAll(\".performanceItemFollowers\")\r\n      .filter((td, tIndex) => tIndex === i)\r\n      .text(\r\n        d.followers.toLocaleString() && !isVisible ? \"No data\" : d.followers.toLocaleString()\r\n      );\r\n       // .text(\r\n      //   d.marketvalue && !isVisible ? \"No data\" : formatPriceUSD(d.marketvalue)\r\n      // );\r\n\r\n    const maxNameWidth = d3.max(\r\n      d3.selectAll(\".performanceItemName\").nodes(),\r\n      (node) => node.getBoundingClientRect().width\r\n    );\r\n    d3.selectAll(\".performanceItemChange\").attr(\r\n      \"transform\",\r\n      (datum, index, nodes) =>\r\n        `translate(${\r\n          nodes[index].previousSibling.getBoundingClientRect().width + 14\r\n        },4)`\r\n    );\r\n\r\n    d3.selectAll(\".performanceItemFollowers\").attr(\r\n      \"transform\",\r\n      `translate(${maxNameWidth + 60},4)`\r\n    );\r\n  }, []);\r\n\r\n  const followPoints = React.useCallback(() => {\r\n    const [x] = d3.mouse(anchorEl);\r\n    const xDate = xScale.invert(x);\r\n    const bisectDate = d3.bisector((d) => d.date).left;\r\n    let baseXPos = 0;\r\n\r\n    // draw circles on line\r\n    d3.select(ref.current)\r\n      .selectAll(\".tooltipLinePoint\")\r\n      .attr(\"transform\", (cur, i) => {\r\n        const index = bisectDate(data[i].items, xDate, 1);\r\n        const d0 = data[i].items[index - 1];\r\n        const d1 = data[i].items[index];\r\n        const d = xDate - d0?.date > d1?.date - xDate ? d1 : d0;\r\n        if (d.date === undefined && d.followers === undefined) {\r\n          // move point out of container\r\n          return \"translate(-100,-100)\";\r\n        }\r\n        const xPos = xScale(d.date);\r\n        if (i === 0) {\r\n          baseXPos = xPos;\r\n        }\r\n\r\n        let isVisible = true;\r\n        if (xPos !== baseXPos) {\r\n          isVisible = false;\r\n        }\r\n        const yPos = yScale(d.followers);\r\n\r\n        onChangePosition(d, i, isVisible);\r\n\r\n        return isVisible\r\n          ? `translate(${xPos}, ${yPos})`\r\n          : \"translate(-100,-100)\";\r\n      });\r\n\r\n    drawLine(baseXPos);\r\n    drawContent(baseXPos);\r\n    drawBackground();\r\n  }, [\r\n    anchorEl,\r\n    drawLine,\r\n    drawContent,\r\n    drawBackground,\r\n    xScale,\r\n    yScale,\r\n    data,\r\n    onChangePosition\r\n  ]);\r\n\r\n  React.useEffect(() => {\r\n    d3.select(anchorEl)\r\n      .on(\"mouseout.tooltip\", () => {\r\n        d3.select(ref.current).attr(\"opacity\", 0);\r\n      })\r\n      .on(\"mouseover.tooltip\", () => {\r\n        d3.select(ref.current).attr(\"opacity\", 1);\r\n      })\r\n      .on(\"mousemove.tooltip\", () => {\r\n        d3.select(ref.current)\r\n          .selectAll(\".tooltipLinePoint\")\r\n          .attr(\"opacity\", 1);\r\n        followPoints();\r\n      });\r\n  }, [anchorEl, followPoints]);\r\n\r\n  if (!data.length) return null;\r\n\r\n  return (\r\n    <g ref={ref} opacity={0} {...props}>\r\n      <line className=\"tooltipLine\" />\r\n      <g className=\"tooltipContent\">\r\n        <rect className=\"contentBackground\" rx={4} ry={4} opacity={0.2} />\r\n        <text className=\"contentTitle\" transform=\"translate(4,14)\" />\r\n        <g className=\"content\" transform=\"translate(4,32)\">\r\n          {data.map(({ name, color }, i) => (\r\n            <g key={name} transform={`translate(6,${22 * i})`}>\r\n              <circle r={6} fill={color} />\r\n              <text className=\"performanceItemName\" transform=\"translate(10,4)\">\r\n                {name}\r\n              </text>\r\n              <text\r\n                className=\"performanceItemChange\"\r\n                opacity={0.5}\r\n                fontSize={10}\r\n              />\r\n              <text className=\"performanceItemFollowers\" />\r\n            </g>\r\n          ))}\r\n        </g>\r\n      </g>\r\n      {data.map(({ name }) => (\r\n        <circle className=\"tooltipLinePoint\" r={6} key={name} opacity={0} />\r\n      ))}\r\n    </g>\r\n  );\r\n};\r\n\r\nTooltip.propTypes = {\r\n  width: PropTypes.number,\r\n  height: PropTypes.number,\r\n  margin: PropTypes.shape({\r\n    top: PropTypes.number,\r\n    bottom: PropTypes.number,\r\n    left: PropTypes.number,\r\n    right: PropTypes.number\r\n  }),\r\n  data: MultiLineDataPropTypes,\r\n  xScale: PropTypes.func.isRequired,\r\n  yScale: PropTypes.func.isRequired,\r\n  anchorEl: PropTypes.instanceOf(Element)\r\n};\r\n\r\nTooltip.defaultProps = {\r\n  width: 0,\r\n  height: 0,\r\n  margin: {\r\n    top: 0,\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0\r\n  },\r\n  data: [],\r\n  anchorEl: null\r\n};\r\n\r\nexport default Tooltip;\r\n","/* eslint-disable no-bitwise */\r\nimport * as d3 from \"d3\";\r\nimport { DateTime, Interval } from \"luxon\";\r\n\r\n// export const formatPriceUSD = (price) =>\r\n//   new Intl.NumberFormat(\"en-US\", { style: \"currency\", currency: \"USD\" }).format(\r\n//     price\r\n//   );\r\n\r\nexport const formatPercent = (percent = 0) => {\r\n  let result = \"0.00%\";\r\n  const isNumber = typeof percent === \"number\";\r\n  const isString = typeof percent === \"string\";\r\n  const isNotNaN = !Number.isNaN(parseFloat(percent));\r\n\r\n  if ((isNumber || isString) && isNotNaN) {\r\n    result = `${parseFloat(percent) > 0 ? \"+\" : \"\"}${d3.format(\".2%\")(\r\n      percent / 100\r\n    )}`;\r\n  }\r\n  return result;\r\n};\r\n\r\nexport const getPeriod = (date) => {\r\n  if (!date) return 6;\r\n  const now = DateTime.utc();\r\n  const before = DateTime.fromJSDate(date);\r\n  const i = Interval.fromDateTimes(before, now);\r\n  return i.length(\"months\");\r\n};\r\n\r\nexport const getXTicks = (months) => {\r\n  if (months <= 2) return d3.timeDay.every(5).filter((d) => d.getDate() !== 31);\r\n  if (months <= 6) return d3.timeMonth.every(1);\r\n  if (months <= 13) return d3.timeMonth.every(2);\r\n  return d3.timeYear.every(1);\r\n};\r\n\r\nexport const getXTickFormat = (months) => {\r\n  if (months <= 2) return d3.timeFormat(\"%d %b\");\r\n  if (months <= 6) return d3.timeFormat(\"%b\");\r\n  if (months <= 13) return d3.timeFormat(\"%b %Y\");\r\n  return d3.timeFormat(\"%Y\");\r\n};\r\n","/** MultilineChart.controller.js */\r\nimport { useMemo } from \"react\";\r\nimport * as d3 from \"d3\";\r\n\r\nconst useController = ({ data, width, height }) => {\r\n  const xMin = useMemo(\r\n    () => d3.min(data, ({ items }) => d3.min(items, ({ date }) => date)),\r\n    [data]\r\n  );\r\n\r\n  const xMax = useMemo(\r\n    () => d3.max(data, ({ items }) => d3.max(items, ({ date }) => date)),\r\n    [data]\r\n  );\r\n\r\n  const xScale = useMemo(\r\n    () => d3.scaleTime().domain([xMin, xMax]).range([0, width]),\r\n    [xMin, xMax, width]\r\n  );\r\n\r\n  const yMin = useMemo(\r\n    () => d3.min(data, ({ items }) => d3.min(items, ({ followers }) => followers)),\r\n    [data]\r\n  );\r\n\r\n  const yMax = useMemo(\r\n    () => d3.max(data, ({ items }) => d3.max(items, ({followers}) => followers)),\r\n    [data]\r\n  );\r\n\r\n  const yScale = useMemo(() => {\r\n    const indention = (yMax - yMin) * 0.5;\r\n    return d3\r\n      .scaleLinear()\r\n      .domain([yMin - indention, yMax + indention])\r\n      .range([height, 0]);\r\n  }, [height, yMin, yMax]);\r\n\r\n  const yScaleForAxis = useMemo(\r\n    () => d3.scaleBand().domain([yMin, yMax]).range([height, 0]),\r\n    [height, yMin, yMax]\r\n  );\r\n\r\n  const yTickFormat = (d) => {\r\n\r\n    return d\r\n    // `${parseFloat(d) > 0 ? \"+\" : \"\"}${d3.format(\".2%\")(d / 100)}`;\r\n  }\r\n  const xTickFormat = (d) => {\r\n    if (d3.timeFormat(\"%b\")(d) === \"Jan\") {\r\n      return d3.timeFormat(\"%Y\")(d);\r\n    }\r\n    return d3.timeFormat(\"%b\")(d);\r\n  };\r\n  return {\r\n    yTickFormat,\r\n    xScale,\r\n    yScale,\r\n    yScaleForAxis,\r\n    xTickFormat\r\n  };\r\n};\r\n\r\nexport default useController;\r\n","import React from 'react';\r\nimport ResizeObserver from 'resize-observer-polyfill';\r\n\r\n/**\r\n * Use ResizeObserver to listen for the changes to the dimensions of an element\r\n * @params ref - React ref\r\n * @returns {object} - { width, height, top, left }\r\n */\r\nconst useResize = (ref) => {\r\n  const [dimensions, setDimensions] = React.useState(null);\r\n  React.useEffect(() => {\r\n    const element = ref.current;\r\n    const resizeObserver = new ResizeObserver((entries) => {\r\n      entries.forEach((entry) => {\r\n        setDimensions(entry.contentRect);\r\n      });\r\n    });\r\n    resizeObserver.observe(element);\r\n    return () => {\r\n      resizeObserver.unobserve(element);\r\n    };\r\n  }, [ref]);\r\n  return dimensions || {\r\n    width: 0,\r\n    height: 0,\r\n    top: 0,\r\n    left: 0,\r\n  };\r\n};\r\n\r\nexport default useResize;\r\n","import React from \"react\";\r\nimport useResize from \"./useResize\";\r\n\r\nconst useDimensions = ({ maxHeight, margin = {}, scaleCoef = 0.5 }) => {\r\n  const ref = React.useRef(null);\r\n  const { width } = useResize(ref);\r\n\r\n  const height =\r\n    !maxHeight || width * scaleCoef < maxHeight ? width * scaleCoef : maxHeight;\r\n  const innerWidth = width - (margin.left || 0) - (margin.right || 0);\r\n  const innerHeight = height - (margin.top || 0) - (margin.bottom || 0);\r\n\r\n  return [\r\n    ref,\r\n    {\r\n      svgWidth: width,\r\n      svgHeight: height,\r\n      width: innerWidth,\r\n      height: innerHeight\r\n    }\r\n  ];\r\n};\r\n\r\nexport default useDimensions;\r\n","/** MultilineChart.js */\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { MultiLineDataPropTypes } from \"../utils/propTypes\";\r\nimport { Line, Axis, GridLine, Overlay, Tooltip, Area } from \"../components\";\r\nimport useController from \"./MultilineChart.controller\";\r\nimport useDimensions from \"../utils/useDimensions\";\r\n\r\nconst MultilineChart = ({ data = [], margin = {} }) => {\r\n  const overlayRef = React.useRef(null);\r\n  const [containerRef, { svgWidth, svgHeight, width, height }] = useDimensions({\r\n    maxHeight: 800,\r\n    margin\r\n  });\r\n  const controller = useController({ data, width, height });\r\n  const {\r\n    yTickFormat,\r\n    xTickFormat,\r\n    xScale,\r\n    yScale,\r\n    yScaleForAxis\r\n  } = controller;\r\n\r\n  return (\r\n    <div ref={containerRef}>\r\n      <svg width={svgWidth} height={svgHeight}>\r\n        <g transform={`translate(${margin.left},${margin.top})`}>\r\n          <GridLine\r\n            type=\"vertical\"\r\n            scale={xScale}\r\n            ticks={5}\r\n            size={height}\r\n            transform={`translate(0, ${height})`}\r\n          />\r\n          <GridLine\r\n            type=\"horizontal\"\r\n            scale={yScaleForAxis}\r\n            ticks={2}\r\n            size={width}\r\n          />\r\n          <GridLine\r\n            type=\"horizontal\"\r\n            className=\"baseGridLine\"\r\n            scale={yScale}\r\n            ticks={1}\r\n            size={width}\r\n            disableAnimation\r\n          />\r\n          {data.map(({ name, items = [], color }) => (\r\n            <Line\r\n              key={name}\r\n              data={items}\r\n              xScale={xScale}\r\n              yScale={yScale}\r\n              color={color}\r\n            />\r\n          ))}\r\n          {/* <Area data={data[0].items} xScale={xScale} yScale={yScale} /> */}\r\n          <Axis\r\n            type=\"left\"\r\n            scale={yScaleForAxis}\r\n            transform=\"translate(0, -10)\"\r\n            ticks={5}\r\n            tickFormat={yTickFormat}\r\n          />\r\n          <Overlay ref={overlayRef} width={width} height={height}>\r\n            <Axis\r\n              type=\"bottom\"\r\n              className=\"axisX\"\r\n              anchorEl={overlayRef.current}\r\n              scale={xScale}\r\n              transform={`translate(10, ${height - height / 6})`}\r\n              ticks={5}\r\n              tickFormat={xTickFormat}\r\n            />\r\n            <Tooltip\r\n              className=\"tooltip\"\r\n              anchorEl={overlayRef.current}\r\n              width={width}\r\n              height={height}\r\n              margin={margin}\r\n              xScale={xScale}\r\n              yScale={yScale}\r\n              data={data}\r\n            />\r\n          </Overlay>\r\n        </g>\r\n      </svg>\r\n    </div>\r\n  );\r\n};\r\n\r\nMultilineChart.propTypes = {\r\n  data: MultiLineDataPropTypes,\r\n  margin: PropTypes.shape({\r\n    top: PropTypes.number,\r\n    bottom: PropTypes.number,\r\n    left: PropTypes.number,\r\n    right: PropTypes.number\r\n  })\r\n};\r\n\r\nMultilineChart.defaultProps = {\r\n  data: [],\r\n  margin: {\r\n    top: 30,\r\n    right: 15,\r\n    bottom: 15,\r\n    left: 15\r\n  }\r\n};\r\n\r\nexport default MultilineChart;\r\n","import React from \"react\";\r\n\r\nconst Legend = ({ data, selectedItems, onChange }) => (\r\n  <div className=\"legendContainer\">\r\n    {data.map((d) => (\r\n      <div className=\"checkbox\" style={{ color: d.color }} key={d.name}>\r\n        <label>\r\n          {d.name !== \"Total\" && (\r\n            <input\r\n              type=\"checkbox\"\r\n              value={d.name}\r\n              checked={selectedItems.includes(d.name)}\r\n              onChange={() => onChange(d.name)}\r\n            />\r\n          )}\r\n          {d.name}\r\n        </label>\r\n      </div>\r\n    ))}\r\n  </div>\r\n);\r\n\r\nexport default Legend;\r\n","import { dailMaker } from \"./tdGenerator\";\r\n\r\n\r\nexport const chamber = dailMaker(54)\r\n\r\nexport const current = chamber[0].followerData.length - 1\r\n","import { format, interpolate } from \"d3\"\r\n\r\nexport function dailMaker(weeks) {\r\n\r\n    var arr = [];\r\n\r\n    for(let i = 0; i < 160; i++) {\r\n\r\n    var id =+ i;\r\n\r\n    function name() {\r\n\r\n        const nameList = [\"Al \", \"Leo \", \"Mick \", \"Paddy \", \"Mary \", \"Mona \", \"Holly \", \"Thomas \", \"Michael \", \"Eamon \"];\r\n        \r\n        const surnameList = [\"Varadkar\", \"Martin\", \"Ryan\", \"Zappone\", \"Cairns\", \"Byrne\", \"O' Callaghan\", \"Lou MacDonald\", \"Haughey\", \"Ahern\"]\r\n       \r\n        var a = Math.floor(Math.random() * 10);\r\n        var b = Math.floor(Math.random() * 10);\r\n\r\n        var c = nameList[a].concat(surnameList[b])\r\n\r\n        return c\r\n    }\r\n\r\n    \r\n    var a = Math.floor(Math.random() * 8)\r\n\r\n    function party() {\r\n\r\n        const parties = [\"sf\", \"ff\", \"fg\", \"l\", \"ind\", \"grn\", \"pbp\", \"ia\"]\r\n\r\n        return parties[a]\r\n\r\n    } \r\n\r\n    function partyName() {\r\n\r\n\r\n            const partyNames = [\"Sinn Fin\",\"Fianna Fil\",\"Fine Gael\", \"Labour\", \"Independent\", \"Green Party\", \"People Before Profit\", \"Independent Alliance\"]\r\n\r\n            return partyNames[a]\r\n        \r\n\r\n    }\r\n    \r\n    function partyColor() {\r\n\r\n        //const partyColor = [{\"sf\": \"#326760\"}, { \"ff\" : \"#66BB66\"}, {\"fg\":\"#6699FF\"}, {\"l\":\"#CC0000\"}, {\"ind\":\"white\"}, {\"grn\":\"#99CC33\"}, {\"pbp\":\"#660000\"}, {\"ia\": \"#CCCCFF\"}]\r\n        \r\n        const partyColors = [\"#326760\",\"#66BB66\",\"#6699FF\",\"#CC0000\",\"white\",\"#99CC33\",\"#660000\", \"#CCCCFF\"]\r\n\r\n        return partyColors[a]\r\n\r\n    }\r\n\r\n    function mOG() {\r\n\r\n        const isOf = [true, false]\r\n\r\n        var a = Math.floor(Math.random() * 2)\r\n\r\n        return isOf[a]\r\n    }\r\n\r\n\r\n    function followers(weeks) {\r\n\r\n\r\n    \r\n\r\n        var arr = [];\r\n        var followArr = [];\r\n        var dateArr = [];\r\n        var changeArr = [];\r\n        \r\n        function weekDate (weeks) {\r\n\r\n            for(let i = 0; i < weeks; i++) {\r\n\r\n            var date = new Date();\r\n            date.setDate(date.getDate() + (7 * i));\r\n\r\n                function formatDate(date) {\r\n\r\n                    var d = new Date(date),\r\n                        month = '' + (d.getMonth() + 1),\r\n                        day = '' + d.getDate(),\r\n                        year = d.getFullYear();\r\n                \r\n                    if (month.length < 2) \r\n                        month = '0' + month;\r\n                    if (day.length < 2) \r\n                        day = '0' + day;\r\n                \r\n                    return [year, month, day].join('-');\r\n                }\r\n\r\n            dateArr.push(formatDate(date));\r\n        }\r\n\r\n\r\n    return dateArr\r\n}\r\n\r\n    weekDate(weeks);\r\n\r\n\r\n        function follows (weeks) {\r\n\r\n            var base = 1000;\r\n\r\n            //first week\r\n            followArr.push(base);\r\n            \r\n            for( let i = 0; i < weeks - 1; i++) {\r\n\r\n                base =+ (base + Math.floor(Math.random() * 99))\r\n                followArr.push(base)\r\n            }\r\n        }\r\n\r\n    follows(weeks);\r\n\r\n        function change() {\r\n\r\n            for( let i = 0; i < followArr.length; i++) {\r\n\r\n                var lastWeek  = followArr[i - 1]\r\n                var thisWeek = followArr[i]\r\n                var diff = ((thisWeek - lastWeek) / lastWeek) * 100;\r\n                \r\n                //filter NaN at start\r\n\r\n                if(diff !== diff) {changeArr.push(0)} else {\r\n                changeArr.push(diff)\r\n                }\r\n            }\r\n        }\r\n\r\n        change();\r\n\r\n        function toObj(weeks) {\r\n\r\n        \r\n        for(let i = 0; i < weeks; i++) {\r\n\r\n            var followObj = new Object;\r\n            var date = dateArr[i];\r\n            var followers = followArr[i];\r\n            var change = changeArr[i];\r\n\r\n            followObj.date = date;\r\n            followObj.followers = followers;\r\n            followObj.change = change;\r\n            \r\n            arr.push(followObj)\r\n        }\r\n        return arr\r\n        }\r\n\r\n        toObj(weeks);\r\n\r\n        return arr\r\n\r\n    }\r\n\r\n    function retweets(weeks) {\r\n\r\n\r\n    \r\n\r\n        var arr = [];\r\n        var retweetArr = [];\r\n        var dateArr = [];\r\n        var changePerArr = [];\r\n        var changeNumArr = [];\r\n        \r\n        function weekDate (weeks) {\r\n\r\n            for(let i = 0; i < weeks; i++) {\r\n\r\n            var date = new Date();\r\n            date.setDate(date.getDate() + (7 * i));\r\n\r\n                function formatDate(date) {\r\n\r\n                    var d = new Date(date),\r\n                        month = '' + (d.getMonth() + 1),\r\n                        day = '' + d.getDate(),\r\n                        year = d.getFullYear();\r\n                \r\n                    if (month.length < 2) \r\n                        month = '0' + month;\r\n                    if (day.length < 2) \r\n                        day = '0' + day;\r\n                \r\n                    return [year, month, day].join('-');\r\n                }\r\n\r\n            dateArr.push(formatDate(date));\r\n        }\r\n\r\n\r\n    return dateArr\r\n}\r\n\r\n    weekDate(weeks);\r\n\r\n\r\n        function retweets (weeks) {\r\n\r\n            var base = 450;\r\n\r\n            //first week\r\n            retweetArr.push(base);\r\n            \r\n            for( let i = 0; i < weeks - 1; i++) {\r\n\r\n                base =+ (base + Math.floor(Math.random() * 99))\r\n                retweetArr.push(base)\r\n            }\r\n        }\r\n\r\n    retweets(weeks);\r\n\r\n        function changePer() {\r\n\r\n            for( let i = 0; i < retweetArr.length; i++) {\r\n\r\n                var lastWeek  = retweetArr[i - 1]\r\n                var thisWeek = retweetArr[i]\r\n                var diff = ((thisWeek - lastWeek) / lastWeek) * 100;\r\n                \r\n                //filter NaN at start\r\n\r\n                if(diff !== diff) {changePerArr.push(0)} else {\r\n                changePerArr.push(diff)\r\n                }\r\n            }\r\n        }\r\n\r\n        changePer();\r\n\r\n        function changeNum() {\r\n\r\n            for( let i = 0; i < retweetArr.length; i++) {\r\n\r\n                var lastWeek  = retweetArr[i - 1]\r\n                var thisWeek = retweetArr[i]\r\n                var diff = thisWeek - lastWeek\r\n                \r\n                //filter NaN at start\r\n\r\n                if(diff !== diff) {changeNumArr.push(0)} else {\r\n                changeNumArr.push(diff)\r\n                }\r\n            }\r\n        }\r\n\r\n        changeNum();\r\n\r\n\r\n\r\n        function toObj(weeks) {\r\n\r\n        \r\n        for(let i = 0; i < weeks; i++) {\r\n\r\n            var retweetObj = new Object;\r\n            var date = dateArr[i];\r\n            var retweets = retweetArr[i];\r\n            var changeNum = changeNumArr[i]\r\n            var changePer = changePerArr[i];\r\n\r\n            retweetObj.date = date;\r\n            retweetObj.retweets = retweets;\r\n            retweetObj.changeNum = changeNum;\r\n            retweetObj.changePer = changePer;\r\n\r\n            arr.push(retweetObj)\r\n        }\r\n        return arr\r\n        }\r\n\r\n        toObj(weeks);\r\n\r\n        return arr\r\n\r\n    }\r\n\r\n    function sentiment() {\r\n\r\n        return Math.random() * 1\r\n\r\n    }\r\n\r\n    function img() {\r\n\r\n        const imgArr = \r\n    [\"https://data.oireachtas.ie/ie/oireachtas/member/id/Damien-English.D.2002-06-06/image/large\",\r\n    \"https://data.oireachtas.ie/ie/oireachtas/member/id/Peadar-T%C3%B3ib%C3%ADn.D.2011-03-09/image/large\",\r\n    \"https://data.oireachtas.ie/ie/oireachtas/member/id/Johnny-Guirke.D.2020-02-08/image/large\",\r\n    \"https://data.oireachtas.ie/ie/oireachtas/member/id/Eamon-Ryan.D.2002-06-06/image/large\",\r\n    \"https://data.oireachtas.ie/ie/oireachtas/member/id/Leo-Varadkar.D.2007-06-14/image/large\",\r\n    \"https://data.oireachtas.ie/ie/oireachtas/member/id/Holly-Cairns.D.2020-02-08/image/large\",\r\n    \"https://data.oireachtas.ie/ie/oireachtas/member/id/Miche%C3%A1l-Martin.D.1989-06-29/image/large\"\r\n    ]\r\n\r\n    var a = Math.floor(Math.random() * 7)\r\n\r\n    return imgArr[a]\r\n\r\n\r\n    }\r\n\r\n\r\n    function TD() {\r\n\r\n        this.id = id\r\n        this.name = name()\r\n        this.img = img()\r\n        this.party = party()\r\n        this.partyName= partyName()\r\n        this.partyColor = partyColor()\r\n        this.mOG = mOG()\r\n        this.followerData = followers(weeks)\r\n        this.totalFollowers = this.followerData[this.followerData.length - 1].followers\r\n        this.retweetData = retweets(weeks)\r\n        this.totalRetweets = this.retweetData[this.retweetData.length - 1].retweets\r\n        this.sentiment = sentiment()\r\n    }\r\n\r\n\r\n    arr.push(new TD)\r\n\r\n}\r\n\r\nreturn arr\r\n\r\n}","import { chamber } from \"./rollCall\";\r\nimport * as d3 from 'd3'\r\n\r\n\r\nexport const weeks = chamber[0].followerData.length\r\n\r\nexport function chamberFollowerRanking() {\r\n\r\n    var followerSortedChamber = chamber.sort(function(a, b) {\r\n\r\n        return d3.descending(a.totalFollowers, b.totalFollowers)\r\n    \r\n         })\r\n\r\n         return followerSortedChamber\r\n\r\n}\r\n\r\n\r\nexport function chamberRetweetRanking() {\r\n\r\n    var retweetSortedChamber = chamber.sort(function(a, b) {\r\n\r\n        return d3.descending(a.totalRetweets, b.totalRetweets)\r\n    \r\n         })\r\n\r\n         return retweetSortedChamber\r\n\r\n}\r\n\r\n\r\nexport function chamberStats() {\r\n\r\n    var weeks = chamber[0].followerData.length\r\n\r\n\r\n    function follows() {\r\n        \r\n        var chamberFollowers = chamber.map(td => td.followerData[0].followers)\r\n\r\n        var chamberFollowersTotal = chamberFollowers.reduce((a, b) => a + b, 0)\r\n\r\n        return chamberFollowersTotal\r\n\r\n    }\r\n\r\n\r\n\r\n    function followers() {\r\n\r\n\r\n    \r\n\r\n        var arr = [];\r\n        var followArr = [];\r\n        var dateArr = [];\r\n        var changeArr = [];\r\n        \r\n        function weekDate () {\r\n\r\n            for(let i = 0; i < weeks; i++) {\r\n\r\n            var date = new Date();\r\n            date.setDate(date.getDate() + (7 * i));\r\n\r\n                function formatDate(date) {\r\n\r\n                    var d = new Date(date),\r\n                        month = '' + (d.getMonth() + 1),\r\n                        day = '' + d.getDate(),\r\n                        year = d.getFullYear();\r\n                \r\n                    if (month.length < 2) \r\n                        month = '0' + month;\r\n                    if (day.length < 2) \r\n                        day = '0' + day;\r\n                \r\n                    return [year, month, day].join('-');\r\n                }\r\n\r\n            dateArr.push(formatDate(date));\r\n        }\r\n\r\n\r\n    return dateArr\r\n}\r\n\r\n    weekDate();\r\n\r\n\r\n        function follows () {\r\n            \r\n            for( let i = 0; i < weeks; i++) {\r\n\r\n\r\n                var chamberFollowers = chamber.map(td => td.followerData[i].followers)\r\n\r\n                var chamberFollowersTotal = chamberFollowers.reduce((a, b) => a + b, 0)\r\n\r\n                followArr.push(chamberFollowersTotal)\r\n        \r\n            }\r\n        }\r\n\r\n    follows();\r\n\r\n        function change() {\r\n\r\n            for( let i = 0; i < followArr.length; i++) {\r\n\r\n                var lastWeek  = followArr[i - 1]\r\n                var thisWeek = followArr[i]\r\n                var diff = ((thisWeek - lastWeek) / lastWeek) * 100;\r\n                \r\n                //filter NaN at start\r\n\r\n                if(diff !== diff) {changeArr.push(0)} else {\r\n                changeArr.push(diff)\r\n                }\r\n            }\r\n        }\r\n\r\n        change();\r\n\r\n        function toObj() {\r\n\r\n        \r\n        for(let i = 0; i < weeks; i++) {\r\n\r\n            var followObj = new Object;\r\n            var date = dateArr[i];\r\n            var followers = followArr[i];\r\n            var change = changeArr[i];\r\n\r\n            followObj.date = date;\r\n            followObj.followers = followers;\r\n            followObj.change = change;\r\n            \r\n            arr.push(followObj)\r\n        }\r\n        return arr\r\n        }\r\n\r\n        toObj();\r\n\r\n        return arr\r\n\r\n    }\r\n\r\n    function retweets() {\r\n\r\n\r\n    \r\n\r\n        var arr = [];\r\n        var retweetArr = [];\r\n        var dateArr = [];\r\n        var changeArr = [];\r\n        \r\n        function weekDate () {\r\n\r\n            for(let i = 0; i < weeks; i++) {\r\n\r\n            var date = new Date();\r\n            date.setDate(date.getDate() + (7 * i));\r\n\r\n                function formatDate(date) {\r\n\r\n                    var d = new Date(date),\r\n                        month = '' + (d.getMonth() + 1),\r\n                        day = '' + d.getDate(),\r\n                        year = d.getFullYear();\r\n                \r\n                    if (month.length < 2) \r\n                        month = '0' + month;\r\n                    if (day.length < 2) \r\n                        day = '0' + day;\r\n                \r\n                    return [year, month, day].join('-');\r\n                }\r\n\r\n            dateArr.push(formatDate(date));\r\n        }\r\n\r\n\r\n    return dateArr\r\n}\r\n\r\n    weekDate();\r\n\r\n\r\n        function retweets () {\r\n            \r\n            for( let i = 0; i < weeks; i++) {\r\n\r\n\r\n                var chamberRetweets = chamber.map(td => td.retweetData[i].retweets)\r\n\r\n                var chamberRetweetsTotal = chamberRetweets.reduce((a, b) => a + b, 0)\r\n\r\n                retweetArr.push(chamberRetweetsTotal)\r\n        \r\n            }\r\n        }\r\n\r\n    retweets();\r\n\r\n        function change() {\r\n\r\n            for( let i = 0; i < retweetArr.length; i++) {\r\n\r\n                var lastWeek  = retweetArr[i - 1]\r\n                var thisWeek = retweetArr[i]\r\n                var diff = ((thisWeek - lastWeek) / lastWeek) * 100;\r\n                \r\n                //filter NaN at start\r\n\r\n                if(diff !== diff) {changeArr.push(0)} else {\r\n                changeArr.push(diff)\r\n                }\r\n            }\r\n        }\r\n\r\n        change();\r\n\r\n        function toObj() {\r\n\r\n        \r\n        for(let i = 0; i < weeks; i++) {\r\n\r\n            var retweetObj = new Object;\r\n            var date = dateArr[i];\r\n            var retweets = retweetArr[i];\r\n            var change = changeArr[i];\r\n\r\n            retweetObj.date = date;\r\n            retweetObj.retweets = retweets;\r\n            retweetObj.change = change;\r\n            \r\n            arr.push(retweetObj)\r\n        }\r\n        return arr\r\n        }\r\n\r\n        toObj();\r\n\r\n        return arr\r\n\r\n    }\r\n\r\n\r\n\r\n    function ChamberObj() {\r\n\r\n        this.name = 'Dil ireann'\r\n        this.followerData = followers()\r\n        this.retweetData = retweets()\r\n\r\n    }\r\n\r\n    return new ChamberObj\r\n\r\n\r\n\r\n}\r\n\r\nexport function justParty(party, data) {\r\n\r\n    var TDData = data\r\n\r\n    var just = TDData.filter(td => td.party == party)\r\n\r\n    return just\r\n\r\n}\r\n\r\n\r\nexport function partyStats(party) {\r\n\r\n    //chamber\r\n    var currentParty = justParty(party) \r\n\r\n    function followers() {\r\n\r\n        var arr = [];\r\n        var followArr = [];\r\n        var dateArr = [];\r\n        var changeArr = [];\r\n        \r\n        function weekDate () {\r\n\r\n            for(let i = 0; i < weeks; i++) {\r\n\r\n            var date = new Date();\r\n            date.setDate(date.getDate() + (7 * i));\r\n\r\n                function formatDate(date) {\r\n\r\n                    var d = new Date(date),\r\n                        month = '' + (d.getMonth() + 1),\r\n                        day = '' + d.getDate(),\r\n                        year = d.getFullYear();\r\n                \r\n                    if (month.length < 2) \r\n                        month = '0' + month;\r\n                    if (day.length < 2) \r\n                        day = '0' + day;\r\n                \r\n                    return [year, month, day].join('-');\r\n                }\r\n\r\n            dateArr.push(formatDate(date));\r\n        }\r\n\r\n\r\n    return dateArr\r\n}\r\n\r\n    weekDate();\r\n\r\n\r\n        function follows () {\r\n            \r\n            for( let i = 0; i < weeks; i++) {\r\n\r\n\r\n                var partyFollowers = currentParty.map(td => td.followerData[i].followers)\r\n\r\n                var partyFollowersTotal = partyFollowers.reduce((a, b) => a + b, 0)\r\n\r\n                followArr.push(partyFollowersTotal)\r\n        \r\n            }\r\n        }\r\n\r\n    follows();\r\n\r\n        function change() {\r\n\r\n            for( let i = 0; i < followArr.length; i++) {\r\n\r\n                var lastWeek  = followArr[i - 1]\r\n                var thisWeek = followArr[i]\r\n                var diff = ((thisWeek - lastWeek) / lastWeek) * 100;\r\n                \r\n                //filter NaN at start\r\n\r\n                if(diff !== diff) {changeArr.push(0)} else {\r\n                changeArr.push(diff)\r\n                }\r\n            }\r\n        }\r\n\r\n        change();\r\n\r\n        function toObj() {\r\n\r\n        for(let i = 0; i < weeks; i++) {\r\n\r\n            var followObj = new Object;\r\n            var date = dateArr[i];\r\n            var followers = followArr[i];\r\n            var change = changeArr[i];\r\n\r\n            followObj.date = date;\r\n            followObj.followers = followers;\r\n            followObj.change = change;\r\n            \r\n            arr.push(followObj)\r\n\r\n            \r\n        }\r\n    return arr\r\n        \r\n        }\r\n\r\n        toObj();\r\n\r\n\r\n        return arr\r\n    } \r\n\r\n    function retweets() {\r\n\r\n        var arr = [];\r\n        var retweetArr = [];\r\n        var dateArr = [];\r\n        var changeArr = [];\r\n        \r\n        function weekDate () {\r\n\r\n            for(let i = 0; i < weeks; i++) {\r\n\r\n            var date = new Date();\r\n            date.setDate(date.getDate() + (7 * i));\r\n\r\n                function formatDate(date) {\r\n\r\n                    var d = new Date(date),\r\n                        month = '' + (d.getMonth() + 1),\r\n                        day = '' + d.getDate(),\r\n                        year = d.getFullYear();\r\n                \r\n                    if (month.length < 2) \r\n                        month = '0' + month;\r\n                    if (day.length < 2) \r\n                        day = '0' + day;\r\n                \r\n                    return [year, month, day].join('-');\r\n                }\r\n\r\n            dateArr.push(formatDate(date));\r\n        }\r\n\r\n\r\n    return dateArr\r\n}\r\n\r\n    weekDate();\r\n\r\n\r\n        function retweets () {\r\n            \r\n            for( let i = 0; i < weeks; i++) {\r\n\r\n\r\n                var partyRetweets = currentParty.map(td => td.retweetData[i].retweets)\r\n\r\n                var partyRetweetsTotal = partyRetweets.reduce((a, b) => a + b, 0)\r\n\r\n                retweetArr.push(partyRetweetsTotal)\r\n        \r\n            }\r\n        }\r\n\r\n    retweets();\r\n\r\n        function change() {\r\n\r\n            for( let i = 0; i < retweetArr.length; i++) {\r\n\r\n                var lastWeek  = retweetArr[i - 1]\r\n                var thisWeek = retweetArr[i]\r\n                var diff = ((thisWeek - lastWeek) / lastWeek) * 100;\r\n                \r\n                //filter NaN at start\r\n\r\n                if(diff !== diff) {changeArr.push(0)} else {\r\n                changeArr.push(diff)\r\n                }\r\n            }\r\n        }\r\n\r\n        change();\r\n\r\n        function toObj() {\r\n\r\n        for(let i = 0; i < weeks; i++) {\r\n\r\n            var retweetObj = new Object;\r\n            var date = dateArr[i];\r\n            var retweets = retweetArr[i];\r\n            var change = changeArr[i];\r\n\r\n            retweetObj.date = date;\r\n            retweetObj.retweets = retweets;\r\n            retweetObj.change = change;\r\n            \r\n            arr.push(retweetObj)\r\n\r\n            \r\n        }\r\n    return arr\r\n        \r\n        }\r\n\r\n        toObj();\r\n\r\n\r\n        return arr\r\n    }\r\n\r\n\r\n    function PartyObj() {\r\n\r\n        this.id = justParty(party)[0].party\r\n        this.name = justParty(party)[0].partyName\r\n        this.partyColor = justParty(party)[0].partyColor\r\n        this.followerData = followers()\r\n        this.retweetData = retweets()\r\n\r\n    }\r\n\r\n    return new PartyObj()\r\n}\r\n\r\nexport function allParties() {\r\n\r\n    const parties = [];\r\n\r\n    const partyIDs = [\"sf\", \"ff\", \"fg\", \"ind\", \"grn\", \"pbp\", \"l\", \"ia\"];\r\n\r\n\r\n    for(let i = 0; i < partyIDs.length; i++) {\r\n        parties.push(partyStats(partyIDs[i]))\r\n    }\r\n\r\n    return parties\r\n\r\n\r\n}\r\n\r\n","/** App.js */\r\nimport React, {useState, useEffect} from \"react\";\r\nimport MultilineChart from \"./views/MultilineChart\";\r\nimport Legend from \"./components/Legend\";\r\nimport vcit from \"./data/VCIT.json\";\r\nimport portfolio from \"./data/portfolio.json\";\r\nimport schc from \"./data/SCHC.json\";\r\nimport \"./styles.css\";\r\nimport fiannafail from \"./data/fiannaFail.json\"\r\nimport finegael from \"./data/finegael.json\"\r\nimport ind from \"./data/ind.json\"\r\nimport sinnfein from \"./data/sinnfein.json\"\r\nimport labour from \"./data/labour.json\"\r\nimport { chamberStats } from './../../../Backend/metaData';\r\nimport axios from \"axios\";\r\nimport { Typography } from \"@material-ui/core\";\r\n\r\n\r\n\r\n\r\n\r\nexport default function MultilineAppV3PartyFollowers (data) {\r\n\r\n  const [selectedItems, setSelectedItems] = useState([\"Aont\", \"Independents\", \"Green Party\", \"Labour\", \"Fianna Fil\", \"Fine Gael\", \"Social Democrats\", \"People Before Profit\", \"Independents 4 Change\", \"Sinn Fin\"]);\r\n  const [TDData, setTDData] = useState(null)\r\n  \r\n  \r\n  \r\n  useEffect(() => {\r\n\r\n    setTDData(data)\r\n\r\n}, []);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst onChangeSelection = (name) => {\r\n    const newSelectedItems = selectedItems.includes(name)\r\n      ? selectedItems.filter((item) => item !== name)\r\n      : [...selectedItems, name];\r\n    setSelectedItems(newSelectedItems);\r\n  };\r\n  \r\nif (!TDData) return null;\r\n\r\n\r\n\r\nconsole.log(TDData.data.filter(d => d.party == \"Fine Gael\"))\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// const totalData = {\r\n//   name: \"Total\",\r\n//   color: \"#ffffff\",\r\n//   items: partyStats('sf').followerData.map((d) => ({ ...d, date: new Date(d.date) }))\r\n// };\r\n  const weeks = TDData.data[0].followerData.length\r\n\r\nfunction justParty(party) {\r\n\r\n\r\n  var just = TDData.data.filter(td => td.party == party)\r\n\r\n  \r\n\r\n  return just\r\n\r\n}\r\n\r\nfunction partyStats(party) {\r\n\r\n  //chamber\r\n  var currentParty = justParty(party) \r\n\r\n  function followers() {\r\n\r\n      var arr = [];\r\n      var followArr = [];\r\n      // var dateArr = currentParty[0].followerData.map(d => d.date);\r\n      var dateArr = currentParty[0].followerData.map(function(d) {\r\n\r\n                      var apart = d.date.split('/')\r\n                      var day = apart[0]\r\n                      var month = apart[1]\r\n                      var year = apart[2]\r\n\r\n                      var together = []\r\n                      together.push(month, day, year)\r\n                      var allDone = together.toString().replace(\",\",\"/\").replace(\",\",\"/\")\r\n                      return allDone\r\n                    })\r\n      var changeArr = [];\r\n\r\n\r\n\r\n      console.log(currentParty[0].retweetData.map(function(d) {\r\n\r\n        var apart = d.date.split('/')\r\n        var day = apart[0]\r\n        var month = apart[1]\r\n        var year = apart[2]\r\n\r\n        var together = []\r\n        together.push(month, day, year)\r\n        var allDone = together.toString().replace(\",\",\"/\").replace(\",\",\"/\")\r\n        return allDone\r\n\r\n      }))\r\n\r\n      // function weekDate () {\r\n\r\n//           for(let i = 0; i < weeks; i++) {\r\n\r\n//           var date = new Date();\r\n//           date.setDate(date.getDate() + (7 * i));\r\n\r\n//               function formatDate(date) {\r\n\r\n//                   var d = new Date(date),\r\n//                       month = '' + (d.getMonth() + 1),\r\n//                       day = '' + d.getDate(),\r\n//                       year = d.getFullYear();\r\n              \r\n//                   if (month.length < 2) \r\n//                       month = '0' + month;\r\n//                   if (day.length < 2) \r\n//                       day = '0' + day;\r\n              \r\n//                   return [year, month, day].join('-');\r\n//               }\r\n\r\n//           dateArr.push(formatDate(date));\r\n//       }\r\n\r\n\r\n//   return dateArr\r\n// }\r\n\r\n//   weekDate();\r\n\r\n\r\n      function follows () {\r\n          \r\n          for( let i = 0; i < weeks; i++) {\r\n\r\n\r\n              var partyFollowers = currentParty.map(td => td.followerData[i].followers)\r\n\r\n              var partyFollowersTotal = partyFollowers.reduce((a, b) => a + b, 0)\r\n\r\n              followArr.push(partyFollowersTotal)\r\n      \r\n          }\r\n      }\r\n\r\n  follows();\r\n\r\n      function change() {\r\n\r\n          for( let i = 0; i < followArr.length; i++) {\r\n\r\n              var lastWeek  = followArr[i - 1]\r\n              var thisWeek = followArr[i]\r\n              var diff = ((thisWeek - lastWeek) / lastWeek) * 100;\r\n              \r\n              //filter NaN at start\r\n\r\n              if(diff !== diff) {changeArr.push(0)} else {\r\n              changeArr.push(diff)\r\n              }\r\n          }\r\n      }\r\n\r\n      change();\r\n\r\n      function toObj() {\r\n\r\n      for(let i = 0; i < weeks; i++) {\r\n\r\n          var followObj = new Object;\r\n          var date = dateArr[i];\r\n          var followers = followArr[i];\r\n          var change = changeArr[i];\r\n\r\n          followObj.date = date;\r\n          followObj.followers = followers;\r\n          followObj.change = change;\r\n          \r\n          arr.push(followObj)\r\n\r\n          \r\n      }\r\n  return arr\r\n      \r\n      }\r\n\r\n      toObj();\r\n\r\n\r\n      return arr\r\n  } \r\n\r\n  function retweets() {\r\n\r\n      var arr = [];\r\n      var retweetArr = [];\r\n      var dateArr = currentParty[0].retweetData.map(function(d) {\r\n\r\n        var apart = d.date.split('/')\r\n        var day = apart[0]\r\n        var month = apart[1]\r\n        var year = apart[2]\r\n\r\n        var together = []\r\n        together.push(month, day, year)\r\n        var allDone = together.toString().replace(\",\",\"/\").replace(\",\",\"/\")\r\n        return allDone\r\n\r\n      })\r\n      var changeArr = [];\r\n\r\n\r\n\r\n      \r\n//       function weekDate () {\r\n\r\n//           for(let i = 0; i < weeks; i++) {\r\n\r\n//           var date = new Date();\r\n//           date.setDate(date.getDate() + (7 * i));\r\n\r\n//               function formatDate(date) {\r\n\r\n//                   var d = new Date(date),\r\n//                       month = '' + (d.getMonth() + 1),\r\n//                       day = '' + d.getDate(),\r\n//                       year = d.getFullYear();\r\n              \r\n//                   if (month.length < 2) \r\n//                       month = '0' + month;\r\n//                   if (day.length < 2) \r\n//                       day = '0' + day;\r\n              \r\n//                   return [year, month, day].join('-');\r\n//               }\r\n\r\n//           dateArr.push(formatDate(date));\r\n//       }\r\n\r\n\r\n//   return dateArr\r\n// }\r\n\r\n//   weekDate();\r\n\r\n\r\n      function retweets () {\r\n          \r\n          for( let i = 0; i < weeks; i++) {\r\n\r\n\r\n              var partyRetweets = currentParty.map(td => td.retweetData[i].retweets)\r\n\r\n              var partyRetweetsTotal = partyRetweets.reduce((a, b) => a + b, 0)\r\n\r\n              retweetArr.push(partyRetweetsTotal)\r\n      \r\n          }\r\n      }\r\n\r\n  retweets();\r\n\r\n      function change() {\r\n\r\n          for( let i = 0; i < retweetArr.length; i++) {\r\n\r\n              var lastWeek  = retweetArr[i - 1]\r\n              var thisWeek = retweetArr[i]\r\n              var diff = ((thisWeek - lastWeek) / lastWeek) * 100;\r\n              \r\n              //filter NaN at start\r\n\r\n              if(diff !== diff) {changeArr.push(0)} else {\r\n              changeArr.push(diff)\r\n              }\r\n          }\r\n      }\r\n\r\n      change();\r\n\r\n      function toObj() {\r\n\r\n      for(let i = 0; i < weeks; i++) {\r\n\r\n          var retweetObj = new Object;\r\n          var date = dateArr[i];\r\n          var retweets = retweetArr[i];\r\n          var change = changeArr[i];\r\n\r\n          retweetObj.date = date;\r\n          retweetObj.retweets = retweets;\r\n          retweetObj.change = change;\r\n          \r\n          arr.push(retweetObj)\r\n\r\n          \r\n      }\r\n  return arr\r\n      \r\n      }\r\n\r\n      toObj();\r\n\r\n\r\n      return arr\r\n  }\r\n\r\n  function polarity() {\r\n\r\n    var arr = [];\r\n    var polarityArr = [];\r\n    var dateArr = currentParty[0].sentimentData.map(function(d) {\r\n\r\n      var apart = d.date.split('/')\r\n      var day = apart[0]\r\n      var month = apart[1]\r\n      var year = apart[2]\r\n\r\n      var together = []\r\n      together.push(month, day, year)\r\n      var allDone = together.toString().replace(\",\",\"/\").replace(\",\",\"/\")\r\n      return allDone\r\n\r\n    })\r\n    var changeArr = [];\r\n\r\n\r\n\r\n    \r\n//       function weekDate () {\r\n\r\n//           for(let i = 0; i < weeks; i++) {\r\n\r\n//           var date = new Date();\r\n//           date.setDate(date.getDate() + (7 * i));\r\n\r\n//               function formatDate(date) {\r\n\r\n//                   var d = new Date(date),\r\n//                       month = '' + (d.getMonth() + 1),\r\n//                       day = '' + d.getDate(),\r\n//                       year = d.getFullYear();\r\n            \r\n//                   if (month.length < 2) \r\n//                       month = '0' + month;\r\n//                   if (day.length < 2) \r\n//                       day = '0' + day;\r\n            \r\n//                   return [year, month, day].join('-');\r\n//               }\r\n\r\n//           dateArr.push(formatDate(date));\r\n//       }\r\n\r\n\r\n//   return dateArr\r\n// }\r\n\r\n//   weekDate();\r\n\r\n\r\n    function polarityAvg () {\r\n        \r\n        for( let i = 0; i < weeks; i++) {\r\n\r\n          var tdAmount = currentParty.length\r\n\r\n            var partyPolarity = currentParty.map(td => td.sentimentData[i].polarity)\r\n\r\n            var partyPolarityAvg = partyPolarity.reduce((a, b) => a + b, 0) \r\n\r\n            polarityArr.push(partyPolarityAvg)\r\n    \r\n        }\r\n    }\r\n\r\npolarityAvg();\r\n\r\n    function change() {\r\n\r\n        for( let i = 0; i < polarityArr.length; i++) {\r\n\r\n            var lastWeek  = polarityArr[i - 1]\r\n            var thisWeek = polarityArr[i]\r\n            var diff = ((thisWeek - lastWeek) / lastWeek) * 100;\r\n            \r\n            //filter NaN at start\r\n\r\n            if(diff !== diff) {changeArr.push(0)} else {\r\n            changeArr.push(diff)\r\n            }\r\n        }\r\n    }\r\n\r\n    change();\r\n\r\n    function toObj() {\r\n\r\n    for(let i = 0; i < weeks; i++) {\r\n\r\n        var polarityObj = new Object;\r\n        var date = dateArr[i];\r\n        var polAvg = polarityArr[i];\r\n        var change = changeArr[i];\r\n\r\n        polarityObj.date = date;\r\n        polarityObj.polarityAvg = polAvg\r\n        polarityObj.change = change;\r\n        \r\n        arr.push(polarityObj)\r\n\r\n        \r\n    }\r\nreturn arr\r\n    \r\n    }\r\n\r\n    toObj();\r\n\r\n\r\n    return arr\r\n}\r\n\r\n\r\n  function PartyObj() {\r\n\r\n      this.id = justParty(party)[0].party\r\n      this.name = justParty(party)[0].partyName\r\n      this.partyColor = justParty(party)[0].partyColor\r\n      this.followerData = followers()\r\n      this.retweetData = retweets()\r\n      this.polarityData = polarity()\r\n\r\n  }\r\n\r\n  return new PartyObj()\r\n}\r\n\r\nconsole.log(partyStats(\"Aont\", TDData))\r\n\r\nconst fineGaelData = {\r\n  name: \"Fine Gael\",\r\n  color: \"#6699FF\",\r\n  items: partyStats('Fine Gael', TDData).followerData.map((d) => ({ ...d, date: new Date(d.date) }))\r\n};\r\n\r\nconsole.log(fineGaelData)\r\nconst sinnFeinData = {\r\n  name: \"Sinn Fin\",\r\n  color: \"#326760\",\r\n  items: partyStats(\"Sinn Fin\", TDData).followerData.map((d) => ({ ...d, date: new Date(d.date) }))\r\n};\r\n\r\nconst fiannaFailData = {\r\n  name: \"Fianna Fil\",\r\n  color: \"#66BB66\",\r\n  items: partyStats('Fianna Fil', TDData).followerData.map((d) => ({ ...d, date: new Date(d.date) }))\r\n};\r\n\r\nconst labourData = {\r\n  name: \"Labour\",\r\n  color: \"#CC0000\",\r\n  items: partyStats('Labour Party', TDData).followerData.map((d) => ({ ...d, date: new Date(d.date) }))\r\n};\r\n\r\nconst peopleBeforeProfitData = {\r\n  name: \"People Before Profit\",\r\n  color: \"#660000\",\r\n  items: partyStats('Solidarity - People Before Profit', TDData).followerData.map((d) => ({ ...d, date: new Date(d.date) }))\r\n};\r\n\r\nconst independentData = {\r\n  name: \"Independents\",\r\n  color: \"white\",\r\n  items: partyStats('Independent').followerData.map((d) => ({ ...d, date: new Date(d.date) }))\r\n};\r\n\r\nconst greenPartyData = {\r\n  name: \"Green Party\",\r\n  color: \"#99CC33\",\r\n  items: partyStats('Green Party').followerData.map((d) => ({ ...d, date: new Date(d.date) }))\r\n};\r\n\r\nconst independents4ChangeData = {\r\n  name: \"Independents 4 Change\",\r\n  color: \"grey\",\r\n  items: partyStats('Independents 4 Change').followerData.map((d) => ({ ...d, date: new Date(d.date) }))\r\n};\r\n\r\nconst aontuData = {\r\n  name: \"Aont\",\r\n  color: \"#44532A\",\r\n  items: partyStats('Aont').followerData.map((d) => ({ ...d, date: new Date(d.date) }))\r\n};\r\n\r\nconst socDemData = {\r\n  name: \"Social Democrats\",\r\n  color: \"#752F8B\",\r\n  items: partyStats('Social Democrats').followerData.map((d) => ({ ...d, date: new Date(d.date) }))\r\n};\r\n\r\n  console.log(partyStats(\"Aont\"))\r\n  console.log(aontuData)\r\n  \r\n\r\n  \r\n  const chartData = [\r\n    ...[fineGaelData, fiannaFailData, sinnFeinData, labourData, independentData,  independents4ChangeData, peopleBeforeProfitData, greenPartyData, aontuData, socDemData].filter((d) => selectedItems.includes(d.name))\r\n  ];\r\n\r\n  \r\n\r\n\r\nconst legendData = [ fineGaelData, sinnFeinData, fiannaFailData, independentData, labourData, independents4ChangeData, peopleBeforeProfitData, greenPartyData, aontuData, socDemData ];\r\n\r\n\r\n  return (\r\n  <div className=\"featuredItem\" style={{textAlign: \"center\"}}>\r\n    <Typography variant=\"h5\">Party Followers</Typography>\r\n      <Legend\r\n        data={legendData}\r\n        selectedItems={selectedItems}\r\n        onChange={onChangeSelection}\r\n      />\r\n      <MultilineChart data={chartData} />\r\n      </div>\r\n\r\n  );\r\n}\r\n\r\n","import { arrayOf, shape, string, date as dateProp, number } from \"prop-types\";\r\n\r\nexport const MultiLineDataItemsPropTypes = arrayOf(\r\n  shape({\r\n    date: dateProp,\r\n    change: number,\r\n    followers: number\r\n  })\r\n);\r\n\r\nexport const MultiLineDataPropTypes = arrayOf(\r\n  shape({\r\n    name: string,\r\n    items: MultiLineDataItemsPropTypes,\r\n    color: string\r\n  })\r\n);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport * as d3 from \"d3\";\r\n\r\nconst Line = ({\r\n  xScale,\r\n  yScale,\r\n  color,\r\n  data,\r\n  isSmooth,\r\n  animation,\r\n  ...props\r\n}) => {\r\n  const ref = React.useRef(null);\r\n  // Define different types of animation that we can use\r\n  const animateLeft = React.useCallback(() => {\r\n    // NOTE: for some reason getTotalLength() doesn't work in tests\r\n    // in this codesandbox so we added default value just for tests\r\n    const totalLength = ref.current.getTotalLength\r\n      ? ref.current.getTotalLength()\r\n      : 500;\r\n    d3.select(ref.current)\r\n      .attr(\"opacity\", 1)\r\n      .attr(\"stroke-dasharray\", `${totalLength},${totalLength}`)\r\n      .attr(\"stroke-dashoffset\", totalLength)\r\n      .transition()\r\n      .duration(750)\r\n      .ease(d3.easeLinear)\r\n      .attr(\"stroke-dashoffset\", 0);\r\n  }, []);\r\n  const animateFadeIn = React.useCallback(() => {\r\n    d3.select(ref.current)\r\n      .transition()\r\n      .duration(750)\r\n      .ease(d3.easeLinear)\r\n      .attr(\"opacity\", 1);\r\n  }, []);\r\n  const noneAnimation = React.useCallback(() => {\r\n    d3.select(ref.current).attr(\"opacity\", 1);\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    switch (animation) {\r\n      case \"left\":\r\n        animateLeft();\r\n        break;\r\n      case \"fadeIn\":\r\n        animateFadeIn();\r\n        break;\r\n      case \"none\":\r\n      default:\r\n        noneAnimation();\r\n        break;\r\n    }\r\n  }, [animateLeft, animateFadeIn, noneAnimation, animation]);\r\n\r\n  // Recalculate line length if scale has changed\r\n  React.useEffect(() => {\r\n    if (animation === \"left\") {\r\n      const totalLength = ref.current.getTotalLength\r\n        ? ref.current.getTotalLength()\r\n        : 500;\r\n      d3.select(ref.current).attr(\r\n        \"stroke-dasharray\",\r\n        `${totalLength},${totalLength}`\r\n      );\r\n    }\r\n  }, [xScale, yScale, animation]);\r\n\r\n  const line = d3\r\n    .line()\r\n    .x((d) => xScale(d.date))\r\n    .y((d) => yScale(d.followers));\r\n\r\n  const d = line(data);\r\n\r\n  return (\r\n    <path\r\n      ref={ref}\r\n      d={d?.match(/NaN|undefined/) ? \"\" : d}\r\n      stroke={color}\r\n      strokeWidth={3}\r\n      fill=\"none\"\r\n      opacity={0}\r\n      {...props}\r\n    />\r\n  );\r\n};\r\n\r\nLine.propTypes = {\r\n  xScale: PropTypes.func.isRequired,\r\n  yScale: PropTypes.func.isRequired,\r\n  data: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      date: PropTypes.date,\r\n      change: PropTypes.number\r\n    })\r\n  ),\r\n  color: PropTypes.string,\r\n  isSmooth: PropTypes.bool,\r\n  animation: PropTypes.oneOf([\"left\", \"fadeIn\", \"none\"])\r\n};\r\n\r\nLine.defaultProps = {\r\n  data: [],\r\n  color: \"white\",\r\n  isSmooth: false,\r\n  animation: \"left\"\r\n};\r\n\r\nexport default Line;\r\n","/** Area.js */\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport * as d3 from \"d3\";\r\n\r\nconst Area = ({ xScale, yScale, color, data, disableAnimation, ...props }) => {\r\n  const ref = React.useRef(null);\r\n  React.useEffect(() => {\r\n    if (disableAnimation) {\r\n      d3.select(ref.current).attr(\"opacity\", 1);\r\n      return;\r\n    }\r\n    d3.select(ref.current)\r\n      .transition()\r\n      .duration(750)\r\n      .ease(d3.easeBackIn)\r\n      .attr(\"opacity\", 1);\r\n  }, [disableAnimation]);\r\n\r\n  const d = React.useMemo(() => {\r\n    const area = d3\r\n      .area()\r\n      .x(({ date }) => xScale(date))\r\n      .y1(({ followers }) => yScale(followers))\r\n      .y0(() => yScale(yScale.domain()[0]));\r\n    return area(data);\r\n  }, [xScale, yScale, data]);\r\n\r\n  return (\r\n    <>\r\n      <path\r\n        ref={ref}\r\n        d={d}\r\n        fill={`url(#gradient-${color})`}\r\n        opacity={0}\r\n        {...props}\r\n      />\r\n      <defs>\r\n        <linearGradient\r\n          id={`gradient-${color}`}\r\n          x1=\"0%\"\r\n          x2=\"0%\"\r\n          y1=\"0%\"\r\n          y2=\"100%\"\r\n        >\r\n          <stop offset=\"0%\" stopColor={color} stopOpacity={0.2} />\r\n          <stop offset=\"100%\" stopColor={color} stopOpacity={0} />\r\n        </linearGradient>\r\n      </defs>\r\n    </>\r\n  );\r\n};\r\n\r\nArea.propTypes = {\r\n  xScale: PropTypes.func.isRequired,\r\n  yScale: PropTypes.func.isRequired,\r\n  data: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      date: PropTypes.date,\r\n      followers: PropTypes.number\r\n    })\r\n  ),\r\n  color: PropTypes.string,\r\n  disableAnimation: PropTypes.bool\r\n};\r\n\r\nArea.defaultProps = {\r\n  data: [],\r\n  color: \"white\",\r\n  disableAnimation: false\r\n};\r\n\r\nexport default Area;\r\n","/** AxisX.js */\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport * as d3 from \"d3\";\r\n\r\nconst Axis = ({\r\n  type,\r\n  scale,\r\n  ticks,\r\n  transform,\r\n  tickFormat,\r\n  disableAnimation,\r\n  anchorEl,\r\n  ...props\r\n}) => {\r\n  const ref = React.useRef(null);\r\n  React.useEffect(() => {\r\n    const axisGenerator = type === \"left\" ? d3.axisRight : d3.axisBottom;\r\n    const axis = axisGenerator(scale).ticks(ticks).tickFormat(tickFormat);\r\n    const axisGroup = d3.select(ref.current);\r\n    if (disableAnimation) {\r\n      axisGroup.call(axis);\r\n    } else {\r\n      axisGroup.transition().duration(750).ease(d3.easeLinear).call(axis);\r\n    }\r\n    axisGroup.select(\".domain\").remove();\r\n    axisGroup.selectAll(\"line\").remove();\r\n    axisGroup\r\n      .selectAll(\"text\")\r\n      .attr(\"opacity\", 0.5)\r\n      .attr(\"color\", \"white\")\r\n      .attr(\"font-size\", \"0.75rem\");\r\n  }, [scale, ticks, tickFormat, disableAnimation]);\r\n\r\n  React.useEffect(() => {\r\n    d3.select(anchorEl)\r\n      .on(\"mouseout.axisX\", () => {\r\n        d3.select(ref.current)\r\n          .selectAll(\"text\")\r\n          .attr(\"opacity\", 0.5)\r\n          .style(\"font-weight\", \"normal\");\r\n      })\r\n      .on(\"mousemove.axisX\", () => {\r\n        const [x] = d3.mouse(anchorEl);\r\n        const xDate = scale.invert(x);\r\n        const textElements = d3.select(ref.current).selectAll(\"text\");\r\n        const data = textElements.data();\r\n        const index = d3.bisector((d) => d).left(data, xDate);\r\n        textElements\r\n          .attr(\"opacity\", (d, i) => (i === index - 1 ? 1 : 0.5))\r\n          .style(\"font-weight\", (d, i) =>\r\n            i === index - 1 ? \"bold\" : \"normal\"\r\n          );\r\n      });\r\n  }, [anchorEl, scale]);\r\n\r\n  return <g ref={ref} transform={transform} {...props} />;\r\n};\r\n\r\nAxis.propTypes = {\r\n  type: PropTypes.oneOf([\"left\", \"bottom\"]).isRequired,\r\n  scale: PropTypes.func.isRequired,\r\n  ticks: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\r\n  tickFormat: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\r\n  transform: PropTypes.string,\r\n  disableAnimation: PropTypes.bool,\r\n  anchorEl: PropTypes.instanceOf(Element)\r\n};\r\n\r\nAxis.defaultProps = {\r\n  ticks: 0,\r\n  tickFormat: null,\r\n  transform: \"\",\r\n  disableAnimation: false,\r\n  anchorEl: null\r\n};\r\n\r\nexport default Axis;\r\n","/** GridLine.js */\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport * as d3 from \"d3\";\r\n\r\nconst GridLine = ({\r\n  type,\r\n  scale,\r\n  ticks,\r\n  size,\r\n  transform,\r\n  disableAnimation,\r\n  ...props\r\n}) => {\r\n  const ref = React.useRef(null);\r\n  React.useEffect(() => {\r\n    const axisGenerator = type === \"vertical\" ? d3.axisBottom : d3.axisLeft;\r\n    const axis = axisGenerator(scale).ticks(ticks).tickSize(-size);\r\n\r\n    const gridGroup = d3.select(ref.current);\r\n    if (disableAnimation) {\r\n      gridGroup.call(axis);\r\n    } else {\r\n      gridGroup.transition().duration(750).ease(d3.easeLinear).call(axis);\r\n    }\r\n    gridGroup.select(\".domain\").remove();\r\n    gridGroup.selectAll(\"text\").remove();\r\n    gridGroup.selectAll(\"line\").attr(\"stroke\", \"rgba(255, 255, 255, 0.1)\");\r\n  }, [scale, ticks, size, disableAnimation]);\r\n\r\n  return <g ref={ref} transform={transform} {...props} />;\r\n};\r\n\r\nGridLine.propTypes = {\r\n  scale: PropTypes.func.isRequired,\r\n  type: PropTypes.oneOf([\"vertical\", \"horizontal\"]).isRequired,\r\n  ticks: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\r\n  transform: PropTypes.string,\r\n  size: PropTypes.number,\r\n  disableAnimation: PropTypes.bool\r\n};\r\n\r\nGridLine.defaultProps = {\r\n  ticks: 0,\r\n  transform: \"\",\r\n  size: 0,\r\n  disableAnimation: false\r\n};\r\n\r\nexport default GridLine;\r\n","/** Overlay.js */\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\n/**\r\n * Use Overlay as a wrapper for components that need mouse events to be handled.\r\n * For example: Tooltip, AxisX.\r\n */\r\nconst Overlay = React.forwardRef(({ width, height, children }, ref) => (\r\n  <g>\r\n    {children}\r\n    <rect ref={ref} width={width} height={height} opacity={0} />\r\n  </g>\r\n));\r\n\r\nOverlay.propTypes = {\r\n  width: PropTypes.number.isRequired,\r\n  height: PropTypes.number.isRequired,\r\n  children: PropTypes.node.isRequired\r\n};\r\n\r\nexport default Overlay;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport * as d3 from \"d3\";\r\nimport { MultiLineDataPropTypes } from \"../utils/propTypes\";\r\nimport {formatPercent } from \"../utils/commonUtils\"\r\n// import { formatPercent, formatPriceUSD } from \"../utils/commonUtils\";\r\n\r\nconst Tooltip = ({\r\n  xScale,\r\n  yScale,\r\n  width,\r\n  height,\r\n  data,\r\n  margin,\r\n  anchorEl,\r\n  children,\r\n  ...props\r\n}) => {\r\n  const ref = React.useRef(null);\r\n  const drawLine = React.useCallback(\r\n    (x) => {\r\n      d3.select(ref.current)\r\n        .select(\".tooltipLine\")\r\n        .attr(\"x1\", x)\r\n        .attr(\"x2\", x)\r\n        .attr(\"y1\", -margin.top)\r\n        .attr(\"y2\", height);\r\n    },\r\n    [ref, height, margin]\r\n  );\r\n\r\n  const drawContent = React.useCallback(\r\n    (x) => {\r\n      const tooltipContent = d3.select(ref.current).select(\".tooltipContent\");\r\n      tooltipContent.attr(\"transform\", (cur, i, nodes) => {\r\n        const nodeWidth = nodes[i]?.getBoundingClientRect()?.width || 0;\r\n        const translateX = nodeWidth + x > width ? x - nodeWidth - 12 : x + 8;\r\n        return `translate(${translateX}, ${-margin.top})`;\r\n      });\r\n      tooltipContent\r\n        .select(\".contentTitle\")\r\n        .text(d3.timeFormat(\"%b %d, %Y\")(xScale.invert(x)));\r\n    },\r\n    [xScale, margin, width]\r\n  );\r\n\r\n  const drawBackground = React.useCallback(() => {\r\n    // reset background size to defaults\r\n    const contentBackground = d3\r\n      .select(ref.current)\r\n      .select(\".contentBackground\");\r\n    contentBackground.attr(\"width\", 125).attr(\"height\", 40);\r\n\r\n    // calculate new background size\r\n    const tooltipContentElement = d3\r\n      .select(ref.current)\r\n      .select(\".tooltipContent\")\r\n      .node();\r\n    if (!tooltipContentElement) return;\r\n\r\n    const contentSize = tooltipContentElement.getBoundingClientRect();\r\n    contentBackground\r\n      .attr(\"width\", contentSize.width + 8)\r\n      .attr(\"height\", contentSize.height + 4);\r\n  }, []);\r\n\r\n  const onChangePosition = React.useCallback((d, i, isVisible) => {\r\n    d3.selectAll(\".performanceItemChange\")\r\n      .filter((td, tIndex) => tIndex === i)\r\n      .text(isVisible ? formatPercent(d.change) : \"\");\r\n\r\n    d3.selectAll(\".performanceItemFollowers\")\r\n      .filter((td, tIndex) => tIndex === i)\r\n      .text(\r\n        d.followers.toLocaleString() && !isVisible ? \"No data\" : d.followers.toLocaleString()\r\n      );\r\n       // .text(\r\n      //   d.marketvalue && !isVisible ? \"No data\" : formatPriceUSD(d.marketvalue)\r\n      // );\r\n\r\n    const maxNameWidth = d3.max(\r\n      d3.selectAll(\".performanceItemName\").nodes(),\r\n      (node) => node.getBoundingClientRect().width\r\n    );\r\n    d3.selectAll(\".performanceItemChange\").attr(\r\n      \"transform\",\r\n      (datum, index, nodes) =>\r\n        `translate(${\r\n          nodes[index].previousSibling.getBoundingClientRect().width + 14\r\n        },4)`\r\n    );\r\n\r\n    d3.selectAll(\".performanceItemFollowers\").attr(\r\n      \"transform\",\r\n      `translate(${maxNameWidth + 60},4)`\r\n    );\r\n  }, []);\r\n\r\n  const followPoints = React.useCallback(() => {\r\n    const [x] = d3.mouse(anchorEl);\r\n    const xDate = xScale.invert(x);\r\n    const bisectDate = d3.bisector((d) => d.date).left;\r\n    let baseXPos = 0;\r\n\r\n    // draw circles on line\r\n    d3.select(ref.current)\r\n      .selectAll(\".tooltipLinePoint\")\r\n      .attr(\"transform\", (cur, i) => {\r\n        const index = bisectDate(data[i].items, xDate, 1);\r\n        const d0 = data[i].items[index - 1];\r\n        const d1 = data[i].items[index];\r\n        const d = xDate - d0?.date > d1?.date - xDate ? d1 : d0;\r\n        if (d.date === undefined && d.followers === undefined) {\r\n          // move point out of container\r\n          return \"translate(-100,-100)\";\r\n        }\r\n        const xPos = xScale(d.date);\r\n        if (i === 0) {\r\n          baseXPos = xPos;\r\n        }\r\n\r\n        let isVisible = true;\r\n        if (xPos !== baseXPos) {\r\n          isVisible = false;\r\n        }\r\n        const yPos = yScale(d.followers);\r\n\r\n        onChangePosition(d, i, isVisible);\r\n\r\n        return isVisible\r\n          ? `translate(${xPos}, ${yPos})`\r\n          : \"translate(-100,-100)\";\r\n      });\r\n\r\n    drawLine(baseXPos);\r\n    drawContent(baseXPos);\r\n    drawBackground();\r\n  }, [\r\n    anchorEl,\r\n    drawLine,\r\n    drawContent,\r\n    drawBackground,\r\n    xScale,\r\n    yScale,\r\n    data,\r\n    onChangePosition\r\n  ]);\r\n\r\n  React.useEffect(() => {\r\n    d3.select(anchorEl)\r\n      .on(\"mouseout.tooltip\", () => {\r\n        d3.select(ref.current).attr(\"opacity\", 0);\r\n      })\r\n      .on(\"mouseover.tooltip\", () => {\r\n        d3.select(ref.current).attr(\"opacity\", 1);\r\n      })\r\n      .on(\"mousemove.tooltip\", () => {\r\n        d3.select(ref.current)\r\n          .selectAll(\".tooltipLinePoint\")\r\n          .attr(\"opacity\", 1);\r\n        followPoints();\r\n      });\r\n  }, [anchorEl, followPoints]);\r\n\r\n  if (!data.length) return null;\r\n\r\n  return (\r\n    <g ref={ref} opacity={0} {...props}>\r\n      <line className=\"tooltipLine\" />\r\n      <g className=\"tooltipContent\">\r\n        <rect className=\"contentBackground\" rx={4} ry={4} opacity={0.2} />\r\n        <text className=\"contentTitle\" transform=\"translate(4,14)\" />\r\n        <g className=\"content\" transform=\"translate(4,32)\">\r\n          {data.map(({ name, color }, i) => (\r\n            <g key={name} transform={`translate(6,${22 * i})`}>\r\n              <circle r={6} fill={color} />\r\n              <text className=\"performanceItemName\" transform=\"translate(10,4)\">\r\n                {name}\r\n              </text>\r\n              <text\r\n                className=\"performanceItemChange\"\r\n                opacity={0.5}\r\n                fontSize={10}\r\n              />\r\n              <text className=\"performanceItemFollowers\" />\r\n            </g>\r\n          ))}\r\n        </g>\r\n      </g>\r\n      {data.map(({ name }) => (\r\n        <circle className=\"tooltipLinePoint\" r={6} key={name} opacity={0} />\r\n      ))}\r\n    </g>\r\n  );\r\n};\r\n\r\nTooltip.propTypes = {\r\n  width: PropTypes.number,\r\n  height: PropTypes.number,\r\n  margin: PropTypes.shape({\r\n    top: PropTypes.number,\r\n    bottom: PropTypes.number,\r\n    left: PropTypes.number,\r\n    right: PropTypes.number\r\n  }),\r\n  data: MultiLineDataPropTypes,\r\n  xScale: PropTypes.func.isRequired,\r\n  yScale: PropTypes.func.isRequired,\r\n  anchorEl: PropTypes.instanceOf(Element)\r\n};\r\n\r\nTooltip.defaultProps = {\r\n  width: 0,\r\n  height: 0,\r\n  margin: {\r\n    top: 0,\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0\r\n  },\r\n  data: [],\r\n  anchorEl: null\r\n};\r\n\r\nexport default Tooltip;\r\n","/* eslint-disable no-bitwise */\r\nimport * as d3 from \"d3\";\r\nimport { DateTime, Interval } from \"luxon\";\r\n\r\n// export const formatPriceUSD = (price) =>\r\n//   new Intl.NumberFormat(\"en-US\", { style: \"currency\", currency: \"USD\" }).format(\r\n//     price\r\n//   );\r\n\r\nexport const formatPercent = (percent = 0) => {\r\n  let result = \"0.00%\";\r\n  const isNumber = typeof percent === \"number\";\r\n  const isString = typeof percent === \"string\";\r\n  const isNotNaN = !Number.isNaN(parseFloat(percent));\r\n\r\n  if ((isNumber || isString) && isNotNaN) {\r\n    result = `${parseFloat(percent) > 0 ? \"+\" : \"\"}${d3.format(\".2%\")(\r\n      percent / 100\r\n    )}`;\r\n  }\r\n  return result;\r\n};\r\n\r\nexport const getPeriod = (date) => {\r\n  if (!date) return 6;\r\n  const now = DateTime.utc();\r\n  const before = DateTime.fromJSDate(date);\r\n  const i = Interval.fromDateTimes(before, now);\r\n  return i.length(\"months\");\r\n};\r\n\r\nexport const getXTicks = (months) => {\r\n  if (months <= 2) return d3.timeDay.every(5).filter((d) => d.getDate() !== 31);\r\n  if (months <= 6) return d3.timeMonth.every(1);\r\n  if (months <= 13) return d3.timeMonth.every(2);\r\n  return d3.timeYear.every(1);\r\n};\r\n\r\nexport const getXTickFormat = (months) => {\r\n  if (months <= 2) return d3.timeFormat(\"%d %b\");\r\n  if (months <= 6) return d3.timeFormat(\"%b\");\r\n  if (months <= 13) return d3.timeFormat(\"%b %Y\");\r\n  return d3.timeFormat(\"%Y\");\r\n};\r\n","/** MultilineChart.controller.js */\r\nimport { useMemo } from \"react\";\r\nimport * as d3 from \"d3\";\r\n\r\nconst useController = ({ data, width, height }) => {\r\n  const xMin = useMemo(\r\n    () => d3.min(data, ({ items }) => d3.min(items, ({ date }) => date)),\r\n    [data]\r\n  );\r\n\r\n  const xMax = useMemo(\r\n    () => d3.max(data, ({ items }) => d3.max(items, ({ date }) => date)),\r\n    [data]\r\n  );\r\n\r\n  const xScale = useMemo(\r\n    () => d3.scaleTime().domain([xMin, xMax]).range([0, width]),\r\n    [xMin, xMax, width]\r\n  );\r\n\r\n  const yMin = useMemo(\r\n    () => d3.min(data, ({ items }) => d3.min(items, ({ followers }) => followers)),\r\n    [data]\r\n  );\r\n\r\n  const yMax = useMemo(\r\n    () => d3.max(data, ({ items }) => d3.max(items, ({followers}) => followers)),\r\n    [data]\r\n  );\r\n\r\n  const yScale = useMemo(() => {\r\n    const indention = (yMax - yMin) * 0.5;\r\n    return d3\r\n      .scaleLinear()\r\n      .domain([yMin - indention, yMax + indention])\r\n      .range([height, 0]);\r\n  }, [height, yMin, yMax]);\r\n\r\n  const yScaleForAxis = useMemo(\r\n    () => d3.scaleBand().domain([yMin, yMax]).range([height, 0]),\r\n    [height, yMin, yMax]\r\n  );\r\n\r\n  const yTickFormat = (d) => {\r\n\r\n    return d\r\n    // `${parseFloat(d) > 0 ? \"+\" : \"\"}${d3.format(\".2%\")(d / 100)}`;\r\n  }\r\n  const xTickFormat = (d) => {\r\n    if (d3.timeFormat(\"%b\")(d) === \"Jan\") {\r\n      return d3.timeFormat(\"%Y\")(d);\r\n    }\r\n    return d3.timeFormat(\"%b\")(d);\r\n  };\r\n  return {\r\n    yTickFormat,\r\n    xScale,\r\n    yScale,\r\n    yScaleForAxis,\r\n    xTickFormat\r\n  };\r\n};\r\n\r\nexport default useController;\r\n","import React from 'react';\r\nimport ResizeObserver from 'resize-observer-polyfill';\r\n\r\n/**\r\n * Use ResizeObserver to listen for the changes to the dimensions of an element\r\n * @params ref - React ref\r\n * @returns {object} - { width, height, top, left }\r\n */\r\nconst useResize = (ref) => {\r\n  const [dimensions, setDimensions] = React.useState(null);\r\n  React.useEffect(() => {\r\n    const element = ref.current;\r\n    const resizeObserver = new ResizeObserver((entries) => {\r\n      entries.forEach((entry) => {\r\n        setDimensions(entry.contentRect);\r\n      });\r\n    });\r\n    resizeObserver.observe(element);\r\n    return () => {\r\n      resizeObserver.unobserve(element);\r\n    };\r\n  }, [ref]);\r\n  return dimensions || {\r\n    width: 0,\r\n    height: 0,\r\n    top: 0,\r\n    left: 0,\r\n  };\r\n};\r\n\r\nexport default useResize;\r\n","import React from \"react\";\r\nimport useResize from \"./useResize\";\r\n\r\nconst useDimensions = ({ maxHeight, margin = {}, scaleCoef = 0.5 }) => {\r\n  const ref = React.useRef(null);\r\n  const { width } = useResize(ref);\r\n\r\n  const height =\r\n    !maxHeight || width * scaleCoef < maxHeight ? width * scaleCoef : maxHeight;\r\n  const innerWidth = width - (margin.left || 0) - (margin.right || 0);\r\n  const innerHeight = height - (margin.top || 0) - (margin.bottom || 0);\r\n\r\n  return [\r\n    ref,\r\n    {\r\n      svgWidth: width,\r\n      svgHeight: height,\r\n      width: innerWidth,\r\n      height: innerHeight\r\n    }\r\n  ];\r\n};\r\n\r\nexport default useDimensions;\r\n","/** MultilineChart.js */\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { MultiLineDataPropTypes } from \"../utils/propTypes\";\r\nimport { Line, Axis, GridLine, Overlay, Tooltip, Area } from \"../components\";\r\nimport useController from \"./MultilineChart.controller\";\r\nimport useDimensions from \"../utils/useDimensions\";\r\n\r\nconst MultilineChart = ({ data = [], margin = {} }) => {\r\n  const overlayRef = React.useRef(null);\r\n  const [containerRef, { svgWidth, svgHeight, width, height }] = useDimensions({\r\n    maxHeight: 800,\r\n    margin\r\n  });\r\n  const controller = useController({ data, width, height });\r\n  const {\r\n    yTickFormat,\r\n    xTickFormat,\r\n    xScale,\r\n    yScale,\r\n    yScaleForAxis\r\n  } = controller;\r\n\r\n  return (\r\n    <div ref={containerRef}>\r\n      <svg width={svgWidth} height={svgHeight}>\r\n        <g transform={`translate(${margin.left},${margin.top})`}>\r\n          <GridLine\r\n            type=\"vertical\"\r\n            scale={xScale}\r\n            ticks={5}\r\n            size={height}\r\n            transform={`translate(0, ${height})`}\r\n          />\r\n          <GridLine\r\n            type=\"horizontal\"\r\n            scale={yScaleForAxis}\r\n            ticks={2}\r\n            size={width}\r\n          />\r\n          <GridLine\r\n            type=\"horizontal\"\r\n            className=\"baseGridLine\"\r\n            scale={yScale}\r\n            ticks={1}\r\n            size={width}\r\n            disableAnimation\r\n          />\r\n          {data.map(({ name, items = [], color }) => (\r\n            <Line\r\n              key={name}\r\n              data={items}\r\n              xScale={xScale}\r\n              yScale={yScale}\r\n              color={color}\r\n            />\r\n          ))}\r\n          {/* <Area data={data[0].items} xScale={xScale} yScale={yScale} /> */}\r\n          <Axis\r\n            type=\"left\"\r\n            scale={yScaleForAxis}\r\n            transform=\"translate(0, -10)\"\r\n            ticks={5}\r\n            tickFormat={yTickFormat}\r\n          />\r\n          <Overlay ref={overlayRef} width={width} height={height}>\r\n            <Axis\r\n              type=\"bottom\"\r\n              className=\"axisX\"\r\n              anchorEl={overlayRef.current}\r\n              scale={xScale}\r\n              transform={`translate(10, ${height - height / 6})`}\r\n              ticks={5}\r\n              tickFormat={xTickFormat}\r\n            />\r\n            <Tooltip\r\n              className=\"tooltip\"\r\n              anchorEl={overlayRef.current}\r\n              width={width}\r\n              height={height}\r\n              margin={margin}\r\n              xScale={xScale}\r\n              yScale={yScale}\r\n              data={data}\r\n            />\r\n          </Overlay>\r\n        </g>\r\n      </svg>\r\n    </div>\r\n  );\r\n};\r\n\r\nMultilineChart.propTypes = {\r\n  data: MultiLineDataPropTypes,\r\n  margin: PropTypes.shape({\r\n    top: PropTypes.number,\r\n    bottom: PropTypes.number,\r\n    left: PropTypes.number,\r\n    right: PropTypes.number\r\n  })\r\n};\r\n\r\nMultilineChart.defaultProps = {\r\n  data: [],\r\n  margin: {\r\n    top: 30,\r\n    right: 15,\r\n    bottom: 15,\r\n    left: 15\r\n  }\r\n};\r\n\r\nexport default MultilineChart;\r\n","import { Typography } from '@material-ui/core'\r\nimport React from 'react'\r\nimport MultilineAppV3 from '../../MultilineChartV3/MultilineAppV3'\r\n\r\nconst PartyFollowersGraph = () => {\r\n\r\n\r\n    return (\r\n        <div className=\"featuredItem\">\r\n            <Typography variant=\"h5\">Party Followers</Typography>\r\n            <MultilineAppV3/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PartyFollowersGraph\r\n","import React from 'react';\r\nimport useAutocomplete from '@material-ui/lab/useAutocomplete';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport styled from 'styled-components';\r\nimport { chamber } from '../../../Backend/rollCall';\r\n\r\nconst Label = styled('label')`\r\n  padding: 0 0 4px;\r\n  line-height: 1.5;\r\n  display: block;\r\n`;\r\n\r\nconst InputWrapper = styled('div')`\r\n  width: 300px;\r\n  color: black;\r\n  border: 1px solid #d9d9d9;\r\n  background-color: #fff;\r\n  border-radius: 4px;\r\n  padding: 1px;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n\r\n\r\n  &:hover {\r\n    border-color: #40a9ff;\r\n  }\r\n\r\n  &.focused {\r\n    border-color: #40a9ff;\r\n    box-shadow: 0 0 0 2px rgba(24, 144, 255, 0.2);\r\n  }\r\n\r\n  & input {\r\n    color: black;\r\n    font-size: 14px;\r\n    height: 30px;\r\n    box-sizing: border-box;\r\n    padding: 4px 6px;\r\n    width: 0;\r\n    min-width: 30px;\r\n    flex-grow: 1;\r\n    border: 0;\r\n    margin: 0;\r\n    outline: 0;\r\n\r\n  }\r\n`;\r\n\r\nconst Tag = styled(({ label, onDelete, ...props }) => (\r\n  <div {...props}>\r\n    <span>{label}</span>\r\n    <CloseIcon onClick={onDelete} />\r\n  </div>\r\n))`\r\n  display: flex;\r\n  align-items: center;\r\n  height: 24px;\r\n  margin: 2px;\r\n  line-height: 22px;\r\n  background-color: #fafafa;\r\n  border: 1px solid #e8e8e8;\r\n  border-radius: 2px;\r\n  box-sizing: content-box;\r\n  padding: 0 4px 0 10px;\r\n  outline: 0;\r\n  overflow: hidden;\r\n\r\n  &:focus {\r\n    border-color: #40a9ff;\r\n    background-color: #e6f7ff;\r\n}\r\n\r\n  & span {\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n  }\r\n\r\n  & svg {\r\n    font-size: 12px;\r\n    cursor: pointer;\r\n    padding: 4px;\r\n  }\r\n`;\r\n\r\nconst Listbox = styled('ul')`\r\n\r\n\r\n  width: 300px;\r\n  margin: 2px 0 0;\r\n  padding: 0;\r\n  position: absolute;\r\n  list-style: none;\r\n  background-color: white;\r\n  overflow: auto;\r\n  max-height: 250px;\r\n  border-radius: 4px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\r\n  z-index: 1;\r\n  color: black;\r\n\r\n  & li {\r\n\r\n    padding: 5px 12px;\r\n    display: flex;\r\n\r\n    & span {\r\n      flex-grow: 1;\r\n    }\r\n\r\n    & svg {\r\n      color: transparent;\r\n    }\r\n  }\r\n\r\n  & li[aria-selected='true'] {\r\n    background-color: #fafafa;\r\n    font-weight: 600;\r\n    color: black;\r\n    \r\n\r\n    & svg {\r\n      color: green;\r\n    }\r\n  }\r\n\r\n  & li[data-focus='true'] {\r\n    background-color: #e6f7ff;\r\n    cursor: pointer;\r\n    color: black;\r\n\r\n    & svg {\r\n        color: black\r\n    }\r\n  }\r\n`;\r\n\r\nexport default function CustomizedHook() {\r\n  const {\r\n    getRootProps,\r\n    getInputLabelProps,\r\n    getInputProps,\r\n    getTagProps,\r\n    getListboxProps,\r\n    getOptionProps,\r\n    groupedOptions,\r\n    value,\r\n    focused,\r\n    setAnchorEl,\r\n  } = useAutocomplete({\r\n    id: 'customized-hook-demo',\r\n    defaultValue: [top100Films[1]],\r\n    multiple: true,\r\n    options: chamber,\r\n    getOptionLabel: (option) => option.name,\r\n  });\r\n\r\n\r\n\r\n\r\n\r\n\r\n  return (\r\n      <div>\r\n        <div {...getRootProps()}>\r\n          <Label {...getInputLabelProps()}>Filter</Label>\r\n          <InputWrapper ref={setAnchorEl} className={focused ? 'focused' : ''}>\r\n\r\n        \r\n            {value.map((option, index) => (\r\n              <Tag label={option.name} {...getTagProps({ index })} />\r\n            ))}\r\n            \r\n            <input {...getInputProps()} />\r\n          </InputWrapper>\r\n        </div>\r\n        {groupedOptions.length > 0 ? (\r\n          <Listbox {...getListboxProps()}>\r\n            {groupedOptions.map((option, index) => (\r\n              <li fill={option.partyColor} {...getOptionProps({ option, index })}>\r\n                <span >{option.name} <span style={{borderRadius: \"50%\", backgroundColor: option.partyColor, height:\"5px\", width:\"5px\", display: \"inline-block\"}}></span></span>\r\n                <CheckIcon fontSize=\"small\" />\r\n              </li>\r\n            ))}\r\n          </Listbox>\r\n        ) : null}\r\n      </div>\r\n\r\n  );\r\n}\r\n\r\n// Top 100 films as rated by IMDb users. http://www.imdb.com/chart/top\r\nconst top100Films = [\r\n  { title: 'The Shawshank Redemption', year: 1994 },\r\n  { title: 'The Godfather', year: 1972 },\r\n  { title: 'The Godfather: Part II', year: 1974 },\r\n  { title: 'The Dark Knight', year: 2008 },\r\n  { title: '12 Angry Men', year: 1957 },\r\n  { title: \"Schindler's List\", year: 1993 },\r\n  { title: 'Pulp Fiction', year: 1994 },\r\n  { title: 'The Lord of the Rings: The Return of the King', year: 2003 },\r\n  { title: 'The Good, the Bad and the Ugly', year: 1966 },\r\n  { title: 'Fight Club', year: 1999 },\r\n  { title: 'The Lord of the Rings: The Fellowship of the Ring', year: 2001 },\r\n  { title: 'Star Wars: Episode V - The Empire Strikes Back', year: 1980 },\r\n  { title: 'Forrest Gump', year: 1994 },\r\n  { title: 'Inception', year: 2010 },\r\n  { title: 'The Lord of the Rings: The Two Towers', year: 2002 },\r\n  { title: \"One Flew Over the Cuckoo's Nest\", year: 1975 },\r\n  { title: 'Goodfellas', year: 1990 },\r\n  { title: 'The Matrix', year: 1999 },\r\n  { title: 'Seven Samurai', year: 1954 },\r\n  { title: 'Star Wars: Episode IV - A New Hope', year: 1977 },\r\n  { title: 'City of God', year: 2002 },\r\n  { title: 'Se7en', year: 1995 },\r\n  { title: 'The Silence of the Lambs', year: 1991 },\r\n  { title: \"It's a Wonderful Life\", year: 1946 },\r\n  { title: 'Life Is Beautiful', year: 1997 },\r\n  { title: 'The Usual Suspects', year: 1995 },\r\n  { title: 'Lon: The Professional', year: 1994 },\r\n  { title: 'Spirited Away', year: 2001 },\r\n  { title: 'Saving Private Ryan', year: 1998 },\r\n  { title: 'Once Upon a Time in the West', year: 1968 },\r\n  { title: 'American History X', year: 1998 },\r\n  { title: 'Interstellar', year: 2014 },\r\n  { title: 'Casablanca', year: 1942 },\r\n  { title: 'City Lights', year: 1931 },\r\n  { title: 'Psycho', year: 1960 },\r\n  { title: 'The Green Mile', year: 1999 },\r\n  { title: 'The Intouchables', year: 2011 },\r\n  { title: 'Modern Times', year: 1936 },\r\n  { title: 'Raiders of the Lost Ark', year: 1981 },\r\n  { title: 'Rear Window', year: 1954 },\r\n  { title: 'The Pianist', year: 2002 },\r\n  { title: 'The Departed', year: 2006 },\r\n  { title: 'Terminator 2: Judgment Day', year: 1991 },\r\n  { title: 'Back to the Future', year: 1985 },\r\n  { title: 'Whiplash', year: 2014 },\r\n  { title: 'Gladiator', year: 2000 },\r\n  { title: 'Memento', year: 2000 },\r\n  { title: 'The Prestige', year: 2006 },\r\n  { title: 'The Lion King', year: 1994 },\r\n  { title: 'Apocalypse Now', year: 1979 },\r\n  { title: 'Alien', year: 1979 },\r\n  { title: 'Sunset Boulevard', year: 1950 },\r\n  { title: 'Dr. Strangelove or: How I Learned to Stop Worrying and Love the Bomb', year: 1964 },\r\n  { title: 'The Great Dictator', year: 1940 },\r\n  { title: 'Cinema Paradiso', year: 1988 },\r\n  { title: 'The Lives of Others', year: 2006 },\r\n  { title: 'Grave of the Fireflies', year: 1988 },\r\n  { title: 'Paths of Glory', year: 1957 },\r\n  { title: 'Django Unchained', year: 2012 },\r\n  { title: 'The Shining', year: 1980 },\r\n  { title: 'WALLE', year: 2008 },\r\n  { title: 'American Beauty', year: 1999 },\r\n  { title: 'The Dark Knight Rises', year: 2012 },\r\n  { title: 'Princess Mononoke', year: 1997 },\r\n  { title: 'Aliens', year: 1986 },\r\n  { title: 'Oldboy', year: 2003 },\r\n  { title: 'Once Upon a Time in America', year: 1984 },\r\n  { title: 'Witness for the Prosecution', year: 1957 },\r\n  { title: 'Das Boot', year: 1981 },\r\n  { title: 'Citizen Kane', year: 1941 },\r\n  { title: 'North by Northwest', year: 1959 },\r\n  { title: 'Vertigo', year: 1958 },\r\n  { title: 'Star Wars: Episode VI - Return of the Jedi', year: 1983 },\r\n  { title: 'Reservoir Dogs', year: 1992 },\r\n  { title: 'Braveheart', year: 1995 },\r\n  { title: 'M', year: 1931 },\r\n  { title: 'Requiem for a Dream', year: 2000 },\r\n  { title: 'Amlie', year: 2001 },\r\n  { title: 'A Clockwork Orange', year: 1971 },\r\n  { title: 'Like Stars on Earth', year: 2007 },\r\n  { title: 'Taxi Driver', year: 1976 },\r\n  { title: 'Lawrence of Arabia', year: 1962 },\r\n  { title: 'Double Indemnity', year: 1944 },\r\n  { title: 'Eternal Sunshine of the Spotless Mind', year: 2004 },\r\n  { title: 'Amadeus', year: 1984 },\r\n  { title: 'To Kill a Mockingbird', year: 1962 },\r\n  { title: 'Toy Story 3', year: 2010 },\r\n  { title: 'Logan', year: 2017 },\r\n  { title: 'Full Metal Jacket', year: 1987 },\r\n  { title: 'Dangal', year: 2016 },\r\n  { title: 'The Sting', year: 1973 },\r\n  { title: '2001: A Space Odyssey', year: 1968 },\r\n  { title: \"Singin' in the Rain\", year: 1952 },\r\n  { title: 'Toy Story', year: 1995 },\r\n  { title: 'Bicycle Thieves', year: 1948 },\r\n  { title: 'The Kid', year: 1921 },\r\n  { title: 'Inglourious Basterds', year: 2009 },\r\n  { title: 'Snatch', year: 2000 },\r\n  { title: '3 Idiots', year: 2009 },\r\n  { title: 'Monty Python and the Holy Grail', year: 1975 },\r\n];\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport ListSubheader from '@material-ui/core/ListSubheader';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport { options } from './AxisUtils/AxisUtils';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    icon: {\r\n      color: \"white\"\r\n  },\r\n\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n    \r\n  }\r\n\r\n}));\r\n\r\nexport default function GroupedSelect() {\r\n\r\n  \r\n  const classes = useStyles();\r\n\r\n  const onChangeX = (event, child) => {\r\n    console.log('x:' + event.target.value);\r\n    console.log(child);\r\n  };\r\n\r\n  const onChangeY = (event, child) => {\r\n    console.log('y:' + event.target.value);\r\n    console.log(child);\r\n  };\r\n\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n      <FormControl className={classes.formControl}>\r\n        <InputLabel style={{fill: \"white\", color: \"white\"}} htmlFor=\"grouped-select\">X-Value</InputLabel>\r\n        <Select  onChange={onChangeX} style={{ color: \"white\"}} classes={{icon:classes.icon}} defaultValue=\"\" id=\"grouped-select\">\r\n          <MenuItem value=\"\">\r\n            <em>None</em>\r\n          </MenuItem>\r\n          <ListSubheader>Twitter Data</ListSubheader>\r\n          <MenuItem value={1}>Total Followers</MenuItem>\r\n          <MenuItem value={2}>Total Retweets</MenuItem>\r\n          <MenuItem value={3}>Avg. Sentimenmt</MenuItem>\r\n          <MenuItem value={4}>Activty</MenuItem>\r\n          <MenuItem value={5}>Connectivity</MenuItem>\r\n          <ListSubheader>Parliamentary Data (Coming Soon)</ListSubheader>\r\n          <MenuItem value={6}>Yes Votes</MenuItem>\r\n          <MenuItem value={7}>No Votes</MenuItem>\r\n          <MenuItem value={8}>Motions Tabled</MenuItem>\r\n          <MenuItem value={9}>Questions Asked</MenuItem>\r\n          <ListSubheader>News Data (Coming Soon)</ListSubheader>\r\n          <MenuItem value={10}>News Mentions</MenuItem>\r\n          <ListSubheader>Electoral Data (Coming Soon)</ListSubheader>\r\n          <MenuItem value={11}>Votes in last election</MenuItem>\r\n          <MenuItem value={12}>Opinion polls</MenuItem>\r\n        </Select>\r\n      </FormControl>\r\n      <FormControl className={classes.formControl}>\r\n        <InputLabel style={{fill: \"white\", color: \"white\"}} htmlFor=\"grouped-select\">Y-Value</InputLabel>\r\n        <Select onChange={onChangeY} style={{ color: \"white\"}} classes={{icon:classes.icon}} defaultValue=\"\" id=\"grouped-select\">\r\n          <MenuItem value=\"\">\r\n            <em>None</em>\r\n          </MenuItem>\r\n          <ListSubheader>Twitter Data</ListSubheader>\r\n          <MenuItem value={1}>Total Followers</MenuItem>\r\n          <MenuItem value={2}>Total Retweets</MenuItem>\r\n          <MenuItem value={3}>Avg. Sentimenmt</MenuItem>\r\n          <MenuItem value={4}>Activty</MenuItem>\r\n          <MenuItem value={5}>Connectivity</MenuItem>\r\n          <ListSubheader>Parliamentary Data (Coming Soon)</ListSubheader>\r\n          <MenuItem value={6}>Yes Votes</MenuItem>\r\n          <MenuItem value={7}>No Votes</MenuItem>\r\n          <MenuItem value={8}>Motions Tabled</MenuItem>\r\n          <MenuItem value={9}>Questions Asked</MenuItem>\r\n          <ListSubheader>News Data (Coming Soon)</ListSubheader>\r\n          <MenuItem value={10}>News Mentions</MenuItem>\r\n          <ListSubheader>Electoral Data (Coming Soon)</ListSubheader>\r\n          <MenuItem value={11}>Votes in last election</MenuItem>\r\n          <MenuItem value={12}>Opinion polls</MenuItem>\r\n        </Select>\r\n      </FormControl>\r\n      <FormControl className={classes.formControl}>\r\n        <InputLabel style={{fill: \"white\", color: \"white\"}} htmlFor=\"grouped-select\">Circle Radius</InputLabel>\r\n        <Select style={{ color: \"white\"}} classes={{icon:classes.icon}}defaultValue=\"\" id=\"grouped-select\">\r\n          <MenuItem value=\"\">\r\n            <em>None</em>\r\n          </MenuItem>\r\n          <ListSubheader>Twitter Data</ListSubheader>\r\n          <MenuItem value={1}>Total Followers</MenuItem>\r\n          <MenuItem value={2}>Total Retweets</MenuItem>\r\n          <MenuItem value={3}>Avg. Sentimenmt</MenuItem>\r\n          <MenuItem value={4}>Activty</MenuItem>\r\n          <MenuItem value={5}>Connectivity</MenuItem>\r\n          <ListSubheader>Parliamentary Data (Coming Soon)</ListSubheader>\r\n          <MenuItem value={6}>Yes Votes</MenuItem>\r\n          <MenuItem value={7}>No Votes</MenuItem>\r\n          <MenuItem value={8}>Motions Tabled</MenuItem>\r\n          <MenuItem value={9}>Questions Asked</MenuItem>\r\n          <ListSubheader>News Data (Coming Soon)</ListSubheader>\r\n          <MenuItem value={10}>News Mentions</MenuItem>\r\n          <ListSubheader>Electoral Data (Coming Soon)</ListSubheader>\r\n          <MenuItem value={11}>Votes in last election</MenuItem>\r\n          <MenuItem value={12}>Opinion polls</MenuItem>\r\n\r\n        </Select>\r\n      </FormControl>\r\n    </div>\r\n  );\r\n}","import React from 'react'\r\nimport { useRef, useEffect, useState} from 'react'\r\nimport * as d3 from 'd3'\r\nimport { chamber } from '../../../Backend/rollCall'\r\nimport { axisBottom, axisLeft, svg } from 'd3'\r\nimport { current } from '../../../Backend/rollCall'\r\nimport { Typography, Checkbox, Select, ListItem, FormControlLabel, FormGroup } from '@material-ui/core'\r\nimport CustomizedHook from './SearchSelectBox'\r\nimport GroupedSelect from './GroupedSelectBox'\r\nimport './scatterplot.css'\r\nimport { MenuItem, ListSubheader, FormControl, InputLabel, makeStyles, List, ListItemText } from '@material-ui/core'\r\nimport axios from 'axios'\r\nimport { FormatAlignCenter, FormatListNumberedRtlOutlined } from '@material-ui/icons'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n        icon: {\r\n          color: \"white\"\r\n      },\r\n    \r\n      formControl: {\r\n        margin: theme.spacing(1),\r\n        minWidth: 120,   \r\n      }\r\n    \r\n}));\r\n\r\nconst partyColors = {\r\n\"Sinn Fin\": \"#326760\", \r\n\"Fine Gael\": \"#6699FF\", \r\n\"Fianna Fil\": \"#66BB66\",\r\n\"Labour Party\": \"#CC0000\",\r\n\"Solidarity - People Before Profit\": \"#8E2420\",\r\n\"Independent\": \"white\",\r\n\"Green Party\": \"#99CC33\",\r\n\"Social Democrats\": \"#752F8B\",\r\n\"Aont\": \"#44532A\",\r\n\"Independents 4 Change\": \"grey\"}\r\n\r\nconst Scatterplot = ({data}) => {\r\n\r\n\r\n\r\n    const [TDDataScatter, setTDDataScatter] = useState(data)\r\n    const [oirOralQuestionData, setOirOralQuestionData] = useState(null)\r\n    const [oirWrittenQuestionData, setOirWrittenQuestionData] = useState(null)\r\n    const [partySelect, setPartySelect] = useState([\"Sinn Fin\", \"Fine Gael\", \"Fianna Fil\", \"Labour Party\", \"Green Party\", \"Solidarity - People Before Profit\", \"Aont\", \"Social Democrats\", \"Independent\", \"Independents 4 Change\"])\r\n    const [xOption, setXOption] = useState(0)\r\n    const [yOption, setYOption] = useState(1)\r\n    const [rOption, setROption] = useState(0)\r\n    const [filteredTDData, setFilteredTDData] = useState(null)\r\n    const [currentWeekIndex, setCurrentWeekIndex] = useState(null)\r\n\r\n\r\n\r\n\r\n \r\n\r\n    const followers = d => d.followerData[currentWeekIndex].followers\r\n    const retweets = d => d.retweetData[currentWeekIndex].retweets\r\n    const original_tweets = d => d.retweetData[currentWeekIndex].original_tweets\r\n    const polarity = d => d.sentimentData[currentWeekIndex].polarity\r\n    const subjectivity = d => d.sentimentData[currentWeekIndex].subjectivity\r\n    const followersPerRetweet = (d) => {\r\n\r\n      var f = d.followerData[currentWeekIndex].followers\r\n      var r = d.retweetData[currentWeekIndex].retweets \r\n \r\n      var test = f / r\r\n\r\n      if(test === Infinity ) {\r\n\r\n          test = 0\r\n      \r\n  }\r\n\r\n  test = test ? test : 0;\r\n\r\n  return test\r\n    }\r\n    const retweetsPerOriginalTweet = (d) => {\r\n\r\n      var r = d.retweetData[currentWeekIndex].retweets \r\n      var o = d.retweetData[currentWeekIndex].original_tweets\r\n\r\n      var test = r / o\r\n\r\n      if(test === Infinity ) {\r\n\r\n          test = 0\r\n      \r\n  }\r\n\r\n  test = test ? test : 0;\r\n\r\n\r\n  return test\r\n}\r\n    \r\n    const optionsFunctions = [followers, retweets, original_tweets, polarity, subjectivity, retweetsPerOriginalTweet, followersPerRetweet]\r\n\r\n    const xValue = optionsFunctions[xOption]\r\n    const yValue = optionsFunctions[yOption]\r\n    const rValue = optionsFunctions[rOption]\r\n\r\n    useEffect(() => {\r\n\r\n        setTDDataScatter(data)\r\n        setFilteredTDData(TDDataScatter)\r\n\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        \r\n        \r\n      axios.get('https://api.oireachtas.ie/v1/questions?date_start=2020-01-01&date_end=2022-02-02&limit=2000&qtype=oral').then((response) => {\r\n\r\n      setOirOralQuestionData(response.data)\r\n      \r\n    });\r\n    \r\n  }, []);\r\n\r\n  useEffect(() => {\r\n        \r\n        \r\n    axios.get('https://api.oireachtas.ie/v1/questions?date_start=2020-01-01&date_end=2022-02-02&limit=2000&qtype=written').then((response) => {\r\n\r\n    setOirWrittenQuestionData(response.data)\r\n    \r\n  });\r\n  \r\n}, []);\r\n\r\nuseEffect(() => {\r\n\r\n  if(!TDDataScatter) return null;\r\n\r\n  setCurrentWeekIndex(TDDataScatter[0].followerData.length - 1)\r\n\r\n}, [TDDataScatter])\r\n\r\n\r\n  const svgRef = useRef()\r\n\r\n    const options = [\r\n\r\n        \"Followers\", \"Retweets\", \"Original Tweets\", \"Polarity\", \"Subjectivity\", \"Followers Per Retweet\", \"Retweets Per Original Tweet\"\r\n        ]\r\n\r\n    const optionsExplanation = [\r\n\r\n      \"Number of Twitter followers on last check.\",\r\n      \"Number of retweets received over last week.\",\r\n      \"Number of original tweets (so excl. retweets) a TD has posted over last week.\",\r\n      \"Average sentiment of a TD's tweets over the past week, value lies between [-1, 1] with 1 being most positive.\",\r\n      \"Average subjectivity of a TD's tweets over the past week, value lies between [0, 1] with 1 being most subjective.\",\r\n      \"Followers divided by Retweets received over the last week.\",\r\n      \"Retweets divided by Original Tweets over the last week.\"\r\n\r\n    ]\r\n\r\n\r\n    \r\n    \r\n\r\n    const classes = useStyles();\r\n\r\n    const handleChange = (event) => {\r\n\r\n          const holder = partySelect\r\n\r\n          const tester = event.target.value\r\n\r\n            if(partySelect.includes(tester)) {\r\n\r\n              for(let i = 0; i < holder.length; i++) {\r\n                if(holder[i] === tester) {\r\n                  holder.splice(i, 1)\r\n                  setPartySelect(holder)            \r\n                }\r\n              }\r\n            } else {\r\n              holder.push(tester)\r\n              setPartySelect(holder)\r\n            }\r\n\r\n\r\n              const selected = TDDataScatter;\r\n              const inbetween = selected;\r\n\r\n\r\n            const test = inbetween.filter(d => partySelect.includes(d.party))\r\n                     \r\n          \r\n            setFilteredTDData(test)\r\n\r\n            console.log(TDDataScatter)\r\n                \r\n\r\n//             }\r\n            \r\n      }\r\n\r\n\r\n    const onChangeX = (event, child) => {\r\n            setXOption(event.target.value)\r\n            console.log('x:' + event.target.value);\r\n            console.log(child);\r\n    };\r\n\r\n    const onChangeY = (event, child) => {\r\n            setYOption(event.target.value)\r\n            console.log('y:' + event.target.value);\r\n            console.log(child);\r\n    };\r\n\r\n    const onChangeR = (event, child) => {\r\n        setROption(event.target.value)\r\n        console.log('r:' + event.target.value);\r\n        console.log(child);\r\n};\r\n\r\n    const margin = {top: 20, right: 20, bottom: 20, left: 50}\r\n    \r\n    const height = 620 - margin.left - margin.right;\r\n    const width = 820 - margin.top - margin.bottom;        \r\n    \r\n\r\n\r\n\r\n\r\n  \r\n\r\n\r\n    useEffect(() => {\r\n\r\n      if(!TDDataScatter || !filteredTDData) return null;\r\n\r\n      console.log(TDDataScatter)\r\n      console.log(filteredTDData)\r\n\r\n\r\n\r\n    // const selectedFiltered = () => {\r\n\r\n    //   const selected = filteredTDData;\r\n\r\n    //     for(let i = 0; i < selected.length; i++) {\r\n\r\n    //       if(partySelect.includes(selected[i].party) === false) {\r\n    //         selected.splice([i], 1)\r\n    //       }\r\n    //     }\r\n\r\n    //     return selected\r\n\r\n    // }\r\n\r\n    // console.log(selectedFiltered())\r\n\r\n    const selectedFilteredTDData = filteredTDData;\r\n    \r\n\r\n\r\n\r\n  // var k = height / width,\r\n  // x0 = [-4.5, 4.5],\r\n  // y0 = [-4.5 * k, 4.5 * k],\r\n  // x = d3.scaleLinear().domain(x0).range([0, width]),\r\n  // y = d3.scaleLinear().domain(y0).range([height, 0]),\r\n  // z = d3.scaleOrdinal(d3.schemeCategory10);\r\n\r\n \r\n\r\n\r\n      const svg = d3.select(svgRef.current)\r\n\r\n\r\n        const xScale = d3.scaleLinear()\r\n                        .range([0, width])\r\n                        .domain(d3.extent(selectedFilteredTDData, xValue))\r\n\r\n\r\n\r\n        const yScale = d3.scaleLinear()\r\n                        .range([height, 0])\r\n                        .domain(d3.extent(selectedFilteredTDData, yValue))\r\n                        \r\n        const rScale = d3.scaleLinear()\r\n                        .range([6, 20])\r\n                        .domain(d3.extent(selectedFilteredTDData, rValue))\r\n\r\n        const party = d => d.party\r\n        const partyColor = d => partyColors[party(d)]\r\n        const name = d => d.name\r\n\r\n\r\n        const xAxis = axisBottom(xScale);        \r\n        \r\n        svg.select(\".x-axis\")\r\n            .attr(\"transform\", \"translate(0,\" + height + \")\")\r\n            .transition()\r\n            .duration(500)\r\n            .call(xAxis)\r\n\r\n\r\n        const yAxis = axisLeft(yScale);\r\n\r\n        svg.select(\".y-axis\")\r\n        .attr(\"transform\", \"translate(0, 0)\")\r\n            .transition()\r\n            .duration(500)\r\n            .call(yAxis)\r\n\r\n            const tooltip = d3\r\n            .select('body')\r\n            .append('div')\r\n            .attr('class', 'd3-tooltip')\r\n            .style('position', 'absolute')\r\n            .style('z-index', '10')\r\n            .style('visibility', 'hidden')\r\n            .style('padding', '10px')\r\n            .style('background', 'rgba(0,0,0,0.6)')\r\n            .style('border-radius', '4px')\r\n            .style('color', '#fff')\r\n            .text('a simple tooltip');\r\n\r\n            const hoverColor = \"#eec42d\"\r\n       \r\n        var circles = d3.select(\"#container\")\r\n                        .selectAll(\".node\")\r\n                        .data(selectedFilteredTDData)\r\n                        .join(\"circle\")\r\n                        .attr(\"class\", \"node\")\r\n                        .attr(\"fill\", partyColor)\r\n                        .attr('fill-opacity', 0.75)\r\n                        .attr(\"name\", name)\r\n\r\n            circles.transition()\r\n                    .duration(500)\r\n                    .attr(\"cx\", d => xScale(xValue(d)))\r\n                    .attr(\"cy\", d => yScale(yValue(d)))\r\n                    .attr(\"r\", d => rScale(rValue(d)))\r\n\r\n            circles.on('mouseover', function (d, i) {\r\n            tooltip\r\n            .html(\r\n                `<div>TD: ${d.name}</div><div>Party: ${d.party}</div><div>x: ${options[xOption]}: ${xValue(d).toLocaleString()}</div><div>y: ${options[yOption]}: ${yValue(d).toLocaleString()}</div><div>r: ${options[rOption]}: ${rValue(d).toLocaleString()}</div>`\r\n            )\r\n                .style('visibility', 'visible');\r\n                d3.select(this).transition().attr('fill', hoverColor);\r\n            })\r\n            .on('mousemove', function () {\r\n                tooltip\r\n                .style('top', d3.event.pageY - 10 + 'px')\r\n                .style('left', d3.event.pageX + 10 + 'px');\r\n            })\r\n            .on('mouseout', function () {\r\n                tooltip.html(``).style('visibility', 'hidden');\r\n                d3.select(this).transition().attr('fill', partyColor);\r\n            }); \r\n\r\n          console.log(selectedFilteredTDData)\r\n\r\n    }, [TDDataScatter, partySelect, filteredTDData, xOption, yOption, rOption, oirWrittenQuestionData, oirOralQuestionData])\r\n\r\n    \r\n    if (!TDDataScatter) return null;\r\n\r\n    return (\r\n\r\n        <div className={\"featuredItem\"} style={{textAlign: \"center\", margin: \"10px\", padding: \"10px\"}}>\r\n        <Typography style={{marginBottom: 20}} align=\"center\" variant=\"h5\">Interactive Scatter Plot</Typography>\r\n        \r\n            <div>\r\n                {/* <CustomizedHook/> */}\r\n                <div>\r\n                    \r\n      <FormControl className={classes.formControl}>\r\n        <InputLabel style={{fill: \"white\", color: \"white\"}} htmlFor=\"grouped-select\">X-Value</InputLabel>\r\n        <Select onChange={onChangeX} style={{ color: \"white\"}} classes={{icon:classes.icon}} defaultValue=\"\" id=\"grouped-select\">\r\n          <ListSubheader>Twitter Data</ListSubheader>\r\n          <MenuItem value={0}>Total Followers</MenuItem>\r\n          <MenuItem value={1}>Total Tweets</MenuItem>\r\n          <MenuItem value={2}>Original Retweets</MenuItem>\r\n          <MenuItem value={3}>Polarity</MenuItem>\r\n          <MenuItem value={4}>Subjectivity</MenuItem>\r\n          <MenuItem value={5}>Followers Per Retweet</MenuItem>\r\n          <MenuItem value={6}>Retweets Per Original Tweet</MenuItem>\r\n          <ListSubheader>Parliamentary Data (Coming Soon)</ListSubheader>\r\n          <MenuItem disabled value={7}>Yes Votes</MenuItem>\r\n          <MenuItem disabled value={8}>No Votes</MenuItem>\r\n          <MenuItem disabled value={9}>Abstentions</MenuItem>\r\n          <MenuItem disabled value={10}>Motions</MenuItem>\r\n          <MenuItem disabled value={11}>Questions Asked</MenuItem>\r\n          <ListSubheader>News Data (Coming Soon)</ListSubheader>\r\n          <MenuItem disabled value={12}>News Mentions</MenuItem>\r\n          <ListSubheader>Electoral Data (Coming Soon)</ListSubheader>\r\n          <MenuItem disabled value={13}>Votes recieved in last election</MenuItem>\r\n          <MenuItem disabled value={14}>Avg. Poll Rating</MenuItem>\r\n\r\n\r\n        </Select>\r\n      </FormControl>\r\n      <FormControl className={classes.formControl}>\r\n        <InputLabel style={{fill: \"white\", color: \"white\"}} htmlFor=\"grouped-select\">Y-Value</InputLabel>\r\n        <Select onChange={onChangeY} style={{ color: \"white\"}} classes={{icon:classes.icon}} defaultValue=\"\" id=\"grouped-select\">\r\n          <ListSubheader>Twitter Data</ListSubheader>\r\n          <MenuItem value={0}>Total Followers</MenuItem>\r\n          <MenuItem value={1}>Total Retweets</MenuItem>\r\n          <MenuItem value={2}>Original Tweets</MenuItem>\r\n          <MenuItem value={3}>Polarity</MenuItem>\r\n          <MenuItem value={4}>Subjectivity</MenuItem>\r\n          <MenuItem value={5}>Followers Per Retweet</MenuItem>\r\n          <MenuItem value={6}>Retweets Per Original Tweet</MenuItem>\r\n          <ListSubheader>Parliamentary Data (Coming Soon)</ListSubheader>\r\n          <MenuItem disabled value={7}>Yes Votes</MenuItem>\r\n          <MenuItem disabled value={8}>No Votes</MenuItem>\r\n          <MenuItem disabled value={9}>Abstentions</MenuItem>\r\n          <MenuItem disabled value={10}>Motions</MenuItem>\r\n          <MenuItem disabled value={11}>Questions Asked</MenuItem>\r\n          <ListSubheader>News Data (Coming Soon)</ListSubheader>\r\n          <MenuItem disabled value={12}>News Mentions</MenuItem>\r\n          <ListSubheader>Electoral Data (Coming Soon)</ListSubheader>\r\n          <MenuItem disabled value={13}>Votes recieved in last election</MenuItem>\r\n          <MenuItem disabled value={14}>Avg. Poll Rating</MenuItem>\r\n\r\n\r\n        </Select>\r\n      </FormControl>\r\n      <FormControl className={classes.formControl}>\r\n        <InputLabel style={{fill: \"white\", color: \"white\"}} htmlFor=\"grouped-select\">Circle Radius</InputLabel>\r\n        <Select onChange={onChangeR}style={{ color: \"white\"}} classes={{icon:classes.icon}}defaultValue=\"\" id=\"grouped-select\">\r\n          <MenuItem value={0}>\r\n            <em>None</em>\r\n          </MenuItem>\r\n          <ListSubheader>Twitter Data</ListSubheader>\r\n          <MenuItem value={0}>Total Followers</MenuItem>\r\n          <MenuItem value={1}>Total Retweets</MenuItem>\r\n          <MenuItem value={2}>Original Tweets</MenuItem>\r\n          <MenuItem value={3}>Polarity</MenuItem>\r\n          <MenuItem value={4}>Subjectivity</MenuItem>\r\n          <MenuItem value={5}>Followers Per Retweet</MenuItem>\r\n          <MenuItem value={6}>Retweets Per Original Tweet</MenuItem>\r\n          <ListSubheader>Parliamentary Data (Coming Soon)</ListSubheader>\r\n          <MenuItem disabled value={7}>Yes Votes</MenuItem>\r\n          <MenuItem disabled value={8}>No Votes</MenuItem>\r\n          <MenuItem disabled value={9}>Abstentions</MenuItem>\r\n          <MenuItem disabled value={10}>Motions</MenuItem>\r\n          <MenuItem disabled value={11}>Questions Asked</MenuItem>\r\n          <ListSubheader>News Data (Coming Soon)</ListSubheader>\r\n          <MenuItem disabled value={12}>News Mentions</MenuItem>\r\n          <ListSubheader>Electoral Data (Coming Soon)</ListSubheader>\r\n          <MenuItem disabled value={13}>Votes recieved in last election</MenuItem>\r\n          <MenuItem disabled value={14}>Avg. Poll Rating</MenuItem>\r\n\r\n\r\n        </Select>\r\n      </FormControl>\r\n    </div>\r\n    <List style={{display: \"inline-block\"}}>\r\n      <ListItem >\r\n        <ListItemText primary={\"x: \" + optionsExplanation[xOption] + \" (25/08/21)\"}/>\r\n          </ListItem>\r\n          <ListItem>\r\n            <ListItemText primary={\"y: \" + optionsExplanation[yOption] + \" (25/08/21)\"}/>\r\n             </ListItem>\r\n             <ListItem>\r\n            <ListItemText primary={\"r: \" + optionsExplanation[rOption] + \" (25/08/21)\"}/>\r\n            </ListItem>\r\n            \r\n    </List>\r\n    <div>\r\n<FormGroup style={{display: \"inline-block\",\r\n    verticalAlign: \"top\"}}>\r\n    <FormControlLabel\r\n        control={\r\n    <Checkbox\r\n          defaultChecked=\"true\"\r\n          name=\"checkedB\"\r\n          style={{color: '#326760'}}\r\n          value={\"Sinn Fin\"}\r\n          onChange={handleChange}\r\n          />\r\n        }\r\n        label=\"Sinn Fin\"\r\n        />\r\n            <FormControlLabel\r\n        control={\r\n    <Checkbox\r\n            defaultChecked=\"true\"\r\n            name=\"checkedB\"\r\n            style={{color: '#6699FF'}}\r\n            value={\"Fine Gael\"}\r\n            onChange={handleChange}\r\n          />\r\n        }\r\n        label=\"Fine Gael\"\r\n        />\r\n            <FormControlLabel\r\n        control={\r\n    <Checkbox\r\n            defaultChecked=\"true\"\r\n            name=\"checkedB\"\r\n            style={{color: \"#66BB66\"}}\r\n            value={\"Fianna Fil\"}\r\n            onChange={handleChange}\r\n          />\r\n        }\r\n        label=\"Fianna Fil\"\r\n        />\r\n            <FormControlLabel\r\n        control={\r\n    <Checkbox\r\n            defaultChecked=\"true\"\r\n            name=\"checkedB\"\r\n            style={{color: \"#CC0000\"}}\r\n            value={\"Labour Party\"}\r\n            onChange={handleChange}\r\n          />\r\n        }\r\n        label=\"Labour\"\r\n        />\r\n            <FormControlLabel\r\n        control={\r\n    <Checkbox\r\n            defaultChecked=\"true\"\r\n            name=\"checkedB\"\r\n            style={{color: \"white\"}}\r\n            value={\"Independent\"}\r\n            onChange={handleChange}\r\n          />\r\n        }\r\n        label=\"Independent\"\r\n        />\r\n            <FormControlLabel\r\n        control={\r\n    <Checkbox\r\n            defaultChecked=\"true\"\r\n            name=\"checkedB\"\r\n            style={{color: \"#8E2420\"}}\r\n            value={\"Solidarity - People Before Profit\"}\r\n            onChange={handleChange}\r\n          />\r\n        }\r\n        label=\"PBP\"\r\n        />\r\n            <FormControlLabel\r\n        control={\r\n    <Checkbox\r\n            defaultChecked=\"true\"\r\n            name=\"checkedB\"\r\n            style={{color: \"#752F8B\"}}\r\n            value={\"Social Democrats\"}\r\n            onChange={handleChange}\r\n          />\r\n        }\r\n        label=\"Soc Dems\"\r\n        />\r\n            <FormControlLabel\r\n        control={\r\n    <Checkbox\r\n            defaultChecked=\"true\"\r\n            name=\"checkedB\"\r\n            style={{color: \"#99CC33\"}}\r\n            value={\"Green Party\"}\r\n            onChange={handleChange}\r\n          />\r\n        }\r\n        label=\"Green Party\"\r\n        />\r\n            <FormControlLabel\r\n        control={\r\n    <Checkbox\r\n            defaultChecked=\"true\"\r\n            name=\"checkedB\"\r\n            style={{color: \"#44532A\"}}\r\n            value={\"Aont\"}\r\n            onChange={handleChange}\r\n          />\r\n        }\r\n        label=\"Aont\"\r\n        />\r\n            <FormControlLabel\r\n        control={\r\n    <Checkbox\r\n            defaultChecked=\"true\"\r\n            name=\"checkedB\"\r\n            style={{color: \"grey\"}}\r\n            value={\"Independents 4 Change\"}\r\n            onChange={handleChange}\r\n          />\r\n        }\r\n        label=\"Independents 4 Change\"\r\n        />\r\n             \r\n        </FormGroup>\r\n        </div>\r\n\r\n            </div>\r\n        <div className={\"scroll-svg-container\"}>\r\n        <svg id={\"scatterplot-svg\"}ref={svgRef} height={height + margin.top + margin.bottom} width={width + margin.left + margin.right}>\r\n            <g id=\"container\" transform={'translate(' + margin.left + ',' + margin.top + ')'}>\r\n            <g className=\"x-axis\"></g>\r\n            <g className=\"y-axis\"></g>\r\n            </g>\r\n            </svg>\r\n          </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Scatterplot\r\n","import * as d3 from 'd3'\r\nimport React from 'react'\r\nimport { useRef, useEffect, useState } from 'react'\r\nimport { allParties } from '../../../Backend/metaData'\r\nimport { chamber, current } from '../../../Backend/rollCall'\r\nimport { Typography, Checkbox, Select, MenuItem, ListSubheader, FormControl, InputLabel, makeStyles } from '@material-ui/core'\r\nimport { ContactSupport, ContactSupportOutlined, SlowMotionVideoOutlined } from '@material-ui/icons'\r\n\r\n\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    icon: {\r\n      color: \"white\"\r\n  },\r\n\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,   \r\n  }\r\n\r\n}));\r\n\r\nconst partyColors = {\r\n    \"Sinn Fin\": \"#326760\", \r\n    \"Fine Gael\": \"#6699FF\", \r\n    \"Fianna Fil\": \"#66BB66\",\r\n    \"Labour Party\": \"#CC0000\",\r\n    \"Solidarity - People Before Profit\": \"#8E2420\",\r\n    \"Independent\": \"white\",\r\n    \"Green Party\": \"#99CC33\",\r\n    \"Social Democrats\": \"#752F8B\",\r\n    \"Aont\": \"#44532A\",\r\n    \"Independents 4 Change\": \"grey\"}\r\n\r\n\r\nexport const PartyBarchart = ({data}) => {\r\n\r\n\r\n    const options = [\r\n\r\n    \"Followers\", \"Retweets\", \"Original Tweets\", \"TDs\", \"Average Followers\", \"Followers per Retweets\", \"Retweets per Original Tweet\"\r\n    \r\n    ]\r\n\r\n    const followers = d => d.totalFollows\r\n    const retweets = d => d.totalRetweets\r\n    const originalTweets = d => d.totalOriginalTweets\r\n    const TDAmount = d => d.TDAmount\r\n    const TDFollowerAvg = d => d.followersToTDs\r\n    const retweetsToFollowers = d => d.retweetsToFollowers\r\n    const retweetsToOriginalTweetsFunc = d => d.retweetsToOriginalTweets\r\n\r\n    const optionsFunctions = \r\n    \r\n    [ followers, retweets, originalTweets, TDAmount, TDFollowerAvg, retweetsToFollowers, retweetsToOriginalTweetsFunc]\r\n\r\n\r\n    const classes = useStyles();\r\n\r\n    \r\n    const [TDData, setTDData] = useState(null)\r\n    const [currentWeekIndex, setCurrentWeekIndex] = useState(null)\r\n    const [xOption, setXOption] = useState(1)\r\n    const [yOption, setYOption] = useState(0)\r\n    const [secOption, setSecOption] = useState(1)\r\n\r\n\r\n    const margin = {top: 20, right: 20, bottom: 20, left: 60}\r\n\r\n    const height = 600\r\n    const width = 1020\r\n\r\n    \r\n\r\n    const svgRef= useRef()\r\n\r\n\r\nconst onChangeX = (event, child) => {\r\n        setXOption(event.target.value)\r\n        console.log('x:' + event.target.value);\r\n        console.log(child);\r\n};\r\n\r\nconst onChangeY = (event, child) => {\r\n        setYOption(event.target.value)\r\n        console.log('y:' + event.target.value);\r\n        console.log(child);\r\n};\r\n\r\nconst onChangeSec = (event, child) => {\r\n    setSecOption(event.target.value)\r\n    console.log('sec:' + event.target.value);\r\n    console.log(child);\r\n};\r\n\r\n\r\nuseEffect(() => {\r\n\r\n    setTDData(data)\r\n\r\n}, [])\r\n\r\nuseEffect(() => {\r\n\r\n    if(!TDData) return null;\r\n\r\n    setCurrentWeekIndex(TDData[0].followerData.length - 1)\r\n\r\n}, [TDData])\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        if(!TDData || !currentWeekIndex) return null;\r\n\r\n        function makePartyObj() {\r\n\r\n        let partyArr = []\r\n\r\n        let parties = TDData.map(d => d.party)\r\n\r\n        parties = [...new Set(parties)];\r\n\r\n\r\n\r\n       function retweetsToFollowersFunc(i) {\r\n\r\n        var a = TDData.map(function(d) {\r\n            if(parties[i] === d.party) {\r\n                return d\r\n            }\r\n        }).filter(function(x) {\r\n                    return x !== undefined\r\n                })\r\n\r\n        var follows = a.map(d => d.followerData[currentWeekIndex].followers).reduce(function(a, b) {return a + b})\r\n        var retweets = a.map(d => d.retweetData[currentWeekIndex].retweets).reduce(function(a, b) {return a + b})\r\n        var ratio = follows / retweets\r\n\r\n        if(ratio === Infinity) {\r\n            ratio = 0\r\n        }\r\n\r\n        return ratio \r\n\r\n       }\r\n       function retweetsToOriginalTweetsFunc(i) {\r\n\r\n        var a = TDData.map(function(d) {\r\n            if(parties[i] === d.party) {\r\n                return d\r\n            }\r\n        }).filter(function(x) {\r\n                    return x !== undefined\r\n                })\r\n\r\n        var retweets = a.map(d => d.retweetData[currentWeekIndex].retweets).reduce(function(a, b) {return a + b})\r\n        var original_tweets = a.map(d => d.retweetData[currentWeekIndex].original_tweets).reduce(function(a, b) {return a + b})\r\n        var ratio = retweets / original_tweets\r\n\r\n        if(ratio === Infinity) {\r\n            ratio = 0\r\n        }\r\n\r\n        ratio = ratio ? ratio : 0;\r\n\r\n        return ratio \r\n\r\n       }\r\n\r\n            for(let i = 0; i < parties.length; i++) {\r\n\r\n\r\n        function partyObj() {\r\n            this.party = parties[i];\r\n            this.TDs = TDData.map(function(d) {\r\n                if(parties[i] === d.party) {\r\n                    return d\r\n                }\r\n            }).filter(function(x) {\r\n                        return x !== undefined\r\n                    })\r\n            this.totalFollows = this.TDs.map(d => d.followerData[currentWeekIndex].followers).reduce(function(a, b) {return a + b})\r\n            this.totalRetweets = this.TDs.map(d => d.retweetData[currentWeekIndex].retweets).reduce(function(a, b) {return a + b})\r\n            this.totalOriginalTweets = this.TDs.map(d => d.retweetData[currentWeekIndex].original_tweets).reduce(function(a, b) {return a + b})\r\n            this.TDAmount = this.TDs.length\r\n            this.followersToTDs = (this.TDs.map(d => d.followerData[currentWeekIndex].followers).reduce(function(a, b) {return a + b}) / this.TDAmount)\r\n            this.retweetsToFollowers = retweetsToFollowersFunc(i)\r\n            this.retweetsToOriginalTweets = retweetsToOriginalTweetsFunc(i)\r\n        }\r\n\r\n        partyArr.push(new partyObj())\r\n            }\r\n\r\n            return partyArr\r\n\r\n    }\r\n    \r\n\r\n\r\n    console.log(makePartyObj())\r\n\r\n    const partyData = makePartyObj()\r\n\r\n        const xValue = d => d.party\r\n        const yValue = optionsFunctions[yOption]\r\n        const secondaryValue = optionsFunctions[secOption]\r\n        const party = d => d.party     \r\n        const partyColor = d => partyColors[party(d)] \r\n\r\n        \r\n\r\n        const svg = d3.select(svgRef.current);\r\n\r\n        const xScale = d3.scaleBand()\r\n                            .domain(partyData.map(xValue))\r\n                            .range([0, width])\r\n                            .padding(0.2)\r\n\r\n\r\n        const yScale = d3.scaleLinear()\r\n                        .domain([0, d3.max(partyData, yValue)])\r\n                        .range([height, 0]);\r\n\r\n        const xAxis = d3.axisBottom(xScale).ticks(partyData.length);\r\n\r\n        svg\r\n            .select(\".x-axis\")\r\n            .attr(\"transform\", \"translate(0,\" + 600 + \")\")\r\n            .transition(2000)\r\n            .call(xAxis);\r\n\r\n        const yAxis = d3.axisLeft(yScale);\r\n\r\n    svg\r\n        .select(\".y-axis\")\r\n        .attr(\"transform\", \"translate(0,0)\")\r\n        .style(\"color\", \"white\")\r\n        .transition(500)\r\n        .call(yAxis)\r\n\r\n\r\n        \r\n        const tooltip = d3\r\n                .select('body')\r\n                .append('div')\r\n                .attr('class', 'd3-tooltip')\r\n                .style('position', 'absolute')\r\n                .style('z-index', '10')\r\n                .style('visibility', 'hidden')\r\n                .style('padding', '10px')\r\n                .style('background', 'rgba(0,0,0,0.6)')\r\n                .style('border-radius', '4px')\r\n                .style('color', '#fff')\r\n                .text('a simple tooltip');\r\n\r\n\r\n        var rects = d3.select(\"#container-party-bar\")\r\n                    .selectAll(\".bar\")\r\n                    .data(partyData)\r\n                    .join(\"rect\")\r\n                    .attr(\"class\", \"bar\")  \r\n                    .attr(\"fill\", partyColor)\r\n                    .attr(\"x\", d => xScale(xValue(d)))\r\n                    \r\n\r\n                rects.transition()\r\n                    .duration(400)\r\n                    .attr(\"y\", d => yScale(yValue(d)))\r\n                    .attr(\"width\", xScale.bandwidth())\r\n                    .attr(\"height\", d => 600 - yScale(yValue(d)))\r\n\r\n\r\n                    console.log(yScale(yValue(300)))\r\n\r\n\r\n\r\n                const hoverColor = \"#eec42d\"\r\n\r\n\r\n                rects\r\n                    .on('mouseover', function (d, i) {\r\n                        tooltip\r\n                        .html(\r\n                            `<div>Party: ${d.party}</div><div>${options[yOption]}: ${yValue(d).toLocaleString()}</div><div>${options[secOption]}: ${secondaryValue(d).toLocaleString()}</div></div>`\r\n                        )\r\n                            .style('visibility', 'visible');\r\n                            d3.select(this).transition().attr('fill', hoverColor);\r\n                        })\r\n                        .on('mousemove', function () {\r\n                            tooltip\r\n                            .style('top', d3.event.pageY - 10 + 'px')\r\n                            .style('left', d3.event.pageX + 10 + 'px');\r\n                        })\r\n                        .on('mouseout', function () {\r\n                            tooltip.html(``).style('visibility', 'hidden');\r\n                            d3.select(this).transition().attr('fill', partyColor);\r\n                        }); \r\n    }, [TDData, xOption, yOption, secOption, currentWeekIndex])\r\n\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n    <div className={\"featuredItem\"} style={{textAlign: \"center\"}}>\r\n            <Typography variant=\"h5\">Party Bar Chart</Typography>\r\n            <p style={{marginTop: \"10px\"}}>As of 25/08/21.</p>\r\n      <FormControl className={classes.formControl}>\r\n        <InputLabel style={{fill: \"white\", color: \"white\"}} htmlFor=\"grouped-select\">Y-Value</InputLabel>\r\n        <Select onChange={onChangeY} style={{ color: \"white\"}} classes={{icon:classes.icon}} defaultValue=\"\" id=\"grouped-select\">\r\n          <ListSubheader>Twitter Data</ListSubheader>\r\n          <MenuItem value={0}>Total Followers</MenuItem>\r\n          <MenuItem value={1}>Total Retweets</MenuItem>\r\n          <MenuItem value={2}>Original Tweets</MenuItem>\r\n          <MenuItem value={3}>TDs on Twitter</MenuItem>\r\n          <MenuItem value={4}>Avg Followers</MenuItem>  \r\n          <MenuItem value={5}>Followers per Retweet </MenuItem>       \r\n          <MenuItem value={6}>Retweets per Original Tweet</MenuItem>     \r\n          <ListSubheader>Parliamentary Data (Coming Soon)</ListSubheader>\r\n          <MenuItem disabled>Motions Tabled</MenuItem>\r\n          <MenuItem disabled>Questions Asked</MenuItem>\r\n          <ListSubheader>News Data (Coming Soon)</ListSubheader>\r\n          <MenuItem disabled>News Mentions</MenuItem>\r\n          <ListSubheader>Electoral Data (Coming Soon)</ListSubheader>\r\n          <MenuItem disabled>Votes recieved in last election</MenuItem>\r\n          <MenuItem disabled>Avg. Poll</MenuItem>\r\n        </Select>\r\n      </FormControl>\r\n      <FormControl className={classes.formControl}>\r\n        <InputLabel style={{fill: \"white\", color: \"white\"}} htmlFor=\"grouped-select\">Tooltip Value</InputLabel>\r\n        <Select onChange={onChangeSec} style={{ color: \"white\"}} classes={{icon:classes.icon}} defaultValue=\"\" id=\"grouped-select\">\r\n          <ListSubheader>Twitter Data</ListSubheader>\r\n          <MenuItem value={0}>Total Followers</MenuItem>\r\n          <MenuItem value={1}>Total Retweets</MenuItem>\r\n          <MenuItem value={2}>Original Tweets</MenuItem>\r\n          <MenuItem value={3}>TDs on Twitter</MenuItem>\r\n          <MenuItem value={4}>Avg Followers</MenuItem>  \r\n          <MenuItem value={5}>Followers per Retweet </MenuItem>       \r\n          <MenuItem value={6}>Retweets per Original Tweet</MenuItem>     \r\n          <ListSubheader>Parliamentary Data (Coming Soon)</ListSubheader>\r\n          <MenuItem disabled>Motions Tabled</MenuItem>\r\n          <MenuItem disabled>Questions Asked</MenuItem>\r\n          <ListSubheader>News Data (Coming Soon)</ListSubheader>\r\n          <MenuItem disabled>News Mentions</MenuItem>\r\n          <ListSubheader>Electoral Data (Coming Soon)</ListSubheader>\r\n          <MenuItem disabled>Votes recieved in last election</MenuItem>\r\n          <MenuItem disabled>Avg. Poll</MenuItem>\r\n        </Select>\r\n      </FormControl>\r\n        <div className={\"scroll-svg-container\"}>\r\n            <svg ref={svgRef} height={height + margin.top + margin.bottom} width={width + margin.left + margin.right}>\r\n            <g id=\"container-party-bar\" transform={'translate(' + margin.left + ',' + margin.top + ')'}>\r\n                <g className=\"x-axis\"></g>\r\n                <g className=\"y-axis\"></g>\r\n            </g>\r\n            </svg>\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport useAutocomplete from '@material-ui/lab/useAutocomplete';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport styled from 'styled-components';\r\nimport { chamber } from '../../../Backend/rollCall';\r\n\r\nconst Label = styled('label')`\r\n  padding: 0 0 4px;\r\n  line-height: 1.5;\r\n  display: block;\r\n`;\r\n\r\nconst InputWrapper = styled('div')`\r\n  width: 300px;\r\n  color: black;\r\n  border: 1px solid #d9d9d9;\r\n  background-color: #fff;\r\n  border-radius: 4px;\r\n  padding: 1px;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n\r\n\r\n  &:hover {\r\n    border-color: #40a9ff;\r\n  }\r\n\r\n  &.focused {\r\n    border-color: #40a9ff;\r\n    box-shadow: 0 0 0 2px rgba(24, 144, 255, 0.2);\r\n  }\r\n\r\n  & input {\r\n    color: black;\r\n    font-size: 14px;\r\n    height: 30px;\r\n    box-sizing: border-box;\r\n    padding: 4px 6px;\r\n    width: 0;\r\n    min-width: 30px;\r\n    flex-grow: 1;\r\n    border: 0;\r\n    margin: 0;\r\n    outline: 0;\r\n\r\n  }\r\n`;\r\n\r\nconst Tag = styled(({ label, onDelete, ...props }) => (\r\n  <div {...props}>\r\n    <span>{label}</span>\r\n    <CloseIcon onClick={onDelete} />\r\n  </div>\r\n))`\r\n  display: flex;\r\n  align-items: center;\r\n  height: 24px;\r\n  margin: 2px;\r\n  line-height: 22px;\r\n  background-color: #fafafa;\r\n  border: 1px solid #e8e8e8;\r\n  border-radius: 2px;\r\n  box-sizing: content-box;\r\n  padding: 0 4px 0 10px;\r\n  outline: 0;\r\n  overflow: hidden;\r\n\r\n  &:focus {\r\n    border-color: #40a9ff;\r\n    background-color: #e6f7ff;\r\n}\r\n\r\n  & span {\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n  }\r\n\r\n  & svg {\r\n    font-size: 12px;\r\n    cursor: pointer;\r\n    padding: 4px;\r\n  }\r\n`;\r\n\r\nconst Listbox = styled('ul')`\r\n\r\n\r\n  width: 300px;\r\n  margin: 2px 0 0;\r\n  padding: 0;\r\n  position: absolute;\r\n  list-style: none;\r\n  background-color: white;\r\n  overflow: auto;\r\n  max-height: 250px;\r\n  border-radius: 4px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\r\n  z-index: 1;\r\n  color: black;\r\n\r\n  & li {\r\n\r\n    padding: 5px 12px;\r\n    display: flex;\r\n\r\n    & span {\r\n      flex-grow: 1;\r\n    }\r\n\r\n    & svg {\r\n      color: transparent;\r\n    }\r\n  }\r\n\r\n  & li[aria-selected='true'] {\r\n    background-color: #fafafa;\r\n    font-weight: 600;\r\n    color: black;\r\n    \r\n\r\n    & svg {\r\n      color: green;\r\n    }\r\n  }\r\n\r\n  & li[data-focus='true'] {\r\n    background-color: #e6f7ff;\r\n    cursor: pointer;\r\n    color: black;\r\n\r\n    & svg {\r\n        color: black\r\n    }\r\n  }\r\n`;\r\n\r\nexport default function CustomizedHook() {\r\n  const {\r\n    getRootProps,\r\n    getInputLabelProps,\r\n    getInputProps,\r\n    getTagProps,\r\n    getListboxProps,\r\n    getOptionProps,\r\n    groupedOptions,\r\n    value,\r\n    focused,\r\n    setAnchorEl,\r\n  } = useAutocomplete({\r\n    id: 'customized-hook-demo',\r\n    defaultValue: [top100Films[1]],\r\n    multiple: true,\r\n    options: chamber,\r\n    getOptionLabel: (option) => option.name,\r\n  });\r\n\r\n\r\n\r\n\r\n\r\n\r\n  return (\r\n      <div>\r\n        <div {...getRootProps()}>\r\n          <Label {...getInputLabelProps()}>Filter</Label>\r\n          <InputWrapper ref={setAnchorEl} className={focused ? 'focused' : ''}>\r\n\r\n        \r\n            {value.map((option, index) => (\r\n              <Tag label={option.name} {...getTagProps({ index })} />\r\n            ))}\r\n            \r\n            <input {...getInputProps()} />\r\n          </InputWrapper>\r\n        </div>\r\n        {groupedOptions.length > 0 ? (\r\n          <Listbox {...getListboxProps()}>\r\n            {groupedOptions.map((option, index) => (\r\n              <li fill={option.partyColor} {...getOptionProps({ option, index })}>\r\n                <span >{option.name} <span style={{borderRadius: \"50%\", backgroundColor: option.partyColor, height:\"5px\", width:\"5px\", display: \"inline-block\"}}></span></span>\r\n                <CheckIcon fontSize=\"small\" />\r\n              </li>\r\n            ))}\r\n          </Listbox>\r\n        ) : null}\r\n      </div>\r\n\r\n  );\r\n}\r\n\r\n// Top 100 films as rated by IMDb users. http://www.imdb.com/chart/top\r\nconst top100Films = [\r\n  { title: 'The Shawshank Redemption', year: 1994 },\r\n  { title: 'The Godfather', year: 1972 },\r\n  { title: 'The Godfather: Part II', year: 1974 },\r\n  { title: 'The Dark Knight', year: 2008 },\r\n  { title: '12 Angry Men', year: 1957 },\r\n  { title: \"Schindler's List\", year: 1993 },\r\n  { title: 'Pulp Fiction', year: 1994 },\r\n  { title: 'The Lord of the Rings: The Return of the King', year: 2003 },\r\n  { title: 'The Good, the Bad and the Ugly', year: 1966 },\r\n  { title: 'Fight Club', year: 1999 },\r\n  { title: 'The Lord of the Rings: The Fellowship of the Ring', year: 2001 },\r\n  { title: 'Star Wars: Episode V - The Empire Strikes Back', year: 1980 },\r\n  { title: 'Forrest Gump', year: 1994 },\r\n  { title: 'Inception', year: 2010 },\r\n  { title: 'The Lord of the Rings: The Two Towers', year: 2002 },\r\n  { title: \"One Flew Over the Cuckoo's Nest\", year: 1975 },\r\n  { title: 'Goodfellas', year: 1990 },\r\n  { title: 'The Matrix', year: 1999 },\r\n  { title: 'Seven Samurai', year: 1954 },\r\n  { title: 'Star Wars: Episode IV - A New Hope', year: 1977 },\r\n  { title: 'City of God', year: 2002 },\r\n  { title: 'Se7en', year: 1995 },\r\n  { title: 'The Silence of the Lambs', year: 1991 },\r\n  { title: \"It's a Wonderful Life\", year: 1946 },\r\n  { title: 'Life Is Beautiful', year: 1997 },\r\n  { title: 'The Usual Suspects', year: 1995 },\r\n  { title: 'Lon: The Professional', year: 1994 },\r\n  { title: 'Spirited Away', year: 2001 },\r\n  { title: 'Saving Private Ryan', year: 1998 },\r\n  { title: 'Once Upon a Time in the West', year: 1968 },\r\n  { title: 'American History X', year: 1998 },\r\n  { title: 'Interstellar', year: 2014 },\r\n  { title: 'Casablanca', year: 1942 },\r\n  { title: 'City Lights', year: 1931 },\r\n  { title: 'Psycho', year: 1960 },\r\n  { title: 'The Green Mile', year: 1999 },\r\n  { title: 'The Intouchables', year: 2011 },\r\n  { title: 'Modern Times', year: 1936 },\r\n  { title: 'Raiders of the Lost Ark', year: 1981 },\r\n  { title: 'Rear Window', year: 1954 },\r\n  { title: 'The Pianist', year: 2002 },\r\n  { title: 'The Departed', year: 2006 },\r\n  { title: 'Terminator 2: Judgment Day', year: 1991 },\r\n  { title: 'Back to the Future', year: 1985 },\r\n  { title: 'Whiplash', year: 2014 },\r\n  { title: 'Gladiator', year: 2000 },\r\n  { title: 'Memento', year: 2000 },\r\n  { title: 'The Prestige', year: 2006 },\r\n  { title: 'The Lion King', year: 1994 },\r\n  { title: 'Apocalypse Now', year: 1979 },\r\n  { title: 'Alien', year: 1979 },\r\n  { title: 'Sunset Boulevard', year: 1950 },\r\n  { title: 'Dr. Strangelove or: How I Learned to Stop Worrying and Love the Bomb', year: 1964 },\r\n  { title: 'The Great Dictator', year: 1940 },\r\n  { title: 'Cinema Paradiso', year: 1988 },\r\n  { title: 'The Lives of Others', year: 2006 },\r\n  { title: 'Grave of the Fireflies', year: 1988 },\r\n  { title: 'Paths of Glory', year: 1957 },\r\n  { title: 'Django Unchained', year: 2012 },\r\n  { title: 'The Shining', year: 1980 },\r\n  { title: 'WALLE', year: 2008 },\r\n  { title: 'American Beauty', year: 1999 },\r\n  { title: 'The Dark Knight Rises', year: 2012 },\r\n  { title: 'Princess Mononoke', year: 1997 },\r\n  { title: 'Aliens', year: 1986 },\r\n  { title: 'Oldboy', year: 2003 },\r\n  { title: 'Once Upon a Time in America', year: 1984 },\r\n  { title: 'Witness for the Prosecution', year: 1957 },\r\n  { title: 'Das Boot', year: 1981 },\r\n  { title: 'Citizen Kane', year: 1941 },\r\n  { title: 'North by Northwest', year: 1959 },\r\n  { title: 'Vertigo', year: 1958 },\r\n  { title: 'Star Wars: Episode VI - Return of the Jedi', year: 1983 },\r\n  { title: 'Reservoir Dogs', year: 1992 },\r\n  { title: 'Braveheart', year: 1995 },\r\n  { title: 'M', year: 1931 },\r\n  { title: 'Requiem for a Dream', year: 2000 },\r\n  { title: 'Amlie', year: 2001 },\r\n  { title: 'A Clockwork Orange', year: 1971 },\r\n  { title: 'Like Stars on Earth', year: 2007 },\r\n  { title: 'Taxi Driver', year: 1976 },\r\n  { title: 'Lawrence of Arabia', year: 1962 },\r\n  { title: 'Double Indemnity', year: 1944 },\r\n  { title: 'Eternal Sunshine of the Spotless Mind', year: 2004 },\r\n  { title: 'Amadeus', year: 1984 },\r\n  { title: 'To Kill a Mockingbird', year: 1962 },\r\n  { title: 'Toy Story 3', year: 2010 },\r\n  { title: 'Logan', year: 2017 },\r\n  { title: 'Full Metal Jacket', year: 1987 },\r\n  { title: 'Dangal', year: 2016 },\r\n  { title: 'The Sting', year: 1973 },\r\n  { title: '2001: A Space Odyssey', year: 1968 },\r\n  { title: \"Singin' in the Rain\", year: 1952 },\r\n  { title: 'Toy Story', year: 1995 },\r\n  { title: 'Bicycle Thieves', year: 1948 },\r\n  { title: 'The Kid', year: 1921 },\r\n  { title: 'Inglourious Basterds', year: 2009 },\r\n  { title: 'Snatch', year: 2000 },\r\n  { title: '3 Idiots', year: 2009 },\r\n  { title: 'Monty Python and the Holy Grail', year: 1975 },\r\n];\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport ListSubheader from '@material-ui/core/ListSubheader';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport { options } from './AxisUtils/AxisUtils';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    icon: {\r\n      color: \"white\"\r\n  },\r\n\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n    \r\n  }\r\n\r\n}));\r\n\r\nexport default function GroupedSelect() {\r\n\r\n  \r\n  const classes = useStyles();\r\n\r\n  const onChangeX = (event, child) => {\r\n    console.log('x:' + event.target.value);\r\n    console.log(child);\r\n  };\r\n\r\n  const onChangeY = (event, child) => {\r\n    console.log('y:' + event.target.value);\r\n    console.log(child);\r\n  };\r\n\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n      <FormControl className={classes.formControl}>\r\n        <InputLabel style={{fill: \"white\", color: \"white\"}} htmlFor=\"grouped-select\">X-Value</InputLabel>\r\n        <Select  onChange={onChangeX} style={{ color: \"white\"}} classes={{icon:classes.icon}} defaultValue=\"\" id=\"grouped-select\">\r\n          <MenuItem value=\"\">\r\n            <em>None</em>\r\n          </MenuItem>\r\n          <ListSubheader>Twitter Data</ListSubheader>\r\n          <MenuItem value={1}>Total Followers</MenuItem>\r\n          <MenuItem value={2}>Total Retweets</MenuItem>\r\n          <MenuItem value={3}>Avg. Sentimenmt</MenuItem>\r\n          <MenuItem value={4}>Activty</MenuItem>\r\n          <MenuItem value={5}>Connectivity</MenuItem>\r\n          <ListSubheader>Parliamentary Data (Coming Soon)</ListSubheader>\r\n          <MenuItem value={6}>Yes Votes</MenuItem>\r\n          <MenuItem value={7}>No Votes</MenuItem>\r\n          <MenuItem value={8}>Motions Tabled</MenuItem>\r\n          <MenuItem value={9}>Questions Asked</MenuItem>\r\n          <ListSubheader>News Data (Coming Soon)</ListSubheader>\r\n          <MenuItem value={10}>News Mentions</MenuItem>\r\n          <ListSubheader>Electoral Data (Coming Soon)</ListSubheader>\r\n          <MenuItem value={11}>Votes in last election</MenuItem>\r\n          <MenuItem value={12}>Opinion polls</MenuItem>\r\n        </Select>\r\n      </FormControl>\r\n      <FormControl className={classes.formControl}>\r\n        <InputLabel style={{fill: \"white\", color: \"white\"}} htmlFor=\"grouped-select\">Y-Value</InputLabel>\r\n        <Select onChange={onChangeY} style={{ color: \"white\"}} classes={{icon:classes.icon}} defaultValue=\"\" id=\"grouped-select\">\r\n          <MenuItem value=\"\">\r\n            <em>None</em>\r\n          </MenuItem>\r\n          <ListSubheader>Twitter Data</ListSubheader>\r\n          <MenuItem value={1}>Total Followers</MenuItem>\r\n          <MenuItem value={2}>Total Retweets</MenuItem>\r\n          <MenuItem value={3}>Avg. Sentimenmt</MenuItem>\r\n          <MenuItem value={4}>Activty</MenuItem>\r\n          <MenuItem value={5}>Connectivity</MenuItem>\r\n          <ListSubheader>Parliamentary Data (Coming Soon)</ListSubheader>\r\n          <MenuItem value={6}>Yes Votes</MenuItem>\r\n          <MenuItem value={7}>No Votes</MenuItem>\r\n          <MenuItem value={8}>Motions Tabled</MenuItem>\r\n          <MenuItem value={9}>Questions Asked</MenuItem>\r\n          <ListSubheader>News Data (Coming Soon)</ListSubheader>\r\n          <MenuItem value={10}>News Mentions</MenuItem>\r\n          <ListSubheader>Electoral Data (Coming Soon)</ListSubheader>\r\n          <MenuItem value={11}>Votes in last election</MenuItem>\r\n          <MenuItem value={12}>Opinion polls</MenuItem>\r\n        </Select>\r\n      </FormControl>\r\n      <FormControl className={classes.formControl}>\r\n        <InputLabel style={{fill: \"white\", color: \"white\"}} htmlFor=\"grouped-select\">Circle Radius</InputLabel>\r\n        <Select style={{ color: \"white\"}} classes={{icon:classes.icon}}defaultValue=\"\" id=\"grouped-select\">\r\n          <MenuItem value=\"\">\r\n            <em>None</em>\r\n          </MenuItem>\r\n          <ListSubheader>Twitter Data</ListSubheader>\r\n          <MenuItem value={1}>Total Followers</MenuItem>\r\n          <MenuItem value={2}>Total Retweets</MenuItem>\r\n          <MenuItem value={3}>Avg. Sentimenmt</MenuItem>\r\n          <MenuItem value={4}>Activty</MenuItem>\r\n          <MenuItem value={5}>Connectivity</MenuItem>\r\n          <ListSubheader>Parliamentary Data (Coming Soon)</ListSubheader>\r\n          <MenuItem value={6}>Yes Votes</MenuItem>\r\n          <MenuItem value={7}>No Votes</MenuItem>\r\n          <MenuItem value={8}>Motions Tabled</MenuItem>\r\n          <MenuItem value={9}>Questions Asked</MenuItem>\r\n          <ListSubheader>News Data (Coming Soon)</ListSubheader>\r\n          <MenuItem value={10}>News Mentions</MenuItem>\r\n          <ListSubheader>Electoral Data (Coming Soon)</ListSubheader>\r\n          <MenuItem value={11}>Votes in last election</MenuItem>\r\n          <MenuItem value={12}>Opinion polls</MenuItem>\r\n\r\n        </Select>\r\n      </FormControl>\r\n    </div>\r\n  );\r\n}","import React from 'react'\r\nimport { useRef, useEffect, useState} from 'react'\r\nimport * as d3 from 'd3'\r\nimport { chamber } from '../../../Backend/rollCall'\r\nimport { axisBottom, axisLeft, svg } from 'd3'\r\nimport { current } from '../../../Backend/rollCall'\r\nimport { Typography, Checkbox, Select, ListItem } from '@material-ui/core'\r\nimport CustomizedHook from './SearchSelectBox'\r\nimport GroupedSelect from './GroupedSelectBox'\r\nimport './scatterplot.css'\r\nimport { MenuItem, ListSubheader, FormControl, InputLabel, makeStyles, List, ListItemText } from '@material-ui/core'\r\nimport axios from 'axios'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n        icon: {\r\n          color: \"white\"\r\n      },\r\n    \r\n      formControl: {\r\n        margin: theme.spacing(1),\r\n        minWidth: 120,   \r\n      }\r\n    \r\n}));\r\n\r\nconst partyColors = {\r\n\"Sinn Fin\": \"#326760\", \r\n\"Fine Gael\": \"#6699FF\", \r\n\"Fianna Fil\": \"#66BB66\",\r\n\"Labour Party\": \"#CC0000\",\r\n\"Solidarity - People Before Profit\": \"#8E2420\",\r\n\"Independent\": \"white\",\r\n\"Green Party\": \"#99CC33\",\r\n\"Social Democrats\": \"#752F8B\",\r\n\"Aont\": \"#44532A\"}\r\n\r\nconst ScatterplotZoom = ({data}) => {\r\n\r\n\r\n\r\n\r\n    const [TDData, setTDData] = useState(null)\r\n    const [xOption, setXOption] = useState(0)\r\n    const [yOption, setYOption] = useState(1)\r\n    const [rOption, setROption] = useState(0)\r\n\r\n    const followers = d => d.followerData[0].followers\r\n    const retweets = d => d.retweetData[0].retweets\r\n    const sentiment = d => d.retweetData[0].original_tweets\r\n    \r\n    const optionsFunctions = [followers, retweets, sentiment]\r\n\r\n    const xValue = optionsFunctions[xOption]\r\n    const yValue = optionsFunctions[yOption]\r\n    const rValue = optionsFunctions[rOption]\r\n\r\n    useEffect(() => {\r\n\r\n        setTDData(data)\r\n        console.log(TDData)\r\n\r\n    }, [data])\r\n\r\n\r\n  function getTDsFromApiAsync() {\r\n  return fetch(\"https://api.oireachtas.ie/v1/members?date_start=1900-01-01&chamber_id=&date_end=2099-01-01&limit=50\")\r\n  .then((response) => response.json())\r\n  .then((responseJson) => {\r\n    return responseJson.movies;\r\n  })\r\n  .catch((error) => {\r\n    console.error(error);\r\n  });\r\n}\r\n\r\n\r\nconsole.log(getTDsFromApiAsync())\r\n\r\n  const wrapperRef = useRef()\r\n  const svgRef = useRef()\r\n\r\n    const options = [\r\n\r\n        \"Followers\", \"Retweets\", \"Sentiment\"\r\n        ]\r\n\r\n\r\n    \r\n    \r\n\r\n    const classes = useStyles();\r\n\r\n\r\n    const onChangeX = (event, child) => {\r\n            setXOption(event.target.value)\r\n            console.log('x:' + event.target.value);\r\n            console.log(child);\r\n    };\r\n\r\n    const onChangeY = (event, child) => {\r\n            setYOption(event.target.value)\r\n            console.log('y:' + event.target.value);\r\n            console.log(child);\r\n    };\r\n\r\n    const onChangeR = (event, child) => {\r\n        setROption(event.target.value)\r\n        console.log('r:' + event.target.value);\r\n        console.log(child);\r\n};\r\n\r\n    const margin = {top: 20, right: 20, bottom: 20, left: 50}\r\n    \r\n    const height = 620 - margin.left - margin.right;\r\n    const width = 820 - margin.top - margin.bottom;        \r\n    \r\n\r\n\r\n\r\n\r\n\r\n\r\n    useEffect(() => {\r\n\r\n      console.log(TDData)\r\n\r\n      if(!TDData) return null;\r\n      \r\n\r\n\r\n\r\n    const filteredTDData = TDData.filter( function(d) {\r\n          \r\n      if(d.followerData[0] != undefined) {\r\n      return d\r\n    }\r\n  }\r\n  )\r\n\r\n\r\n          console.log(filteredTDData)\r\n\r\n      const svg = d3.select(svgRef.current)\r\n\r\n      function zoomed({transform}) {\r\n        const zx = transform.rescaleX(xScale).interpolate(d3.interpolateRound);\r\n        const zy = transform.rescaleY(yScale).interpolate(d3.interpolateRound);\r\n        circles.attr(\"transform\", transform).attr(\"stroke-width\", 5 / transform(height/width));\r\n        svg.select('x-axis').call(xAxis, zx);\r\n        svg.select('y-axis').call(yAxis, zy);\r\n      }\r\n\r\n    const zoom = d3.zoom()\r\n      .scaleExtent([0.5, 32])\r\n      .on(\"zoom\", zoomed);\r\n\r\n    svg.select('container').call(zoom).call(zoom.transform, d3.zoomIdentity);\r\n\r\n\r\n\r\n\r\n        const xScale = d3.scaleLinear()\r\n                        .range([0, width])\r\n                        .domain(d3.extent(filteredTDData, xValue))\r\n\r\n\r\n\r\n        const yScale = d3.scaleLinear()\r\n                        .range([height, 0])\r\n                        .domain(d3.extent(filteredTDData, yValue))\r\n                        \r\n        const rScale = d3.scaleLinear()\r\n                        .range([2, 15])\r\n                        .domain(d3.extent(filteredTDData, rValue))\r\n\r\n        const party = d => d.party\r\n        const partyColor = d => partyColors[party(d)]\r\n        const name = d => d.name\r\n    \r\n       \r\n\r\n        const xAxis = axisBottom(xScale);        \r\n        \r\n        svg.select(\".x-axis\")\r\n            .attr(\"transform\", \"translate(0,\" + height + \")\")\r\n            .transition()\r\n            .duration(500)\r\n            .call(xAxis)\r\n\r\n\r\n\r\n            \r\n\r\n        const yAxis = axisLeft(yScale);\r\n\r\n        svg.select(\".y-axis\")\r\n        .attr(\"transform\", \"translate(0, 0)\")\r\n            .transition()\r\n            .duration(500)\r\n            .call(yAxis)\r\n\r\n            const tooltip = d3\r\n            .select('body')\r\n            .append('div')\r\n            .attr('class', 'd3-tooltip')\r\n            .style('position', 'absolute')\r\n            .style('z-index', '10')\r\n            .style('visibility', 'hidden')\r\n            .style('padding', '10px')\r\n            .style('background', 'rgba(0,0,0,0.6)')\r\n            .style('border-radius', '4px')\r\n            .style('color', '#fff')\r\n            .text('a simple tooltip');\r\n\r\n            const hoverColor = \"#eec42d\"\r\n       \r\n        var circles = d3.select(\"#container\")\r\n                        .selectAll(\".node\")\r\n                        .data(filteredTDData)\r\n                        .join(\"circle\")\r\n                        .attr(\"class\", \"node\")\r\n                        .attr(\"fill\", partyColor)\r\n                        .attr('fill-opacity', 0.75)\r\n                        .attr(\"name\", name)\r\n\r\n            circles.transition()\r\n                    .duration(500)\r\n                    .attr(\"cx\", d => xScale(xValue(d)))\r\n                    .attr(\"cy\", d => yScale(yValue(d)))\r\n                    .attr(\"r\", d => rScale(rValue(d)))\r\n\r\n            circles.on('mouseover', function (d, i) {\r\n            tooltip\r\n            .html(\r\n                `<div>TD: ${d.name}</div><div>Party: ${d.party}</div><div>x: ${options[xOption]}: ${xValue(d)}</div><div>y: ${options[yOption]}: ${yValue(d)}</div><div>r: ${options[rOption]}: ${rValue(d)}</div>`\r\n            )\r\n                .style('visibility', 'visible');\r\n                d3.select(this).transition().attr('fill', hoverColor);\r\n            })\r\n            .on('mousemove', function () {\r\n                tooltip\r\n                .style('top', d3.event.pageY - 10 + 'px')\r\n                .style('left', d3.event.pageX + 10 + 'px');\r\n            })\r\n            .on('mouseout', function () {\r\n                tooltip.html(``).style('visibility', 'hidden');\r\n                d3.select(this).transition().attr('fill', partyColor);\r\n            }); \r\n\r\n\r\n          \r\n    }, [TDData, xOption, yOption, rOption])\r\n\r\n    \r\n    if (!TDData) return null;\r\n\r\n    return (\r\n\r\n        <div className={\"featuredItem\"} style={{textAlign: \"center\", margin: \"10px\", padding: \"10px\"}}>\r\n        <Typography style={{marginBottom: 20}} align=\"center\" variant=\"h5\">Interactive Scatter Plot</Typography>\r\n        \r\n            <div>\r\n                {/* <CustomizedHook/> */}\r\n                <div>\r\n                    \r\n      <FormControl className={classes.formControl}>\r\n        <InputLabel style={{fill: \"white\", color: \"white\"}} htmlFor=\"grouped-select\">X-Value</InputLabel>\r\n        <Select  onChange={onChangeX} style={{ color: \"white\"}} classes={{icon:classes.icon}} defaultValue=\"\" id=\"grouped-select\">\r\n          <ListSubheader>Twitter Data</ListSubheader>\r\n          <MenuItem value={0}>Total Followers</MenuItem>\r\n          <MenuItem value={1}>Total Retweets</MenuItem>\r\n          <MenuItem value={2}>Avg. Sentiment</MenuItem>\r\n          <MenuItem value={3}>Activity</MenuItem>\r\n          <MenuItem value={4}>Connectivity</MenuItem>\r\n          <ListSubheader>Parliamentary Data (Coming Soon)</ListSubheader>\r\n          <MenuItem value={5}>Yes Votes</MenuItem>\r\n          <MenuItem value={6}>No Votes</MenuItem>\r\n          <MenuItem value={7}>Motions Tabled</MenuItem>\r\n          <MenuItem value={8}>Questions Asked</MenuItem>\r\n          <ListSubheader>News Data (Coming Soon)</ListSubheader>\r\n          <MenuItem value={9}>News Mentions</MenuItem>\r\n          <ListSubheader>Electoral Data (Coming Soon)</ListSubheader>\r\n          <MenuItem value={10}>Votes recieved in last election</MenuItem>\r\n          <MenuItem value={11}>Avg. Poll Rating</MenuItem>\r\n        </Select>\r\n      </FormControl>\r\n      <FormControl className={classes.formControl}>\r\n        <InputLabel style={{fill: \"white\", color: \"white\"}} htmlFor=\"grouped-select\">Y-Value</InputLabel>\r\n        <Select onChange={onChangeY} style={{ color: \"white\"}} classes={{icon:classes.icon}} defaultValue=\"\" id=\"grouped-select\">\r\n          <ListSubheader>Twitter Data</ListSubheader>\r\n          <MenuItem value={0}>Total Followers</MenuItem>\r\n          <MenuItem value={1}>Total Retweets</MenuItem>\r\n          <MenuItem value={2}>Avg. Sentiment</MenuItem>\r\n          <MenuItem value={3}>Activity</MenuItem>\r\n          <MenuItem value={4}>Connectivity</MenuItem>\r\n          <ListSubheader>Parliamentary Data (Coming Soon)</ListSubheader>\r\n          <MenuItem value={5}>Yes Votes</MenuItem>\r\n          <MenuItem value={6}>No Votes</MenuItem>\r\n          <MenuItem value={7}>Motions Tabled</MenuItem>\r\n          <MenuItem value={8}>Questions Asked</MenuItem>\r\n          <ListSubheader>News Data (Coming Soon)</ListSubheader>\r\n          <MenuItem value={9}>News Mentions</MenuItem>\r\n          <ListSubheader>Electoral Data (Coming Soon)</ListSubheader>\r\n          <MenuItem value={10}>Votes recieved in last election</MenuItem>\r\n          <MenuItem value={11}>Avg. Poll</MenuItem>\r\n        </Select>\r\n      </FormControl>\r\n      <FormControl className={classes.formControl}>\r\n        <InputLabel style={{fill: \"white\", color: \"white\"}} htmlFor=\"grouped-select\">Circle Radius</InputLabel>\r\n        <Select onChange={onChangeR}style={{ color: \"white\"}} classes={{icon:classes.icon}}defaultValue=\"\" id=\"grouped-select\">\r\n          <MenuItem value={0}>\r\n            <em>None</em>\r\n          </MenuItem>\r\n          <ListSubheader>Twitter Data</ListSubheader>\r\n          <MenuItem value={1}>Total Followers</MenuItem>\r\n          <MenuItem value={2}>Total Retweets</MenuItem>\r\n          <MenuItem value={3}>Avg. Sentiment</MenuItem>\r\n          <MenuItem value={4}>Activity</MenuItem>\r\n          <MenuItem value={5}>Connectivity</MenuItem>\r\n          <ListSubheader>Parliamentary Data (Coming Soon)</ListSubheader>\r\n          <MenuItem value={6}>Yes Votes</MenuItem>\r\n          <MenuItem value={7}>No Votes</MenuItem>\r\n          <MenuItem value={8}>Motions Tabled</MenuItem>\r\n          <MenuItem value={9}>Questions Asked</MenuItem>\r\n          <ListSubheader>News Data (Coming Soon)</ListSubheader>\r\n          <MenuItem value={10}>News Mentions</MenuItem>\r\n          <ListSubheader>Electoral Data (Coming Soon)</ListSubheader>\r\n          <MenuItem value={11}>Votes recieved in last election</MenuItem>\r\n          <MenuItem value={12}>Avg. Poll Rating</MenuItem>\r\n\r\n        </Select>\r\n      </FormControl>\r\n    </div>\r\n    <List style={{display: \"inline-block\"}}>\r\n      <ListItem >\r\n        <ListItemText primary=\"x: Number of Twitter followers a TD has on last check (29/03/02)\"/>\r\n          </ListItem>\r\n          <ListItem>\r\n            <ListItemText primary=\"y: Number of retweets a TD has received since tracking began (29/03/02)\"/>\r\n             </ListItem>\r\n             <ListItem>\r\n            <ListItemText primary=\"r: A TD's average tweet sentiment over the latest 7-day-period\"/>\r\n            </ListItem>\r\n            \r\n    </List>\r\n            </div>\r\n        <div className={\"scroll-svg-container\"}>\r\n        <svg id={\"scatterplot-svg\"}ref={svgRef} height={height + margin.top + margin.bottom} width={width + margin.left + margin.right}>\r\n            <g id=\"container\" transform={'translate(' + margin.left + ',' + margin.top + ')'}>\r\n            <g className=\"x-axis\"></g>\r\n            <g className=\"y-axis\"></g>\r\n            </g>\r\n            </svg>\r\n          </div>\r\n        </div>\r\n    )\r\n}\r\nexport default ScatterplotZoom\r\n","import React from 'react';\r\nimport useAutocomplete from '@material-ui/lab/useAutocomplete';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport styled from 'styled-components';\r\nimport { chamber } from '../../../Backend/rollCall';\r\n\r\nconst Label = styled('label')`\r\n  padding: 0 0 4px;\r\n  line-height: 1.5;\r\n  display: block;\r\n`;\r\n\r\nconst InputWrapper = styled('div')`\r\n  width: 300px;\r\n  color: black;\r\n  border: 1px solid #d9d9d9;\r\n  background-color: #fff;\r\n  border-radius: 4px;\r\n  padding: 1px;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n\r\n\r\n  &:hover {\r\n    border-color: #40a9ff;\r\n  }\r\n\r\n  &.focused {\r\n    border-color: #40a9ff;\r\n    box-shadow: 0 0 0 2px rgba(24, 144, 255, 0.2);\r\n  }\r\n\r\n  & input {\r\n    color: black;\r\n    font-size: 14px;\r\n    height: 30px;\r\n    box-sizing: border-box;\r\n    padding: 4px 6px;\r\n    width: 0;\r\n    min-width: 30px;\r\n    flex-grow: 1;\r\n    border: 0;\r\n    margin: 0;\r\n    outline: 0;\r\n\r\n  }\r\n`;\r\n\r\nconst Tag = styled(({ label, onDelete, ...props }) => (\r\n  <div {...props}>\r\n    <span>{label}</span>\r\n    <CloseIcon onClick={onDelete} />\r\n  </div>\r\n))`\r\n  display: flex;\r\n  align-items: center;\r\n  height: 24px;\r\n  margin: 2px;\r\n  line-height: 22px;\r\n  background-color: #fafafa;\r\n  border: 1px solid #e8e8e8;\r\n  border-radius: 2px;\r\n  box-sizing: content-box;\r\n  padding: 0 4px 0 10px;\r\n  outline: 0;\r\n  overflow: hidden;\r\n\r\n  &:focus {\r\n    border-color: #40a9ff;\r\n    background-color: #e6f7ff;\r\n}\r\n\r\n  & span {\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n  }\r\n\r\n  & svg {\r\n    font-size: 12px;\r\n    cursor: pointer;\r\n    padding: 4px;\r\n  }\r\n`;\r\n\r\nconst Listbox = styled('ul')`\r\n\r\n\r\n  width: 300px;\r\n  margin: 2px 0 0;\r\n  padding: 0;\r\n  position: absolute;\r\n  list-style: none;\r\n  background-color: white;\r\n  overflow: auto;\r\n  max-height: 250px;\r\n  border-radius: 4px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\r\n  z-index: 1;\r\n  color: black;\r\n\r\n  & li {\r\n\r\n    padding: 5px 12px;\r\n    display: flex;\r\n\r\n    & span {\r\n      flex-grow: 1;\r\n    }\r\n\r\n    & svg {\r\n      color: transparent;\r\n    }\r\n  }\r\n\r\n  & li[aria-selected='true'] {\r\n    background-color: #fafafa;\r\n    font-weight: 600;\r\n    color: black;\r\n    \r\n\r\n    & svg {\r\n      color: green;\r\n    }\r\n  }\r\n\r\n  & li[data-focus='true'] {\r\n    background-color: #e6f7ff;\r\n    cursor: pointer;\r\n    color: black;\r\n\r\n    & svg {\r\n        color: black\r\n    }\r\n  }\r\n`;\r\n\r\nexport default function CustomizedHook() {\r\n  const {\r\n    getRootProps,\r\n    getInputLabelProps,\r\n    getInputProps,\r\n    getTagProps,\r\n    getListboxProps,\r\n    getOptionProps,\r\n    groupedOptions,\r\n    value,\r\n    focused,\r\n    setAnchorEl,\r\n  } = useAutocomplete({\r\n    id: 'customized-hook-demo',\r\n    defaultValue: [top100Films[1]],\r\n    multiple: true,\r\n    options: chamber,\r\n    getOptionLabel: (option) => option.name,\r\n  });\r\n\r\n\r\n\r\n\r\n\r\n\r\n  return (\r\n      <div>\r\n        <div {...getRootProps()}>\r\n          <Label {...getInputLabelProps()}>Filter</Label>\r\n          <InputWrapper ref={setAnchorEl} className={focused ? 'focused' : ''}>\r\n\r\n        \r\n            {value.map((option, index) => (\r\n              <Tag label={option.name} {...getTagProps({ index })} />\r\n            ))}\r\n            \r\n            <input {...getInputProps()} />\r\n          </InputWrapper>\r\n        </div>\r\n        {groupedOptions.length > 0 ? (\r\n          <Listbox {...getListboxProps()}>\r\n            {groupedOptions.map((option, index) => (\r\n              <li fill={option.partyColor} {...getOptionProps({ option, index })}>\r\n                <span >{option.name} <span style={{borderRadius: \"50%\", backgroundColor: option.partyColor, height:\"5px\", width:\"5px\", display: \"inline-block\"}}></span></span>\r\n                <CheckIcon fontSize=\"small\" />\r\n              </li>\r\n            ))}\r\n          </Listbox>\r\n        ) : null}\r\n      </div>\r\n\r\n  );\r\n}\r\n\r\n// Top 100 films as rated by IMDb users. http://www.imdb.com/chart/top\r\nconst top100Films = [\r\n  { title: 'The Shawshank Redemption', year: 1994 },\r\n  { title: 'The Godfather', year: 1972 },\r\n  { title: 'The Godfather: Part II', year: 1974 },\r\n  { title: 'The Dark Knight', year: 2008 },\r\n  { title: '12 Angry Men', year: 1957 },\r\n  { title: \"Schindler's List\", year: 1993 },\r\n  { title: 'Pulp Fiction', year: 1994 },\r\n  { title: 'The Lord of the Rings: The Return of the King', year: 2003 },\r\n  { title: 'The Good, the Bad and the Ugly', year: 1966 },\r\n  { title: 'Fight Club', year: 1999 },\r\n  { title: 'The Lord of the Rings: The Fellowship of the Ring', year: 2001 },\r\n  { title: 'Star Wars: Episode V - The Empire Strikes Back', year: 1980 },\r\n  { title: 'Forrest Gump', year: 1994 },\r\n  { title: 'Inception', year: 2010 },\r\n  { title: 'The Lord of the Rings: The Two Towers', year: 2002 },\r\n  { title: \"One Flew Over the Cuckoo's Nest\", year: 1975 },\r\n  { title: 'Goodfellas', year: 1990 },\r\n  { title: 'The Matrix', year: 1999 },\r\n  { title: 'Seven Samurai', year: 1954 },\r\n  { title: 'Star Wars: Episode IV - A New Hope', year: 1977 },\r\n  { title: 'City of God', year: 2002 },\r\n  { title: 'Se7en', year: 1995 },\r\n  { title: 'The Silence of the Lambs', year: 1991 },\r\n  { title: \"It's a Wonderful Life\", year: 1946 },\r\n  { title: 'Life Is Beautiful', year: 1997 },\r\n  { title: 'The Usual Suspects', year: 1995 },\r\n  { title: 'Lon: The Professional', year: 1994 },\r\n  { title: 'Spirited Away', year: 2001 },\r\n  { title: 'Saving Private Ryan', year: 1998 },\r\n  { title: 'Once Upon a Time in the West', year: 1968 },\r\n  { title: 'American History X', year: 1998 },\r\n  { title: 'Interstellar', year: 2014 },\r\n  { title: 'Casablanca', year: 1942 },\r\n  { title: 'City Lights', year: 1931 },\r\n  { title: 'Psycho', year: 1960 },\r\n  { title: 'The Green Mile', year: 1999 },\r\n  { title: 'The Intouchables', year: 2011 },\r\n  { title: 'Modern Times', year: 1936 },\r\n  { title: 'Raiders of the Lost Ark', year: 1981 },\r\n  { title: 'Rear Window', year: 1954 },\r\n  { title: 'The Pianist', year: 2002 },\r\n  { title: 'The Departed', year: 2006 },\r\n  { title: 'Terminator 2: Judgment Day', year: 1991 },\r\n  { title: 'Back to the Future', year: 1985 },\r\n  { title: 'Whiplash', year: 2014 },\r\n  { title: 'Gladiator', year: 2000 },\r\n  { title: 'Memento', year: 2000 },\r\n  { title: 'The Prestige', year: 2006 },\r\n  { title: 'The Lion King', year: 1994 },\r\n  { title: 'Apocalypse Now', year: 1979 },\r\n  { title: 'Alien', year: 1979 },\r\n  { title: 'Sunset Boulevard', year: 1950 },\r\n  { title: 'Dr. Strangelove or: How I Learned to Stop Worrying and Love the Bomb', year: 1964 },\r\n  { title: 'The Great Dictator', year: 1940 },\r\n  { title: 'Cinema Paradiso', year: 1988 },\r\n  { title: 'The Lives of Others', year: 2006 },\r\n  { title: 'Grave of the Fireflies', year: 1988 },\r\n  { title: 'Paths of Glory', year: 1957 },\r\n  { title: 'Django Unchained', year: 2012 },\r\n  { title: 'The Shining', year: 1980 },\r\n  { title: 'WALLE', year: 2008 },\r\n  { title: 'American Beauty', year: 1999 },\r\n  { title: 'The Dark Knight Rises', year: 2012 },\r\n  { title: 'Princess Mononoke', year: 1997 },\r\n  { title: 'Aliens', year: 1986 },\r\n  { title: 'Oldboy', year: 2003 },\r\n  { title: 'Once Upon a Time in America', year: 1984 },\r\n  { title: 'Witness for the Prosecution', year: 1957 },\r\n  { title: 'Das Boot', year: 1981 },\r\n  { title: 'Citizen Kane', year: 1941 },\r\n  { title: 'North by Northwest', year: 1959 },\r\n  { title: 'Vertigo', year: 1958 },\r\n  { title: 'Star Wars: Episode VI - Return of the Jedi', year: 1983 },\r\n  { title: 'Reservoir Dogs', year: 1992 },\r\n  { title: 'Braveheart', year: 1995 },\r\n  { title: 'M', year: 1931 },\r\n  { title: 'Requiem for a Dream', year: 2000 },\r\n  { title: 'Amlie', year: 2001 },\r\n  { title: 'A Clockwork Orange', year: 1971 },\r\n  { title: 'Like Stars on Earth', year: 2007 },\r\n  { title: 'Taxi Driver', year: 1976 },\r\n  { title: 'Lawrence of Arabia', year: 1962 },\r\n  { title: 'Double Indemnity', year: 1944 },\r\n  { title: 'Eternal Sunshine of the Spotless Mind', year: 2004 },\r\n  { title: 'Amadeus', year: 1984 },\r\n  { title: 'To Kill a Mockingbird', year: 1962 },\r\n  { title: 'Toy Story 3', year: 2010 },\r\n  { title: 'Logan', year: 2017 },\r\n  { title: 'Full Metal Jacket', year: 1987 },\r\n  { title: 'Dangal', year: 2016 },\r\n  { title: 'The Sting', year: 1973 },\r\n  { title: '2001: A Space Odyssey', year: 1968 },\r\n  { title: \"Singin' in the Rain\", year: 1952 },\r\n  { title: 'Toy Story', year: 1995 },\r\n  { title: 'Bicycle Thieves', year: 1948 },\r\n  { title: 'The Kid', year: 1921 },\r\n  { title: 'Inglourious Basterds', year: 2009 },\r\n  { title: 'Snatch', year: 2000 },\r\n  { title: '3 Idiots', year: 2009 },\r\n  { title: 'Monty Python and the Holy Grail', year: 1975 },\r\n];\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport ListSubheader from '@material-ui/core/ListSubheader';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport { options } from './AxisUtils/AxisUtils';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    icon: {\r\n      color: \"white\"\r\n  },\r\n\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n    \r\n  }\r\n\r\n}));\r\n\r\nexport default function GroupedSelect() {\r\n\r\n  \r\n  const classes = useStyles();\r\n\r\n  const onChangeX = (event, child) => {\r\n    console.log('x:' + event.target.value);\r\n    console.log(child);\r\n  };\r\n\r\n  const onChangeY = (event, child) => {\r\n    console.log('y:' + event.target.value);\r\n    console.log(child);\r\n  };\r\n\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n      <FormControl className={classes.formControl}>\r\n        <InputLabel style={{fill: \"white\", color: \"white\"}} htmlFor=\"grouped-select\">X-Value</InputLabel>\r\n        <Select  onChange={onChangeX} style={{ color: \"white\"}} classes={{icon:classes.icon}} defaultValue=\"\" id=\"grouped-select\">\r\n          <MenuItem value=\"\">\r\n            <em>None</em>\r\n          </MenuItem>\r\n          <ListSubheader>Twitter Data</ListSubheader>\r\n          <MenuItem value={1}>Total Followers</MenuItem>\r\n          <MenuItem value={2}>Total Retweets</MenuItem>\r\n          <MenuItem value={3}>Avg. Sentimenmt</MenuItem>\r\n          <MenuItem value={4}>Activty</MenuItem>\r\n          <MenuItem value={5}>Connectivity</MenuItem>\r\n          <ListSubheader>Parliamentary Data (Coming Soon)</ListSubheader>\r\n          <MenuItem value={6}>Yes Votes</MenuItem>\r\n          <MenuItem value={7}>No Votes</MenuItem>\r\n          <MenuItem value={8}>Motions Tabled</MenuItem>\r\n          <MenuItem value={9}>Questions Asked</MenuItem>\r\n          <ListSubheader>News Data (Coming Soon)</ListSubheader>\r\n          <MenuItem value={10}>News Mentions</MenuItem>\r\n          <ListSubheader>Electoral Data (Coming Soon)</ListSubheader>\r\n          <MenuItem value={11}>Votes in last election</MenuItem>\r\n          <MenuItem value={12}>Opinion polls</MenuItem>\r\n        </Select>\r\n      </FormControl>\r\n      <FormControl className={classes.formControl}>\r\n        <InputLabel style={{fill: \"white\", color: \"white\"}} htmlFor=\"grouped-select\">Y-Value</InputLabel>\r\n        <Select onChange={onChangeY} style={{ color: \"white\"}} classes={{icon:classes.icon}} defaultValue=\"\" id=\"grouped-select\">\r\n          <MenuItem value=\"\">\r\n            <em>None</em>\r\n          </MenuItem>\r\n          <ListSubheader>Twitter Data</ListSubheader>\r\n          <MenuItem value={1}>Total Followers</MenuItem>\r\n          <MenuItem value={2}>Total Retweets</MenuItem>\r\n          <MenuItem value={3}>Avg. Sentimenmt</MenuItem>\r\n          <MenuItem value={4}>Activty</MenuItem>\r\n          <MenuItem value={5}>Connectivity</MenuItem>\r\n          <ListSubheader>Parliamentary Data (Coming Soon)</ListSubheader>\r\n          <MenuItem value={6}>Yes Votes</MenuItem>\r\n          <MenuItem value={7}>No Votes</MenuItem>\r\n          <MenuItem value={8}>Motions Tabled</MenuItem>\r\n          <MenuItem value={9}>Questions Asked</MenuItem>\r\n          <ListSubheader>News Data (Coming Soon)</ListSubheader>\r\n          <MenuItem value={10}>News Mentions</MenuItem>\r\n          <ListSubheader>Electoral Data (Coming Soon)</ListSubheader>\r\n          <MenuItem value={11}>Votes in last election</MenuItem>\r\n          <MenuItem value={12}>Opinion polls</MenuItem>\r\n        </Select>\r\n      </FormControl>\r\n      <FormControl className={classes.formControl}>\r\n        <InputLabel style={{fill: \"white\", color: \"white\"}} htmlFor=\"grouped-select\">Circle Radius</InputLabel>\r\n        <Select style={{ color: \"white\"}} classes={{icon:classes.icon}}defaultValue=\"\" id=\"grouped-select\">\r\n          <MenuItem value=\"\">\r\n            <em>None</em>\r\n          </MenuItem>\r\n          <ListSubheader>Twitter Data</ListSubheader>\r\n          <MenuItem value={1}>Total Followers</MenuItem>\r\n          <MenuItem value={2}>Total Retweets</MenuItem>\r\n          <MenuItem value={3}>Avg. Sentimenmt</MenuItem>\r\n          <MenuItem value={4}>Activty</MenuItem>\r\n          <MenuItem value={5}>Connectivity</MenuItem>\r\n          <ListSubheader>Parliamentary Data (Coming Soon)</ListSubheader>\r\n          <MenuItem value={6}>Yes Votes</MenuItem>\r\n          <MenuItem value={7}>No Votes</MenuItem>\r\n          <MenuItem value={8}>Motions Tabled</MenuItem>\r\n          <MenuItem value={9}>Questions Asked</MenuItem>\r\n          <ListSubheader>News Data (Coming Soon)</ListSubheader>\r\n          <MenuItem value={10}>News Mentions</MenuItem>\r\n          <ListSubheader>Electoral Data (Coming Soon)</ListSubheader>\r\n          <MenuItem value={11}>Votes in last election</MenuItem>\r\n          <MenuItem value={12}>Opinion polls</MenuItem>\r\n\r\n        </Select>\r\n      </FormControl>\r\n    </div>\r\n  );\r\n}","import React from 'react'\r\nimport { useRef, useEffect, useState} from 'react'\r\nimport * as d3 from 'd3'\r\nimport { chamber } from '../../../Backend/rollCall'\r\nimport { axisBottom, axisLeft, svg } from 'd3'\r\nimport { current } from '../../../Backend/rollCall'\r\nimport { Typography, Checkbox, Select, ListItem, FormControlLabel, FormGroup } from '@material-ui/core'\r\nimport CustomizedHook from './SearchSelectBox'\r\nimport GroupedSelect from './GroupedSelectBox'\r\nimport './scatterplot.css'\r\nimport { MenuItem, ListSubheader, FormControl, InputLabel, makeStyles, List, ListItemText } from '@material-ui/core'\r\nimport axios from 'axios'\r\nimport { FormatAlignCenter, FormatListNumberedRtlOutlined } from '@material-ui/icons'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n        icon: {\r\n          color: \"white\"\r\n      },\r\n    \r\n      formControl: {\r\n        margin: theme.spacing(1),\r\n        minWidth: 120,   \r\n      }\r\n    \r\n}));\r\n\r\nconst partyColors = {\r\n\"Sinn Fin\": \"#326760\", \r\n\"Fine Gael\": \"#6699FF\", \r\n\"Fianna Fil\": \"#66BB66\",\r\n\"Labour Party\": \"#CC0000\",\r\n\"Solidarity - People Before Profit\": \"#8E2420\",\r\n\"Independent\": \"white\",\r\n\"Green Party\": \"#99CC33\",\r\n\"Social Democrats\": \"#752F8B\",\r\n\"Aont\": \"#44532A\",\r\n\"Independents 4 Change\": \"grey\"}\r\n\r\nconst ScatterplotParty = ({data}) => {\r\n\r\n\r\n\r\n    const [TDDataScatter, setTDDataScatter] = useState(data)\r\n    const [partySelect, setPartySelect] = useState([\"Sinn Fin\", \"Fine Gael\", \"Fianna Fil\", \"Labour Party\", \"Green Party\", \"Solidarity - People Before Profit\", \"Aont\", \"Social Democrats\", \"Independent\", \"Independents 4 Change\"])\r\n    const [xOption, setXOption] = useState(0)\r\n    const [yOption, setYOption] = useState(1)\r\n    const [rOption, setROption] = useState(0)\r\n    const [filteredTDData, setFilteredTDData] = useState(null)\r\n\r\n\r\n\r\n\r\n \r\n\r\n    const followers = d => d.totalFollows\r\n    const retweets = d => d.totalRetweets\r\n    const original_tweets = d => d.totalOriginalTweets\r\n    const polarity = d => d.polAvg\r\n    const subjectivity = d => d.subAvg\r\n    const followersPerRetweet = d => d.followersPerRetweet\r\n    const retweetsPerOriginalTweet = d => d.retweetsPerOriginalTweet\r\n    const avgOriginalTweets = d => d.avgOriginalTweets\r\n    const avgFollowers = d => d.avgFollowers\r\n    const avgRetweets = d => d.avgRetweets\r\n    const TDsOnTwitter = d=> d.TDAmount\r\n    \r\n    const optionsFunctions = [followers, retweets, original_tweets, polarity, subjectivity, followersPerRetweet, retweetsPerOriginalTweet, avgOriginalTweets, avgFollowers, avgRetweets, TDsOnTwitter]\r\n\r\n    const xValue = optionsFunctions[xOption]\r\n    const yValue = optionsFunctions[yOption]\r\n    const rValue = optionsFunctions[rOption]\r\n\r\n    useEffect(() => {\r\n\r\n        setTDDataScatter(data)\r\n        setFilteredTDData(TDDataScatter)\r\n\r\n    }, [])\r\n\r\n\r\n  function getTDsFromApiAsync() {\r\n  return fetch(\"https://api.oireachtas.ie/v1/members?date_start=1900-01-01&chamber_id=&date_end=2099-01-01&limit=50\")\r\n  .then((response) => response.json())\r\n  .then((responseJson) => {\r\n    return responseJson.movies;\r\n  })\r\n  .catch((error) => {\r\n    console.error(error);\r\n  });\r\n}\r\n\r\n\r\nconsole.log(getTDsFromApiAsync())\r\n\r\n  const wrapperRef = useRef()\r\n  const svgRef = useRef()\r\n\r\n    const options = [\r\n\r\n        \"Followers\", \"Retweets\", \"Original Tweets\", \"Polarity\", \"Subjectivity\", \"Followers Per Retweet\", \"Retweets Per Original Tweet\", \"Avg. Original Tweets (Activity)\", \"Avg. Followers\", \"Avg. Retweets\", \"TDs on Twitter\"\r\n        ]\r\n\r\n    const optionsExplanation = [\r\n\r\n      \"Total Followers of party.\",\r\n      \"Total Retweets received by party over last week.\",\r\n      \"Number of original tweets (so excl. retweets) a TD has posted over last week.\",\r\n      \"Average sentiment of a TD's tweets over the past week, value lies between [-1, 1] with 1 being most positive.\",\r\n      \"Average subjectivity of a TD's tweets over the past week, value lies between [0, 1] with 1 being most subjective.\",\r\n      \"Total Followers divided by Total Retweets received over the last week.\",\r\n      \"Total Retweets divided by Total Original Tweets over the last week.\",\r\n      \"How many Original Tweets the average TD posts in a week.\",\r\n      \"How many followers the average TD has.\",\r\n      \"How many retweets the average TD gets in a week.\",\r\n      \"How many TDs a party has on Twitter.\"\r\n      \r\n\r\n    ]\r\n\r\n\r\n    \r\n    \r\n\r\n    const classes = useStyles();\r\n\r\n    const handleChange = (event) => {\r\n\r\n          const holder = partySelect\r\n\r\n          const tester = event.target.value\r\n\r\n            if(partySelect.includes(tester)) {\r\n\r\n              for(let i = 0; i < holder.length; i++) {\r\n                if(holder[i] === tester) {\r\n                  holder.splice(i, 1)\r\n                  setPartySelect(holder)            \r\n                }\r\n              }\r\n            } else {\r\n              holder.push(tester)\r\n              setPartySelect(holder)\r\n            }\r\n\r\n\r\n              const selected = TDDataScatter;\r\n              const inbetween = selected;\r\n\r\n\r\n            const test = inbetween.filter(d => partySelect.includes(d.party))\r\n                     \r\n          \r\n            setFilteredTDData(test)\r\n\r\n            console.log(TDDataScatter)\r\n                \r\n\r\n//             }\r\n            \r\n      }\r\n\r\n\r\n    const onChangeX = (event, child) => {\r\n            setXOption(event.target.value)\r\n            console.log('x:' + event.target.value);\r\n            console.log(child);\r\n    };\r\n\r\n    const onChangeY = (event, child) => {\r\n            setYOption(event.target.value)\r\n            console.log('y:' + event.target.value);\r\n            console.log(child);\r\n    };\r\n\r\n    const onChangeR = (event, child) => {\r\n        setROption(event.target.value)\r\n        console.log('r:' + event.target.value);\r\n        console.log(child);\r\n};\r\n\r\n    const margin = {top: 20, right: 20, bottom: 20, left: 50}\r\n    \r\n    const height = 620 - margin.left - margin.right;\r\n    const width = 820 - margin.top - margin.bottom;        \r\n    \r\n\r\n\r\n\r\n\r\n  \r\n\r\n\r\n    useEffect(() => {\r\n\r\n      if(!TDDataScatter || !filteredTDData) return null;\r\n\r\n      function makePartyObj() {\r\n\r\n        let partyArr = []\r\n\r\n        let parties = filteredTDData.map(d => d.party)\r\n\r\n        parties = [...new Set(parties)];\r\n\r\n        function retweetsPerOriginalTweet(i) {\r\n\r\n          var a = filteredTDData.map(function(d) {\r\n              if(parties[i] === d.party) {\r\n                  return d\r\n              }\r\n          }).filter(function(x) {\r\n                      return x !== undefined\r\n                  })\r\n  \r\n          var retweets = a.map(d => d.retweetData[2].retweets).reduce(function(a, b) {return a + b})\r\n          var original_tweets = a.map(d => d.retweetData[2].original_tweets).reduce(function(a, b) {return a + b})\r\n          var ratio = retweets / original_tweets\r\n  \r\n          if(ratio === Infinity) {\r\n              ratio = 0\r\n          }\r\n          \r\n          ratio = ratio ? ratio : 0;\r\n  \r\n          return ratio \r\n  \r\n         }\r\n         function followersPerRetweet(i) {\r\n\r\n          var a = filteredTDData.map(function(d) {\r\n              if(parties[i] === d.party) {\r\n                  return d\r\n              }\r\n          }).filter(function(x) {\r\n                      return x !== undefined\r\n                  })\r\n  \r\n          var follows = a.map(d => d.followerData[2].followers).reduce(function(a, b) {return a + b})\r\n          var retweets = a.map(d => d.retweetData[2].retweets).reduce(function(a, b) {return a + b})\r\n          var ratio = follows / retweets\r\n  \r\n          if(ratio === Infinity) {\r\n              ratio = 0\r\n          }\r\n  console.log(ratio)\r\n          ratio = ratio ? ratio : 0;\r\n\r\n          return ratio \r\n\r\n          \r\n  \r\n         }\r\n\r\n            for(let i = 0; i < parties.length; i++) {\r\n\r\n\r\n        function partyObj() {\r\n            this.party = parties[i];\r\n            this.TDs = filteredTDData.map(function(d) {\r\n                if(parties[i] === d.party) {\r\n                    return d\r\n                }\r\n            }).filter(function(x) {\r\n                        return x !== undefined\r\n                    })\r\n            this.totalFollows = this.TDs.map(d => d.followerData[2].followers).reduce(function(a, b) {return a + b})\r\n            this.totalRetweets = this.TDs.map(d => d.retweetData[2].retweets).reduce(function(a, b) {return a + b})\r\n            this.totalOriginalTweets = this.TDs.map(d => d.retweetData[2].original_tweets).reduce(function(a, b) {return a + b})\r\n            this.TDAmount = this.TDs.length\r\n            this.polAvg = this.TDs.map(d => d.sentimentData[2].polarity).reduce(function(a, b) {return a + b}) / this.TDAmount\r\n            this.subAvg = this.TDs.map(d => d.sentimentData[2].subjectivity).reduce(function(a, b) {return a + b}) / this.TDAmount\r\n            this.followersPerRetweet = followersPerRetweet(i)\r\n            this.retweetsPerOriginalTweet = retweetsPerOriginalTweet(i)\r\n            this.avgFollowers = this.totalFollows / this.TDAmount\r\n            this.avgRetweets = this.totalRetweets / this.TDAmount\r\n            this.avgOriginalTweets = this.totalOriginalTweets / this.TDAmount\r\n        }\r\n\r\n        partyArr.push(new partyObj())\r\n            }\r\n\r\n            return partyArr\r\n\r\n    }\r\n\r\n    console.log(makePartyObj())\r\n\r\n    const partyData = makePartyObj()\r\n\r\n\r\n      console.log(TDDataScatter)\r\n      console.log(filteredTDData)\r\n\r\n\r\n\r\n    // const selectedFiltered = () => {\r\n\r\n    //   const selected = filteredTDData;\r\n\r\n    //     for(let i = 0; i < selected.length; i++) {\r\n\r\n    //       if(partySelect.includes(selected[i].party) === false) {\r\n    //         selected.splice([i], 1)\r\n    //       }\r\n    //     }\r\n\r\n    //     return selected\r\n\r\n    // }\r\n\r\n    // console.log(selectedFiltered())\r\n\r\n    const selectedFilteredTDData = filteredTDData;\r\n    \r\n\r\n\r\n\r\n  var k = height / width,\r\n  x0 = [-4.5, 4.5],\r\n  y0 = [-4.5 * k, 4.5 * k],\r\n  x = d3.scaleLinear().domain(x0).range([0, width]),\r\n  y = d3.scaleLinear().domain(y0).range([height, 0]),\r\n  z = d3.scaleOrdinal(d3.schemeCategory10);\r\n\r\n \r\n\r\n\r\n      const svg = d3.select(svgRef.current)\r\n\r\n\r\n        const xScale = d3.scaleLinear()\r\n                        .range([0, width])\r\n                        .domain(d3.extent(partyData, xValue))\r\n\r\n\r\n\r\n        const yScale = d3.scaleLinear()\r\n                        .range([height, 0])\r\n                        .domain(d3.extent(partyData, yValue))\r\n                        \r\n        const rScale = d3.scaleLinear()\r\n                        .range([5, 20])\r\n                        .domain(d3.extent(partyData, rValue))\r\n\r\n        const party = d => d.party\r\n        const partyColor = d => partyColors[party(d)]\r\n        const name = d => d.name\r\n\r\n\r\n        const xAxis = axisBottom(xScale);        \r\n        \r\n        svg.select(\".x-axis\")\r\n            .attr(\"transform\", \"translate(0,\" + height + \")\")\r\n            .transition()\r\n            .duration(500)\r\n            .call(xAxis)\r\n\r\n\r\n        const yAxis = axisLeft(yScale);\r\n\r\n        svg.select(\".y-axis\")\r\n        .attr(\"transform\", \"translate(0, 0)\")\r\n            .transition()\r\n            .duration(500)\r\n            .call(yAxis)\r\n\r\n            const tooltip = d3\r\n            .select('body')\r\n            .append('div')\r\n            .attr('class', 'd3-tooltip')\r\n            .style('position', 'absolute')\r\n            .style('z-index', '10')\r\n            .style('visibility', 'hidden')\r\n            .style('padding', '10px')\r\n            .style('background', 'rgba(0,0,0,0.6)')\r\n            .style('border-radius', '4px')\r\n            .style('color', '#fff')\r\n            .text('a simple tooltip');\r\n\r\n            const hoverColor = \"#eec42d\"\r\n       \r\n        var circles = d3.select(\"#container-scatter-party\")\r\n                        .selectAll(\".node\")\r\n                        .data(partyData)\r\n                        .join(\"circle\")\r\n                        .attr(\"class\", \"node\")\r\n                        .attr(\"fill\", partyColor)\r\n                        .attr('fill-opacity', 0.75)\r\n                        .attr(\"name\", name)\r\n\r\n            circles.transition()\r\n                    .duration(500)\r\n                    .attr(\"cx\", d => xScale(xValue(d)))\r\n                    .attr(\"cy\", d => yScale(yValue(d)))\r\n                    .attr(\"r\", d => rScale(rValue(d)))\r\n\r\n            circles.on('mouseover', function (d, i) {\r\n            tooltip\r\n            .html(\r\n                `<div>Party: ${d.party}</div><div>x: ${options[xOption]}: ${xValue(d).toLocaleString()}</div><div>y: ${options[yOption]}: ${yValue(d).toLocaleString()}</div><div>r: ${options[rOption]}: ${rValue(d).toLocaleString()}</div>`\r\n            )\r\n                .style('visibility', 'visible');\r\n                d3.select(this).transition().attr('fill', hoverColor);\r\n            })\r\n            .on('mousemove', function () {\r\n                tooltip\r\n                .style('top', d3.event.pageY - 10 + 'px')\r\n                .style('left', d3.event.pageX + 10 + 'px');\r\n            })\r\n            .on('mouseout', function () {\r\n                tooltip.html(``).style('visibility', 'hidden');\r\n                d3.select(this).transition().attr('fill', partyColor);\r\n            }); \r\n\r\n          console.log(selectedFilteredTDData)\r\n\r\n    }, [TDDataScatter, partySelect, filteredTDData, xOption, yOption, rOption])\r\n\r\n    \r\n    if (!TDDataScatter) return null;\r\n\r\n    return (\r\n\r\n        <div className={\"featuredItem\"} style={{textAlign: \"center\", margin: \"10px\", padding: \"10px\"}}>\r\n        <Typography style={{marginBottom: 20}} align=\"center\" variant=\"h5\">Interactive Scatter Plot</Typography>\r\n        \r\n            <div>\r\n                {/* <CustomizedHook/> */}\r\n                <div>\r\n                    \r\n      <FormControl className={classes.formControl}>\r\n        <InputLabel style={{fill: \"white\", color: \"white\"}} htmlFor=\"grouped-select\">X-Value</InputLabel>\r\n        <Select onChange={onChangeX} style={{ color: \"white\"}} classes={{icon:classes.icon}} defaultValue=\"\" id=\"grouped-select\">\r\n          <ListSubheader>Twitter Data</ListSubheader>\r\n          <MenuItem value={0}>Total Followers</MenuItem>\r\n          <MenuItem value={1}>Total Retweets</MenuItem>\r\n          <MenuItem value={2}>Original Retweets</MenuItem>\r\n          <MenuItem value={3}>Polarity</MenuItem>\r\n          <MenuItem value={4}>Subjectivity</MenuItem>\r\n          <MenuItem value={5}>Followers Per Retweet</MenuItem>\r\n          <MenuItem value={6}>Retweets Per Original Tweet</MenuItem>\r\n          <MenuItem value={7}>Avg. Original Tweets (Activity)</MenuItem>\r\n          <MenuItem value={8}>Avg. Followers</MenuItem>\r\n          <MenuItem value={9}>Avg. Retweets</MenuItem>\r\n          <MenuItem value={10}>TDs on Twitter</MenuItem>\r\n          <ListSubheader>Parliamentary Data (Coming Soon)</ListSubheader>\r\n          <MenuItem disabled value={11}>Yes Votes</MenuItem>\r\n          <MenuItem disabled value={12}>No Votes</MenuItem>\r\n          <MenuItem disabled value={13}>Abstentions</MenuItem>\r\n          <MenuItem disabled value={14}>Motions</MenuItem>\r\n          <MenuItem disabled value={15}>Questions Asked</MenuItem>\r\n          <ListSubheader>News Data (Coming Soon)</ListSubheader>\r\n          <MenuItem disabled value={16}>News Mentions</MenuItem>\r\n          <ListSubheader>Electoral Data (Coming Soon)</ListSubheader>\r\n          <MenuItem disabled value={17}>Votes recieved in last election</MenuItem>\r\n          <MenuItem disabled value={18}>Avg. Poll Rating</MenuItem>\r\n\r\n        </Select>\r\n      </FormControl>\r\n      <FormControl className={classes.formControl}>\r\n        <InputLabel style={{fill: \"white\", color: \"white\"}} htmlFor=\"grouped-select\">Y-Value</InputLabel>\r\n        <Select onChange={onChangeY} style={{ color: \"white\"}} classes={{icon:classes.icon}} defaultValue=\"\" id=\"grouped-select\">\r\n          <ListSubheader>Twitter Data</ListSubheader>\r\n          <MenuItem value={0}>Total Followers</MenuItem>\r\n          <MenuItem value={1}>Total Retweets</MenuItem>\r\n          <MenuItem value={2}>Original Retweets</MenuItem>\r\n          <MenuItem value={3}>Polarity</MenuItem>\r\n          <MenuItem value={4}>Subjectivity</MenuItem>\r\n          <MenuItem value={5}>Followers Per Retweet</MenuItem>\r\n          <MenuItem value={6}>Retweets Per Original Tweet</MenuItem>\r\n          <MenuItem value={7}>Avg. Original Tweets (Activity)</MenuItem>\r\n          <MenuItem value={8}>Avg. Followers</MenuItem>\r\n          <MenuItem value={9}>Avg. Retweets</MenuItem>\r\n          <MenuItem value={10}>TDs on Twitter</MenuItem>\r\n          <ListSubheader>Parliamentary Data (Coming Soon)</ListSubheader>\r\n          <MenuItem disabled value={11}>Yes Votes</MenuItem>\r\n          <MenuItem disabled value={12}>No Votes</MenuItem>\r\n          <MenuItem disabled value={13}>Abstentions</MenuItem>\r\n          <MenuItem disabled value={14}>Motions</MenuItem>\r\n          <MenuItem disabled value={15}>Questions Asked</MenuItem>\r\n          <ListSubheader>News Data (Coming Soon)</ListSubheader>\r\n          <MenuItem disabled value={16}>News Mentions</MenuItem>\r\n          <ListSubheader>Electoral Data (Coming Soon)</ListSubheader>\r\n          <MenuItem disabled value={17}>Votes recieved in last election</MenuItem>\r\n          <MenuItem disabled value={18}>Avg. Poll Rating</MenuItem>\r\n\r\n        </Select>\r\n      </FormControl>\r\n      <FormControl className={classes.formControl}>\r\n        <InputLabel style={{fill: \"white\", color: \"white\"}} htmlFor=\"grouped-select\">Circle Radius</InputLabel>\r\n        <Select onChange={onChangeR}style={{ color: \"white\"}} classes={{icon:classes.icon}}defaultValue=\"\" id=\"grouped-select\">\r\n          <MenuItem value={0}>\r\n            <em>None</em>\r\n          </MenuItem>\r\n          <ListSubheader>Twitter Data</ListSubheader>\r\n          <MenuItem value={0}>Total Followers</MenuItem>\r\n          <MenuItem value={1}>Total Retweets</MenuItem>\r\n          <MenuItem value={2}>Original Retweets</MenuItem>\r\n          <MenuItem value={3}>Polarity</MenuItem>\r\n          <MenuItem value={4}>Subjectivity</MenuItem>\r\n          <MenuItem value={5}>Followers Per Retweet</MenuItem>\r\n          <MenuItem value={6}>Retweets Per Original Tweet</MenuItem>\r\n          <MenuItem value={7}>Avg. Original Tweets (Activity)</MenuItem>\r\n          <MenuItem value={8}>Avg. Followers</MenuItem>\r\n          <MenuItem value={9}>Avg. Retweets</MenuItem>\r\n          <MenuItem value={10}>TDs on Twitter</MenuItem>\r\n          <ListSubheader>Parliamentary Data (Coming Soon)</ListSubheader>\r\n          <MenuItem disabled value={11}>Yes Votes</MenuItem>\r\n          <MenuItem disabled value={12}>No Votes</MenuItem>\r\n          <MenuItem disabled value={13}>Abstentions</MenuItem>\r\n          <MenuItem disabled value={14}>Motions</MenuItem>\r\n          <MenuItem disabled value={15}>Questions Asked</MenuItem>\r\n          <ListSubheader>News Data (Coming Soon)</ListSubheader>\r\n          <MenuItem disabled value={16}>News Mentions</MenuItem>\r\n          <ListSubheader>Electoral Data (Coming Soon)</ListSubheader>\r\n          <MenuItem disabled value={17}>Votes recieved in last election</MenuItem>\r\n          <MenuItem disabled value={18}>Avg. Poll Rating</MenuItem>\r\n        </Select>\r\n      </FormControl>\r\n    </div>\r\n    <List style={{display: \"inline-block\"}}>\r\n      <ListItem >\r\n        <ListItemText primary={\"x: \" + optionsExplanation[xOption] + \" (25/08/21)\"}/>\r\n          </ListItem>\r\n          <ListItem>\r\n            <ListItemText primary={\"y: \" + optionsExplanation[yOption] + \" (25/08/21)\"}/>\r\n             </ListItem>\r\n             <ListItem>\r\n            <ListItemText primary={\"r: \" + optionsExplanation[rOption] + \" (25/08/21)\"}/>\r\n            </ListItem>\r\n            \r\n    </List>\r\n    <div>\r\n<FormGroup style={{display: \"inline-block\",\r\n    verticalAlign: \"top\"}}>\r\n    <FormControlLabel\r\n        control={\r\n    <Checkbox\r\n          defaultChecked=\"true\"\r\n          name=\"checkedB\"\r\n          style={{color: '#326760'}}\r\n          value={\"Sinn Fin\"}\r\n          onChange={handleChange}\r\n          />\r\n        }\r\n        label=\"Sinn Fin\"\r\n        />\r\n            <FormControlLabel\r\n        control={\r\n    <Checkbox\r\n            defaultChecked=\"true\"\r\n            name=\"checkedB\"\r\n            style={{color: '#6699FF'}}\r\n            value={\"Fine Gael\"}\r\n            onChange={handleChange}\r\n          />\r\n        }\r\n        label=\"Fine Gael\"\r\n        />\r\n            <FormControlLabel\r\n        control={\r\n    <Checkbox\r\n            defaultChecked=\"true\"\r\n            name=\"checkedB\"\r\n            style={{color: \"#66BB66\"}}\r\n            value={\"Fianna Fil\"}\r\n            onChange={handleChange}\r\n          />\r\n        }\r\n        label=\"Fianna Fil\"\r\n        />\r\n            <FormControlLabel\r\n        control={\r\n    <Checkbox\r\n            defaultChecked=\"true\"\r\n            name=\"checkedB\"\r\n            style={{color: \"#CC0000\"}}\r\n            value={\"Labour Party\"}\r\n            onChange={handleChange}\r\n          />\r\n        }\r\n        label=\"Labour\"\r\n        />\r\n            <FormControlLabel\r\n        control={\r\n    <Checkbox\r\n            defaultChecked=\"true\"\r\n            name=\"checkedB\"\r\n            style={{color: \"white\"}}\r\n            value={\"Independent\"}\r\n            onChange={handleChange}\r\n          />\r\n        }\r\n        label=\"Independent\"\r\n        />\r\n            <FormControlLabel\r\n        control={\r\n    <Checkbox\r\n            defaultChecked=\"true\"\r\n            name=\"checkedB\"\r\n            style={{color: \"#8E2420\"}}\r\n            value={\"Solidarity - People Before Profit\"}\r\n            onChange={handleChange}\r\n          />\r\n        }\r\n        label=\"PBP\"\r\n        />\r\n            <FormControlLabel\r\n        control={\r\n    <Checkbox\r\n            defaultChecked=\"true\"\r\n            name=\"checkedB\"\r\n            style={{color: \"#752F8B\"}}\r\n            value={\"Social Democrats\"}\r\n            onChange={handleChange}\r\n          />\r\n        }\r\n        label=\"Soc Dems\"\r\n        />\r\n            <FormControlLabel\r\n        control={\r\n    <Checkbox\r\n            defaultChecked=\"true\"\r\n            name=\"checkedB\"\r\n            style={{color: \"#99CC33\"}}\r\n            value={\"Green Party\"}\r\n            onChange={handleChange}\r\n          />\r\n        }\r\n        label=\"Green Party\"\r\n        />\r\n            <FormControlLabel\r\n        control={\r\n    <Checkbox\r\n            defaultChecked=\"true\"\r\n            name=\"checkedB\"\r\n            style={{color: \"#44532A\"}}\r\n            value={\"Aont\"}\r\n            onChange={handleChange}\r\n          />\r\n        }\r\n        label=\"Aont\"\r\n        />\r\n            <FormControlLabel\r\n        control={\r\n    <Checkbox\r\n            defaultChecked=\"true\"\r\n            name=\"checkedB\"\r\n            style={{color: \"grey\"}}\r\n            value={\"Independents 4 Change\"}\r\n            onChange={handleChange}\r\n          />\r\n        }\r\n        label=\"Independents 4 Change\"\r\n        />\r\n             \r\n        </FormGroup>\r\n        </div>\r\n\r\n            </div>\r\n        <div className={\"scroll-svg-container\"}>\r\n        <svg id={\"scatterplot-svg\"}ref={svgRef} height={height + margin.top + margin.bottom} width={width + margin.left + margin.right}>\r\n            <g id=\"container-scatter-party\" transform={'translate(' + margin.left + ',' + margin.top + ')'}>\r\n            <g className=\"x-axis\"></g>\r\n            <g className=\"y-axis\"></g>\r\n            </g>\r\n            </svg>\r\n          </div>\r\n        </div>\r\n    )\r\n}\r\nexport default ScatterplotParty\r\n","import { arrayOf, shape, string, date as dateProp, number } from \"prop-types\";\r\n\r\nexport const MultiLineDataItemsPropTypes = arrayOf(\r\n  shape({\r\n    date: dateProp,\r\n    change: number,\r\n    retweets: number\r\n  })\r\n);\r\n\r\nexport const MultiLineDataPropTypes = arrayOf(\r\n  shape({\r\n    name: string,\r\n    items: MultiLineDataItemsPropTypes,\r\n    color: string\r\n  })\r\n);\r\n","import * as d3 from 'd3'\r\nimport React from 'react'\r\nimport { useRef, useEffect, useState } from 'react'\r\nimport { allParties } from '../../../Backend/metaData'\r\nimport { chamber, current } from '../../../Backend/rollCall'\r\nimport { Typography, Checkbox, Select, MenuItem, ListSubheader, FormControl, InputLabel, makeStyles } from '@material-ui/core'\r\nimport { ContactSupport } from '@material-ui/icons'\r\nimport axios from 'axios'\r\nimport { scaleBand } from 'd3'\r\n\r\n\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    icon: {\r\n      color: \"white\"\r\n  },\r\n\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,   \r\n  }\r\n\r\n}));\r\n\r\nconst partyColors = {\r\n    \"Sinn Fin\": \"#326760\", \r\n    \"Fine Gael\": \"#6699FF\", \r\n    \"Fianna Fil\": \"#66BB66\",\r\n    \"Labour Party\": \"#CC0000\",\r\n    \"Solidarity - People Before Profit\": \"#8E2420\",\r\n    \"Independent\": \"white\",\r\n    \"Green Party\": \"#99CC33\",\r\n    \"Social Democrats\": \"#752F8B\",\r\n    \"Aont\": \"#44532A\",\r\n    \"Independents 4 Change\": \"grey\"}\r\n\r\n\r\nexport const VoteBarchart = ({data}) => {\r\n\r\n\r\n\r\n\r\n\r\n    const options = [\r\n\r\n    \"Followers\", \"Retweets\", \"Original Tweets\", \"TDs\", \"Average Followers\", \"Retweets per Original Tweet\", \"Followers per Retweets\" \r\n    \r\n    ]\r\n\r\n    const followers = d => d.tyoe.results.length\r\n    const retweets = d => d.totalRetweets\r\n    const originalTweets = d => d.totalOriginalTweets\r\n    const TDAmount = d => d.TDAmount\r\n    const TDFollowerAvg = d => d.followersToTDs\r\n\r\n    const optionsFunctions = \r\n    \r\n    [followers, retweets, originalTweets, TDAmount, TDFollowerAvg]\r\n\r\n\r\n    const classes = useStyles();\r\n\r\n    \r\n    const [TDData, setTDData] = useState(null)\r\n    const [oirLossData, setOirLossData] = useState(null)\r\n    const [oirCarriedData, setOirCarriedData] = useState(null)\r\n    const [xOption, setXOption] = useState(1)\r\n    const [yOption, setYOption] = useState(0)\r\n    const [rOption, setROption] = useState(0)\r\n\r\n\r\n    const margin = {top: 20, right: 20, bottom: 20, left: 60}\r\n\r\n    const height = 400\r\n    const width = 420\r\n\r\n    \r\n\r\n    const svgRef= useRef()\r\n\r\n\r\nconst onChangeX = (event, child) => {\r\n        setXOption(event.target.value)\r\n        console.log('x:' + event.target.value);\r\n        console.log(child);\r\n};\r\n\r\nconst onChangeY = (event, child) => {\r\n        setYOption(event.target.value)\r\n        console.log('y:' + event.target.value);\r\n        console.log(child);\r\n};\r\n\r\nconst onChangeR = (event, child) => {\r\n    setROption(event.target.value)\r\n    console.log('r:' + event.target.value);\r\n    console.log(child);\r\n};\r\n\r\n\r\nuseEffect(() => {\r\n\r\n    setTDData(data)\r\n    axios.get('https://api.oireachtas.ie/v1/divisions?chamber_type=house&chamber_id=&chamber=dail&date_start=2020-01-01&date_end=2099-1-1&limit=200&outcome=Lost').then((response) => {\r\n\r\n        setOirLossData(response.data)\r\n        \r\n      });\r\n\r\n}, [])    \r\n\r\nuseEffect(() => {\r\n        \r\n        \r\n        axios.get('https://api.oireachtas.ie/v1/divisions?chamber_type=house&chamber_id=&chamber=dail&date_start=2020-01-01&date_end=2099-1-1&limit=200&outcome=Carried').then((response) => {\r\n\r\n        setOirCarriedData(response.data)\r\n        \r\n      });\r\n\r\n      console.log(oirLossData)\r\n      \r\n    }, []);\r\n\r\n    useEffect(() => {\r\n\r\n        if(!TDData || !oirLossData || !oirCarriedData) return null;\r\n\r\n\r\n        // function makePartyObj() {\r\n\r\n        // let partyArr = []\r\n\r\n        // let parties = TDData.map(d => d.party)\r\n\r\n        // parties = [...new Set(parties)];\r\n\r\n        //     for(let i = 0; i < parties.length; i++) {\r\n\r\n\r\n    //     function partyObj() {\r\n    //         this.party = parties[i];\r\n    //         this.TDs = TDData.map(function(d) {\r\n    //             if(parties[i] === d.party) {\r\n    //                 return d\r\n    //             }\r\n    //         }).filter(function(x) {\r\n    //                     return x !== undefined\r\n    //                 })\r\n    //         this.totalFollows = this.TDs.map(d => d.followerData[0].followers).reduce(function(a, b) {return a + b})\r\n    //         this.totalRetweets = this.TDs.map(d => d.retweetData[0].retweets).reduce(function(a, b) {return a + b})\r\n    //         this.totalOriginalTweets = this.TDs.map(d => d.retweetData[0].original_tweets).reduce(function(a, b) {return a + b})\r\n    //         this.TDAmount = this.TDs.length\r\n    //         this.retweetsToOriginal = this.totalRetweets / this.totalOriginalTweets\r\n    //         this.followersToTDs = (this.totalFollows / this.TDAmount)\r\n    //     }\r\n\r\n    //     partyArr.push(new partyObj())\r\n    //         }\r\n\r\n    //         return partyArr\r\n\r\n    // }\r\n\r\n\r\n    function carriedLost () {\r\n\r\n        const arr = [{color: \"green\", name: \"Carried\", amount: oirCarriedData.results.length, dates: oirCarriedData.results}, {color: \"red\", name:\"Lost\", amount: oirLossData.results.length, dates: oirLossData.results.contextDate}]\r\n\r\n        return arr\r\n\r\n    }\r\n\r\n    const carriedLostData = carriedLost()\r\n\r\n    \r\n\r\n    if(!carriedLostData) return null;\r\n\r\n\r\nfunction dateMap() {\r\n\r\n\r\n    var amount = 0;\r\n    const dates = carriedLost()[0].dates.map(d => d.contextDate)\r\n    var copiedDates = dates\r\n\r\n    const months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"December\"]\r\n    const years = [\"2020\", \"2021\", \"2022\", \"2023\"]\r\n    \r\n    var arrM = []\r\n    var arrY = [];\r\n\r\n    \r\n    \r\n    for(let i = 0; i < dates.length; i++) {\r\n\r\n        var splitStr = copiedDates[i].split('-')\r\n        var m = true;\r\n        var y = true; \r\n\r\n        if(splitStr[0] === '2021') {\r\n                arrY.push(y)\r\n            }\r\n            \r\n            if(splitStr[1] ===  '02') {\r\n                arrM.push(m)\r\n            }\r\n        }\r\n        return arrY\r\n    }\r\n\r\nconsole.log(dateMap())\r\n\r\n// const monthCountArr = new Array(12).fill(0); \r\n//     dates.forEach((date) => monthCountArr[new Date(date).getMonth()] += 1)\r\n\r\n// console.log(monthCountArr)\r\n\r\n// var getDaysArray = function(start, end) {\r\n//     for(var arr=[],dt=new Date(start); dt<=end; dt.setDate(dt.getDate()+1)){\r\n//         arr.push(new Date(dt));\r\n//     }\r\n//     return arr;\r\n// };\r\n\r\n// var daylist = getDaysArray(new Date(\"2018-05-01\"),new Date(\"2018-06-01\"));\r\n// daylist.map((v)=>v.toISOString().slice(0,10)).join(\"\")\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        const xValue = d => d.name\r\n        const yValue = d => d.amount\r\n        const color = d => d.color\r\n\r\n\r\n        const svg = d3.select(svgRef.current);\r\n\r\n        const xScale = d3.scaleBand()\r\n                            .domain(carriedLostData.map(xValue))\r\n                            .range([0, width])\r\n                            .padding(0.6)\r\n\r\n        const yScale = d3.scaleLinear()\r\n                        .domain([0, d3.max(carriedLostData, yValue)])\r\n                        .range([height, 0]);\r\n\r\n        const xAxis = d3.axisBottom(xScale).ticks(carriedLostData.length);\r\n\r\n        svg\r\n            .select(\".x-axis\")\r\n            .attr(\"transform\", \"translate(0,\" + 400 + \")\")\r\n            .transition(2000)\r\n            .call(xAxis);\r\n\r\n        const yAxis = d3.axisLeft(yScale);\r\n\r\n    svg\r\n        .select(\".y-axis\")\r\n        .attr(\"transform\", \"translate(0,0)\")\r\n        .style(\"color\", \"white\")\r\n        .transition(500)\r\n        .call(yAxis)\r\n\r\n\r\n        \r\n        const tooltip = d3\r\n                .select('body')\r\n                .append('div')\r\n                .attr('class', 'd3-tooltip')\r\n                .style('position', 'absolute')\r\n                .style('z-index', '10')\r\n                .style('visibility', 'hidden')\r\n                .style('padding', '10px')\r\n                .style('background', 'rgba(0,0,0,0.6)')\r\n                .style('border-radius', '4px')\r\n                .style('color', '#fff')\r\n                .text('a simple tooltip');\r\n\r\n\r\n        var rects = d3.select(\"#container-votes-bar\")\r\n                    .selectAll(\".bar\")\r\n                    .data(carriedLostData)\r\n                    .join(\"rect\")\r\n                    .attr(\"class\", \"bar\")  \r\n                    .attr(\"fill\", color)\r\n\r\n\r\n\r\n                rects.transition()\r\n                    .duration(400)\r\n                    .attr(\"x\", d => xScale(xValue(d)))\r\n                    .attr(\"y\", d => yScale(yValue(d)))\r\n                    .attr(\"width\", xScale.bandwidth())\r\n                    .attr(\"height\", d => 400 - yScale(yValue(d)))\r\n\r\n\r\n\r\n                const hoverColor = \"#eec42d\"\r\n\r\n\r\n                rects\r\n                    .on('mouseover', function (d, i) {\r\n                        tooltip\r\n                        .html(\r\n                            `<div>${d.name}: ${yValue(d).toLocaleString()}</div>`\r\n                        )\r\n                            .style('visibility', 'visible');\r\n                            d3.select(this).transition().attr('fill', hoverColor);\r\n                        })\r\n                        .on('mousemove', function () {\r\n                            tooltip\r\n                            .style('top', d3.event.pageY - 10 + 'px')\r\n                            .style('left', d3.event.pageX + 10 + 'px');\r\n                        })\r\n                        .on('mouseout', function () {\r\n                            tooltip.html(``).style('visibility', 'hidden');\r\n                            d3.select(this).transition().attr('fill', color);\r\n                        }); \r\n\r\n\r\n        console.log((yValue(oirCarriedData)))\r\n\r\n\r\n\r\n    }, [TDData, oirLossData, oirCarriedData, xOption, yOption])\r\n\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n    <div className={\"featuredItem\"} style={{textAlign: \"center\"}}>\r\n            <Typography variant=\"h5\">Votes</Typography>\r\n      <FormControl className={classes.formControl}>\r\n        <InputLabel style={{fill: \"white\", color: \"white\"}} htmlFor=\"grouped-select\">Y-Value</InputLabel>\r\n        <Select onChange={onChangeY} style={{ color: \"white\"}} classes={{icon:classes.icon}} defaultValue=\"\" id=\"grouped-select\">\r\n          <ListSubheader>Twitter Data</ListSubheader>\r\n          <MenuItem value={0}>Total Followers</MenuItem>\r\n          <MenuItem value={1}>Total Retweets</MenuItem>\r\n          <MenuItem value={2}>Original Tweets</MenuItem>\r\n          <MenuItem value={3}>TDs on Twitter</MenuItem>\r\n          <MenuItem value={4}>Avg Followers</MenuItem>          \r\n          <ListSubheader>Parliamentary Data (Coming Soon)</ListSubheader>\r\n          <MenuItem disabled>Motions Tabled</MenuItem>\r\n          <MenuItem disabled>Questions Asked</MenuItem>\r\n          <ListSubheader>News Data (Coming Soon)</ListSubheader>\r\n          <MenuItem disabled>News Mentions</MenuItem>\r\n          <ListSubheader>Electoral Data (Coming Soon)</ListSubheader>\r\n          <MenuItem disabled>Votes recieved in last election</MenuItem>\r\n          <MenuItem disabled>Avg. Poll</MenuItem>\r\n        </Select>\r\n      </FormControl>\r\n        <div className={\"scroll-svg-container\"}>\r\n            <svg ref={svgRef} height={height + margin.top + margin.bottom} width={width + margin.left + margin.right}>\r\n            <g id=\"container-votes-bar\" transform={'translate(' + margin.left + ',' + margin.top + ')'}>\r\n                <g className=\"x-axis\"></g>\r\n                <g className=\"y-axis\"></g>\r\n            </g>\r\n            </svg>\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport * as d3 from \"d3\";\r\n\r\nconst Line = ({\r\n  xScale,\r\n  yScale,\r\n  color,\r\n  data,\r\n  isSmooth,\r\n  animation,\r\n  ...props\r\n}) => {\r\n  const ref = React.useRef(null);\r\n  // Define different types of animation that we can use\r\n  const animateLeft = React.useCallback(() => {\r\n    // NOTE: for some reason getTotalLength() doesn't work in tests\r\n    // in this codesandbox so we added default value just for tests\r\n    const totalLength = ref.current.getTotalLength\r\n      ? ref.current.getTotalLength()\r\n      : 500;\r\n    d3.select(ref.current)\r\n      .attr(\"opacity\", 1)\r\n      .attr(\"stroke-dasharray\", `${totalLength},${totalLength}`)\r\n      .attr(\"stroke-dashoffset\", totalLength)\r\n      .transition()\r\n      .duration(750)\r\n      .ease(d3.easeLinear)\r\n      .attr(\"stroke-dashoffset\", 0);\r\n  }, []);\r\n  const animateFadeIn = React.useCallback(() => {\r\n    d3.select(ref.current)\r\n      .transition()\r\n      .duration(750)\r\n      .ease(d3.easeLinear)\r\n      .attr(\"opacity\", 1);\r\n  }, []);\r\n  const noneAnimation = React.useCallback(() => {\r\n    d3.select(ref.current).attr(\"opacity\", 1);\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    switch (animation) {\r\n      case \"left\":\r\n        animateLeft();\r\n        break;\r\n      case \"fadeIn\":\r\n        animateFadeIn();\r\n        break;\r\n      case \"none\":\r\n      default:\r\n        noneAnimation();\r\n        break;\r\n    }\r\n  }, [animateLeft, animateFadeIn, noneAnimation, animation]);\r\n\r\n  // Recalculate line length if scale has changed\r\n  React.useEffect(() => {\r\n    if (animation === \"left\") {\r\n      const totalLength = ref.current.getTotalLength\r\n        ? ref.current.getTotalLength()\r\n        : 500;\r\n      d3.select(ref.current).attr(\r\n        \"stroke-dasharray\",\r\n        `${totalLength},${totalLength}`\r\n      );\r\n    }\r\n  }, [xScale, yScale, animation]);\r\n\r\n  const line = d3\r\n    .line()\r\n    .x((d) => xScale(d.date))\r\n    .y((d) => yScale(d.retweets));\r\n\r\n  const d = line(data);\r\n\r\n  return (\r\n    <path\r\n      ref={ref}\r\n      d={d?.match(/NaN|undefined/) ? \"\" : d}\r\n      stroke={color}\r\n      strokeWidth={3}\r\n      fill=\"none\"\r\n      opacity={0}\r\n      {...props}\r\n    />\r\n  );\r\n};\r\n\r\nLine.propTypes = {\r\n  xScale: PropTypes.func.isRequired,\r\n  yScale: PropTypes.func.isRequired,\r\n  data: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      date: PropTypes.date,\r\n      change: PropTypes.number\r\n    })\r\n  ),\r\n  color: PropTypes.string,\r\n  isSmooth: PropTypes.bool,\r\n  animation: PropTypes.oneOf([\"left\", \"fadeIn\", \"none\"])\r\n};\r\n\r\nLine.defaultProps = {\r\n  data: [],\r\n  color: \"white\",\r\n  isSmooth: false,\r\n  animation: \"left\"\r\n};\r\n\r\nexport default Line;\r\n","/** Area.js */\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport * as d3 from \"d3\";\r\n\r\nconst Area = ({ xScale, yScale, color, data, disableAnimation, ...props }) => {\r\n  const ref = React.useRef(null);\r\n  React.useEffect(() => {\r\n    if (disableAnimation) {\r\n      d3.select(ref.current).attr(\"opacity\", 1);\r\n      return;\r\n    }\r\n    d3.select(ref.current)\r\n      .transition()\r\n      .duration(750)\r\n      .ease(d3.easeBackIn)\r\n      .attr(\"opacity\", 1);\r\n  }, [disableAnimation]);\r\n\r\n  const d = React.useMemo(() => {\r\n    const area = d3\r\n      .area()\r\n      .x(({ date }) => xScale(date))\r\n      .y1(({ retweets }) => yScale(retweets))\r\n      .y0(() => yScale(yScale.domain()[0]));\r\n    return area(data);\r\n  }, [xScale, yScale, data]);\r\n\r\n  return (\r\n    <>\r\n      <path\r\n        ref={ref}\r\n        d={d}\r\n        fill={`url(#gradient-${color})`}\r\n        opacity={0}\r\n        {...props}\r\n      />\r\n      <defs>\r\n        <linearGradient\r\n          id={`gradient-${color}`}\r\n          x1=\"0%\"\r\n          x2=\"0%\"\r\n          y1=\"0%\"\r\n          y2=\"100%\"\r\n        >\r\n          <stop offset=\"0%\" stopColor={color} stopOpacity={0.2} />\r\n          <stop offset=\"100%\" stopColor={color} stopOpacity={0} />\r\n        </linearGradient>\r\n      </defs>\r\n    </>\r\n  );\r\n};\r\n\r\nArea.propTypes = {\r\n  xScale: PropTypes.func.isRequired,\r\n  yScale: PropTypes.func.isRequired,\r\n  data: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      date: PropTypes.date,\r\n      retweets: PropTypes.number\r\n    })\r\n  ),\r\n  color: PropTypes.string,\r\n  disableAnimation: PropTypes.bool\r\n};\r\n\r\nArea.defaultProps = {\r\n  data: [],\r\n  color: \"white\",\r\n  disableAnimation: false\r\n};\r\n\r\nexport default Area;\r\n","/** AxisX.js */\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport * as d3 from \"d3\";\r\n\r\nconst Axis = ({\r\n  type,\r\n  scale,\r\n  ticks,\r\n  transform,\r\n  tickFormat,\r\n  disableAnimation,\r\n  anchorEl,\r\n  ...props\r\n}) => {\r\n  const ref = React.useRef(null);\r\n  React.useEffect(() => {\r\n    const axisGenerator = type === \"left\" ? d3.axisRight : d3.axisBottom;\r\n    const axis = axisGenerator(scale).ticks(ticks).tickFormat(tickFormat);\r\n    const axisGroup = d3.select(ref.current);\r\n    if (disableAnimation) {\r\n      axisGroup.call(axis);\r\n    } else {\r\n      axisGroup.transition().duration(750).ease(d3.easeLinear).call(axis);\r\n    }\r\n    axisGroup.select(\".domain\").remove();\r\n    axisGroup.selectAll(\"line\").remove();\r\n    axisGroup\r\n      .selectAll(\"text\")\r\n      .attr(\"opacity\", 0.5)\r\n      .attr(\"color\", \"white\")\r\n      .attr(\"font-size\", \"0.75rem\");\r\n  }, [scale, ticks, tickFormat, disableAnimation]);\r\n\r\n  React.useEffect(() => {\r\n    d3.select(anchorEl)\r\n      .on(\"mouseout.axisX\", () => {\r\n        d3.select(ref.current)\r\n          .selectAll(\"text\")\r\n          .attr(\"opacity\", 0.5)\r\n          .style(\"font-weight\", \"normal\");\r\n      })\r\n      .on(\"mousemove.axisX\", () => {\r\n        const [x] = d3.mouse(anchorEl);\r\n        const xDate = scale.invert(x);\r\n        const textElements = d3.select(ref.current).selectAll(\"text\");\r\n        const data = textElements.data();\r\n        const index = d3.bisector((d) => d).left(data, xDate);\r\n        textElements\r\n          .attr(\"opacity\", (d, i) => (i === index - 1 ? 1 : 0.5))\r\n          .style(\"font-weight\", (d, i) =>\r\n            i === index - 1 ? \"bold\" : \"normal\"\r\n          );\r\n      });\r\n  }, [anchorEl, scale]);\r\n\r\n  return <g ref={ref} transform={transform} {...props} />;\r\n};\r\n\r\nAxis.propTypes = {\r\n  type: PropTypes.oneOf([\"left\", \"bottom\"]).isRequired,\r\n  scale: PropTypes.func.isRequired,\r\n  ticks: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\r\n  tickFormat: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\r\n  transform: PropTypes.string,\r\n  disableAnimation: PropTypes.bool,\r\n  anchorEl: PropTypes.instanceOf(Element)\r\n};\r\n\r\nAxis.defaultProps = {\r\n  ticks: 0,\r\n  tickFormat: null,\r\n  transform: \"\",\r\n  disableAnimation: false,\r\n  anchorEl: null\r\n};\r\n\r\nexport default Axis;\r\n","/** GridLine.js */\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport * as d3 from \"d3\";\r\n\r\nconst GridLine = ({\r\n  type,\r\n  scale,\r\n  ticks,\r\n  size,\r\n  transform,\r\n  disableAnimation,\r\n  ...props\r\n}) => {\r\n  const ref = React.useRef(null);\r\n  React.useEffect(() => {\r\n    const axisGenerator = type === \"vertical\" ? d3.axisBottom : d3.axisLeft;\r\n    const axis = axisGenerator(scale).ticks(ticks).tickSize(-size);\r\n\r\n    const gridGroup = d3.select(ref.current);\r\n    if (disableAnimation) {\r\n      gridGroup.call(axis);\r\n    } else {\r\n      gridGroup.transition().duration(750).ease(d3.easeLinear).call(axis);\r\n    }\r\n    gridGroup.select(\".domain\").remove();\r\n    gridGroup.selectAll(\"text\").remove();\r\n    gridGroup.selectAll(\"line\").attr(\"stroke\", \"rgba(255, 255, 255, 0.1)\");\r\n  }, [scale, ticks, size, disableAnimation]);\r\n\r\n  return <g ref={ref} transform={transform} {...props} />;\r\n};\r\n\r\nGridLine.propTypes = {\r\n  scale: PropTypes.func.isRequired,\r\n  type: PropTypes.oneOf([\"vertical\", \"horizontal\"]).isRequired,\r\n  ticks: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\r\n  transform: PropTypes.string,\r\n  size: PropTypes.number,\r\n  disableAnimation: PropTypes.bool\r\n};\r\n\r\nGridLine.defaultProps = {\r\n  ticks: 0,\r\n  transform: \"\",\r\n  size: 0,\r\n  disableAnimation: false\r\n};\r\n\r\nexport default GridLine;\r\n","/** Overlay.js */\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\n/**\r\n * Use Overlay as a wrapper for components that need mouse events to be handled.\r\n * For example: Tooltip, AxisX.\r\n */\r\nconst Overlay = React.forwardRef(({ width, height, children }, ref) => (\r\n  <g>\r\n    {children}\r\n    <rect ref={ref} width={width} height={height} opacity={0} />\r\n  </g>\r\n));\r\n\r\nOverlay.propTypes = {\r\n  width: PropTypes.number.isRequired,\r\n  height: PropTypes.number.isRequired,\r\n  children: PropTypes.node.isRequired\r\n};\r\n\r\nexport default Overlay;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport * as d3 from \"d3\";\r\nimport { MultiLineDataPropTypes } from \"../utils/propTypes\";\r\nimport {formatPercent } from \"../utils/commonUtils\"\r\n// import { formatPercent, formatPriceUSD } from \"../utils/commonUtils\";\r\n\r\nconst Tooltip = ({\r\n  xScale,\r\n  yScale,\r\n  width,\r\n  height,\r\n  data,\r\n  margin,\r\n  anchorEl,\r\n  children,\r\n  ...props\r\n}) => {\r\n  const ref = React.useRef(null);\r\n  const drawLine = React.useCallback(\r\n    (x) => {\r\n      d3.select(ref.current)\r\n        .select(\".tooltipLine\")\r\n        .attr(\"x1\", x)\r\n        .attr(\"x2\", x)\r\n        .attr(\"y1\", -margin.top)\r\n        .attr(\"y2\", height);\r\n    },\r\n    [ref, height, margin]\r\n  );\r\n\r\n  const drawContent = React.useCallback(\r\n    (x) => {\r\n      const tooltipContent = d3.select(ref.current).select(\".tooltipContent\");\r\n      tooltipContent.attr(\"transform\", (cur, i, nodes) => {\r\n        const nodeWidth = nodes[i]?.getBoundingClientRect()?.width || 0;\r\n        const translateX = nodeWidth + x > width ? x - nodeWidth - 12 : x + 8;\r\n        return `translate(${translateX}, ${-margin.top})`;\r\n      });\r\n      tooltipContent\r\n        .select(\".contentTitle\")\r\n        .text(d3.timeFormat(\"%b %d, %Y\")(xScale.invert(x)));\r\n    },\r\n    [xScale, margin, width]\r\n  );\r\n\r\n  const drawBackground = React.useCallback(() => {\r\n    // reset background size to defaults\r\n    const contentBackground = d3\r\n      .select(ref.current)\r\n      .select(\".contentBackground\");\r\n    contentBackground.attr(\"width\", 125).attr(\"height\", 40);\r\n\r\n    // calculate new background size\r\n    const tooltipContentElement = d3\r\n      .select(ref.current)\r\n      .select(\".tooltipContent\")\r\n      .node();\r\n    if (!tooltipContentElement) return;\r\n\r\n    const contentSize = tooltipContentElement.getBoundingClientRect();\r\n    contentBackground\r\n      .attr(\"width\", contentSize.width + 8)\r\n      .attr(\"height\", contentSize.height + 4);\r\n  }, []);\r\n\r\n  const onChangePosition = React.useCallback((d, i, isVisible) => {\r\n    d3.selectAll(\".performanceItemChangeRetweets\")\r\n      .filter((td, tIndex) => tIndex === i)\r\n      .text(isVisible ? formatPercent(d.change) : \"\");\r\n\r\n    d3.selectAll(\".performanceItemRetweets\")\r\n      .filter((td, tIndex) => tIndex === i)\r\n      .text(\r\n        d.retweets.toLocaleString() && !isVisible ? \"No data\" : d.retweets.toLocaleString()\r\n      );\r\n       // .text(\r\n      //   d.marketvalue && !isVisible ? \"No data\" : formatPriceUSD(d.marketvalue)\r\n      // );\r\n\r\n    const maxNameWidth = d3.max(\r\n      d3.selectAll(\".performanceItemName\").nodes(),\r\n      (node) => node.getBoundingClientRect().width\r\n    );\r\n    d3.selectAll(\".performanceItemChangeRetweets\").attr(\r\n      \"transform\",\r\n      (datum, index, nodes) =>\r\n        `translate(${\r\n          nodes[index].previousSibling.getBoundingClientRect().width + 14\r\n        },4)`\r\n    );\r\n\r\n    d3.selectAll(\".performanceItemRetweets\").attr(\r\n      \"transform\",\r\n      `translate(${maxNameWidth + 60},4)`\r\n    );\r\n  }, []);\r\n\r\n  const followPoints = React.useCallback(() => {\r\n    const [x] = d3.mouse(anchorEl);\r\n    const xDate = xScale.invert(x);\r\n    const bisectDate = d3.bisector((d) => d.date).left;\r\n    let baseXPos = 0;\r\n\r\n    // draw circles on line\r\n    d3.select(ref.current)\r\n      .selectAll(\".tooltipLinePoint\")\r\n      .attr(\"transform\", (cur, i) => {\r\n        const index = bisectDate(data[i].items, xDate, 1);\r\n        const d0 = data[i].items[index - 1];\r\n        const d1 = data[i].items[index];\r\n        const d = xDate - d0?.date > d1?.date - xDate ? d1 : d0;\r\n        if (d.date === undefined && d.retweets === undefined) {\r\n          // move point out of container\r\n          return \"translate(-100,-100)\";\r\n        }\r\n        const xPos = xScale(d.date);\r\n        if (i === 0) {\r\n          baseXPos = xPos;\r\n        }\r\n\r\n        let isVisible = true;\r\n        if (xPos !== baseXPos) {\r\n          isVisible = false;\r\n        }\r\n        const yPos = yScale(d.retweets);\r\n\r\n        onChangePosition(d, i, isVisible);\r\n\r\n        return isVisible\r\n          ? `translate(${xPos}, ${yPos})`\r\n          : \"translate(-100,-100)\";\r\n      });\r\n\r\n    drawLine(baseXPos);\r\n    drawContent(baseXPos);\r\n    drawBackground();\r\n  }, [\r\n    anchorEl,\r\n    drawLine,\r\n    drawContent,\r\n    drawBackground,\r\n    xScale,\r\n    yScale,\r\n    data,\r\n    onChangePosition\r\n  ]);\r\n\r\n  React.useEffect(() => {\r\n    d3.select(anchorEl)\r\n      .on(\"mouseout.tooltip\", () => {\r\n        d3.select(ref.current).attr(\"opacity\", 0);\r\n      })\r\n      .on(\"mouseover.tooltip\", () => {\r\n        d3.select(ref.current).attr(\"opacity\", 1);\r\n      })\r\n      .on(\"mousemove.tooltip\", () => {\r\n        d3.select(ref.current)\r\n          .selectAll(\".tooltipLinePoint\")\r\n          .attr(\"opacity\", 1);\r\n        followPoints();\r\n      });\r\n  }, [anchorEl, followPoints]);\r\n\r\n  if (!data.length) return null;\r\n\r\n  return (\r\n    <g ref={ref} opacity={0} {...props}>\r\n      <line className=\"tooltipLine\" />\r\n      <g className=\"tooltipContent\">\r\n        <rect className=\"contentBackground\" rx={4} ry={4} opacity={0.2} />\r\n        <text className=\"contentTitle\" transform=\"translate(4,14)\" />\r\n        <g className=\"content\" transform=\"translate(4,32)\">\r\n          {data.map(({ name, color }, i) => (\r\n            <g key={name} transform={`translate(6,${22 * i})`}>\r\n              <circle r={6} fill={color} />\r\n              <text className=\"performanceItemName\" transform=\"translate(10,4)\">\r\n                {name}\r\n              </text>\r\n              <text\r\n                className=\"performanceItemChangeRetweets\"\r\n                opacity={0.5}\r\n                fontSize={10}\r\n              />\r\n              <text className=\"performanceItemRetweets\" />\r\n            </g>\r\n          ))}\r\n        </g>\r\n      </g>\r\n      {data.map(({ name }) => (\r\n        <circle className=\"tooltipLinePoint\" r={6} key={name} opacity={0} />\r\n      ))}\r\n    </g>\r\n  );\r\n};\r\n\r\nTooltip.propTypes = {\r\n  width: PropTypes.number,\r\n  height: PropTypes.number,\r\n  margin: PropTypes.shape({\r\n    top: PropTypes.number,\r\n    bottom: PropTypes.number,\r\n    left: PropTypes.number,\r\n    right: PropTypes.number\r\n  }),\r\n  data: MultiLineDataPropTypes,\r\n  xScale: PropTypes.func.isRequired,\r\n  yScale: PropTypes.func.isRequired,\r\n  anchorEl: PropTypes.instanceOf(Element)\r\n};\r\n\r\nTooltip.defaultProps = {\r\n  width: 0,\r\n  height: 0,\r\n  margin: {\r\n    top: 0,\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0\r\n  },\r\n  data: [],\r\n  anchorEl: null\r\n};\r\n\r\nexport default Tooltip;\r\n","/* eslint-disable no-bitwise */\r\nimport * as d3 from \"d3\";\r\nimport { DateTime, Interval } from \"luxon\";\r\n\r\n// export const formatPriceUSD = (price) =>\r\n//   new Intl.NumberFormat(\"en-US\", { style: \"currency\", currency: \"USD\" }).format(\r\n//     price\r\n//   );\r\n\r\nexport const formatPercent = (percent = 0) => {\r\n  let result = \"0.00%\";\r\n  const isNumber = typeof percent === \"number\";\r\n  const isString = typeof percent === \"string\";\r\n  const isNotNaN = !Number.isNaN(parseFloat(percent));\r\n\r\n  if ((isNumber || isString) && isNotNaN) {\r\n    result = `${parseFloat(percent) > 0 ? \"+\" : \"\"}${d3.format(\".2%\")(\r\n      percent / 100\r\n    )}`;\r\n  }\r\n  return result;\r\n};\r\n\r\nexport const getPeriod = (date) => {\r\n  if (!date) return 6;\r\n  const now = DateTime.utc();\r\n  const before = DateTime.fromJSDate(date);\r\n  const i = Interval.fromDateTimes(before, now);\r\n  return i.length(\"months\");\r\n};\r\n\r\nexport const getXTicks = (months) => {\r\n  if (months <= 2) return d3.timeDay.every(5).filter((d) => d.getDate() !== 31);\r\n  if (months <= 6) return d3.timeMonth.every(1);\r\n  if (months <= 13) return d3.timeMonth.every(2);\r\n  return d3.timeYear.every(1);\r\n};\r\n\r\nexport const getXTickFormat = (months) => {\r\n  if (months <= 2) return d3.timeFormat(\"%d %b\");\r\n  if (months <= 6) return d3.timeFormat(\"%b\");\r\n  if (months <= 13) return d3.timeFormat(\"%b %Y\");\r\n  return d3.timeFormat(\"%Y\");\r\n};\r\n","/** MultilineChart.controller.js */\r\nimport { useMemo } from \"react\";\r\nimport * as d3 from \"d3\";\r\n\r\nconst useController = ({ data, width, height }) => {\r\n  const xMin = useMemo(\r\n    () => d3.min(data, ({ items }) => d3.min(items, ({ date }) => date)),\r\n    [data]\r\n  );\r\n\r\n  const xMax = useMemo(\r\n    () => d3.max(data, ({ items }) => d3.max(items, ({ date }) => date)),\r\n    [data]\r\n  );\r\n\r\n  const xScale = useMemo(\r\n    () => d3.scaleTime().domain([xMin, xMax]).range([0, width]),\r\n    [xMin, xMax, width]\r\n  );\r\n\r\n  const yMin = useMemo(\r\n    () => d3.min(data, ({ items }) => d3.min(items, ({ retweets }) => retweets)),\r\n    [data]\r\n  );\r\n\r\n  const yMax = useMemo(\r\n    () => d3.max(data, ({ items }) => d3.max(items, ({retweets}) => retweets)),\r\n    [data]\r\n  );\r\n\r\n  const yScale = useMemo(() => {\r\n    const indention = (yMax - yMin) * 0.5;\r\n    return d3\r\n      .scaleLinear()\r\n      .domain([yMin - indention, yMax + indention])\r\n      .range([height, 0]);\r\n  }, [height, yMin, yMax]);\r\n\r\n  const yScaleForAxis = useMemo(\r\n    () => d3.scaleBand().domain([yMin, yMax]).range([height, 0]),\r\n    [height, yMin, yMax]\r\n  );\r\n\r\n  const yTickFormat = (d) => {\r\n\r\n    return d\r\n    // `${parseFloat(d) > 0 ? \"+\" : \"\"}${d3.format(\".2%\")(d / 100)}`;\r\n  }\r\n  const xTickFormat = (d) => {\r\n    if (d3.timeFormat(\"%b\")(d) === \"Jan\") {\r\n      return d3.timeFormat(\"%Y\")(d);\r\n    }\r\n    return d3.timeFormat(\"%b\")(d);\r\n  };\r\n  return {\r\n    yTickFormat,\r\n    xScale,\r\n    yScale,\r\n    yScaleForAxis,\r\n    xTickFormat\r\n  };\r\n};\r\n\r\nexport default useController;\r\n","import React from 'react';\r\nimport ResizeObserver from 'resize-observer-polyfill';\r\n\r\n/**\r\n * Use ResizeObserver to listen for the changes to the dimensions of an element\r\n * @params ref - React ref\r\n * @returns {object} - { width, height, top, left }\r\n */\r\nconst useResize = (ref) => {\r\n  const [dimensions, setDimensions] = React.useState(null);\r\n  React.useEffect(() => {\r\n    const element = ref.current;\r\n    const resizeObserver = new ResizeObserver((entries) => {\r\n      entries.forEach((entry) => {\r\n        setDimensions(entry.contentRect);\r\n      });\r\n    });\r\n    resizeObserver.observe(element);\r\n    return () => {\r\n      resizeObserver.unobserve(element);\r\n    };\r\n  }, [ref]);\r\n  return dimensions || {\r\n    width: 0,\r\n    height: 0,\r\n    top: 0,\r\n    left: 0,\r\n  };\r\n};\r\n\r\nexport default useResize;\r\n","import React from \"react\";\r\nimport useResize from \"./useResize\";\r\n\r\nconst useDimensions = ({ maxHeight, margin = {}, scaleCoef = 0.5 }) => {\r\n  const ref = React.useRef(null);\r\n  const { width } = useResize(ref);\r\n\r\n  const height =\r\n    !maxHeight || width * scaleCoef < maxHeight ? width * scaleCoef : maxHeight;\r\n  const innerWidth = width - (margin.left || 0) - (margin.right || 0);\r\n  const innerHeight = height - (margin.top || 0) - (margin.bottom || 0);\r\n\r\n  return [\r\n    ref,\r\n    {\r\n      svgWidth: width,\r\n      svgHeight: height,\r\n      width: innerWidth,\r\n      height: innerHeight\r\n    }\r\n  ];\r\n};\r\n\r\nexport default useDimensions;\r\n","/** MultilineChart.js */\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { MultiLineDataPropTypes } from \"../utils/propTypes\";\r\nimport { Line, Axis, GridLine, Overlay, Tooltip, Area } from \"../components\";\r\nimport useController from \"./MultilineChart.controller\";\r\nimport useDimensions from \"../utils/useDimensions\";\r\n\r\nconst MultilineChart = ({ data = [], margin = {} }) => {\r\n  const overlayRef = React.useRef(null);\r\n  const [containerRef, { svgWidth, svgHeight, width, height }] = useDimensions({\r\n    maxHeight: 800,\r\n    margin\r\n  });\r\n  const controller = useController({ data, width, height });\r\n  const {\r\n    yTickFormat,\r\n    xTickFormat,\r\n    xScale,\r\n    yScale,\r\n    yScaleForAxis\r\n  } = controller;\r\n\r\n  return (\r\n    <div ref={containerRef}>\r\n      <svg width={svgWidth} height={svgHeight}>\r\n        <g transform={`translate(${margin.left},${margin.top})`}>\r\n          <GridLine\r\n            type=\"vertical\"\r\n            scale={xScale}\r\n            ticks={5}\r\n            size={height}\r\n            transform={`translate(0, ${height})`}\r\n          />\r\n          <GridLine\r\n            type=\"horizontal\"\r\n            scale={yScaleForAxis}\r\n            ticks={2}\r\n            size={width}\r\n          />\r\n          <GridLine\r\n            type=\"horizontal\"\r\n            className=\"baseGridLine\"\r\n            scale={yScale}\r\n            ticks={1}\r\n            size={width}\r\n            disableAnimation\r\n          />\r\n          {data.map(({ name, items = [], color }) => (\r\n            <Line\r\n              key={name}\r\n              data={items}\r\n              xScale={xScale}\r\n              yScale={yScale}\r\n              color={color}\r\n            />\r\n          ))}\r\n          {/* <Area data={data[0].items} xScale={xScale} yScale={yScale} /> */}\r\n          <Axis\r\n            type=\"left\"\r\n            scale={yScaleForAxis}\r\n            transform=\"translate(0, -10)\"\r\n            ticks={5}\r\n            tickFormat={yTickFormat}\r\n          />\r\n          <Overlay ref={overlayRef} width={width} height={height}>\r\n            <Axis\r\n              type=\"bottom\"\r\n              className=\"axisX\"\r\n              anchorEl={overlayRef.current}\r\n              scale={xScale}\r\n              transform={`translate(10, ${height - height / 6})`}\r\n              ticks={5}\r\n              tickFormat={xTickFormat}\r\n            />\r\n            <Tooltip\r\n              className=\"tooltip\"\r\n              anchorEl={overlayRef.current}\r\n              width={width}\r\n              height={height}\r\n              margin={margin}\r\n              xScale={xScale}\r\n              yScale={yScale}\r\n              data={data}\r\n            />\r\n          </Overlay>\r\n        </g>\r\n      </svg>\r\n    </div>\r\n  );\r\n};\r\n\r\nMultilineChart.propTypes = {\r\n  data: MultiLineDataPropTypes,\r\n  margin: PropTypes.shape({\r\n    top: PropTypes.number,\r\n    bottom: PropTypes.number,\r\n    left: PropTypes.number,\r\n    right: PropTypes.number\r\n  })\r\n};\r\n\r\nMultilineChart.defaultProps = {\r\n  data: [],\r\n  margin: {\r\n    top: 30,\r\n    right: 15,\r\n    bottom: 15,\r\n    left: 15\r\n  }\r\n};\r\n\r\nexport default MultilineChart;\r\n","import React from \"react\";\r\n\r\nconst Legend = ({ data, selectedItems, onChange }) => (\r\n  <div className=\"legendContainer\">\r\n    {data.map((d) => (\r\n      <div className=\"checkbox\" style={{ color: d.color }} key={d.name}>\r\n        <label>\r\n          {d.name !== \"Total\" && (\r\n            <input\r\n              type=\"checkbox\"\r\n              value={d.name}\r\n              checked={selectedItems.includes(d.name)}\r\n              onChange={() => onChange(d.name)}\r\n            />\r\n          )}\r\n          {d.name}\r\n        </label>\r\n      </div>\r\n    ))}\r\n  </div>\r\n);\r\n\r\nexport default Legend;\r\n","/** App.js */\r\nimport React, {useState, useEffect} from \"react\";\r\nimport MultilineChart from \"./views/MultilineChart\";\r\nimport Legend from \"./components/Legend\";\r\nimport vcit from \"./data/VCIT.json\";\r\nimport portfolio from \"./data/portfolio.json\";\r\nimport schc from \"./data/SCHC.json\";\r\nimport \"./styles.css\";\r\nimport fiannafail from \"./data/fiannaFail.json\"\r\nimport finegael from \"./data/finegael.json\"\r\nimport ind from \"./data/ind.json\"\r\nimport sinnfein from \"./data/sinnfein.json\"\r\nimport labour from \"./data/labour.json\"\r\nimport { chamberStats } from '../../../Backend/metaData';\r\nimport axios from \"axios\";\r\nimport { Typography } from \"@material-ui/core\";\r\n\r\n\r\n\r\n\r\n\r\nexport default function MultilineAppV3PartyRetweets (data) {\r\n\r\n  const [selectedItems, setSelectedItems] = useState([\"Aont\", \"Independents\", \"Green Party\", \"Labour\", \"Fianna Fil\", \"Fine Gael\", \"Social Democrats\", \"People Before Profit\", \"Independents 4 Change\", \"Sinn Fin\"]);\r\n  const [TDData, setTDData] = useState(null)\r\n  \r\n  \r\n  \r\n  useEffect(() => {\r\n\r\n    setTDData(data)\r\n\r\n}, []);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst onChangeSelection = (name) => {\r\n    const newSelectedItems = selectedItems.includes(name)\r\n      ? selectedItems.filter((item) => item !== name)\r\n      : [...selectedItems, name];\r\n    setSelectedItems(newSelectedItems);\r\n  };\r\n  \r\nif (!TDData) return null;\r\n\r\n\r\n\r\nconsole.log(TDData.data.filter(d => d.party == \"Fine Gael\"))\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// const totalData = {\r\n//   name: \"Total\",\r\n//   color: \"#ffffff\",\r\n//   items: partyStats('sf').followerData.map((d) => ({ ...d, date: new Date(d.date) }))\r\n// };\r\n  const weeks = TDData.data[0].retweetData.length\r\n\r\nfunction justParty(party) {\r\n\r\n\r\n  var just = TDData.data.filter(td => td.party == party)\r\n\r\n  \r\n\r\n  return just\r\n\r\n}\r\n\r\nfunction partyStats(party) {\r\n\r\n  //chamber\r\n  var currentParty = justParty(party) \r\n\r\n  function followers() {\r\n\r\n      var arr = [];\r\n      var followArr = [];\r\n      // var dateArr = currentParty[0].followerData.map(d => d.date);\r\n      var dateArr = currentParty[0].followerData.map(function(d) {\r\n\r\n                      var apart = d.date.split('/')\r\n                      var day = apart[0]\r\n                      var month = apart[1]\r\n                      var year = apart[2]\r\n\r\n                      var together = []\r\n                      together.push(month, day, year)\r\n                      var allDone = together.toString().replace(\",\",\"/\").replace(\",\",\"/\")\r\n                      return allDone\r\n                    })\r\n      var changeArr = [];\r\n\r\n\r\n\r\n      console.log(currentParty[0].retweetData.map(function(d) {\r\n\r\n        var apart = d.date.split('/')\r\n        var day = apart[0]\r\n        var month = apart[1]\r\n        var year = apart[2]\r\n\r\n        var together = []\r\n        together.push(month, day, year)\r\n        var allDone = together.toString().replace(\",\",\"/\").replace(\",\",\"/\")\r\n        return allDone\r\n\r\n      }))\r\n\r\n      // function weekDate () {\r\n\r\n//           for(let i = 0; i < weeks; i++) {\r\n\r\n//           var date = new Date();\r\n//           date.setDate(date.getDate() + (7 * i));\r\n\r\n//               function formatDate(date) {\r\n\r\n//                   var d = new Date(date),\r\n//                       month = '' + (d.getMonth() + 1),\r\n//                       day = '' + d.getDate(),\r\n//                       year = d.getFullYear();\r\n              \r\n//                   if (month.length < 2) \r\n//                       month = '0' + month;\r\n//                   if (day.length < 2) \r\n//                       day = '0' + day;\r\n              \r\n//                   return [year, month, day].join('-');\r\n//               }\r\n\r\n//           dateArr.push(formatDate(date));\r\n//       }\r\n\r\n\r\n//   return dateArr\r\n// }\r\n\r\n//   weekDate();\r\n\r\n\r\n      function follows () {\r\n          \r\n          for( let i = 0; i < weeks; i++) {\r\n\r\n\r\n              var partyFollowers = currentParty.map(td => td.followerData[i].followers)\r\n\r\n              var partyFollowersTotal = partyFollowers.reduce((a, b) => a + b, 0)\r\n\r\n              followArr.push(partyFollowersTotal)\r\n      \r\n          }\r\n      }\r\n\r\n  follows();\r\n\r\n      function change() {\r\n\r\n          for( let i = 0; i < followArr.length; i++) {\r\n\r\n              var lastWeek  = followArr[i - 1]\r\n              var thisWeek = followArr[i]\r\n              var diff = ((thisWeek - lastWeek) / lastWeek) * 100;\r\n              \r\n              //filter NaN at start\r\n\r\n              if(diff !== diff) {changeArr.push(0)} else {\r\n              changeArr.push(diff)\r\n              }\r\n          }\r\n      }\r\n\r\n      change();\r\n\r\n      function toObj() {\r\n\r\n      for(let i = 0; i < weeks; i++) {\r\n\r\n          var followObj = new Object;\r\n          var date = dateArr[i];\r\n          var followers = followArr[i];\r\n          var change = changeArr[i];\r\n\r\n          followObj.date = date;\r\n          followObj.followers = followers;\r\n          followObj.change = change;\r\n          \r\n          arr.push(followObj)\r\n\r\n          \r\n      }\r\n  return arr\r\n      \r\n      }\r\n\r\n      toObj();\r\n\r\n\r\n      return arr\r\n  } \r\n\r\n  function retweets() {\r\n\r\n      var arr = [];\r\n      var retweetArr = [];\r\n      var dateArr = currentParty[0].retweetData.map(function(d) {\r\n\r\n        var apart = d.date.split('/')\r\n        var day = apart[0]\r\n        var month = apart[1]\r\n        var year = apart[2]\r\n\r\n        var together = []\r\n        together.push(month, day, year)\r\n        var allDone = together.toString().replace(\",\",\"/\").replace(\",\",\"/\")\r\n        return allDone\r\n\r\n      })\r\n      var changeArr = [];\r\n\r\n\r\n\r\n      \r\n//       function weekDate () {\r\n\r\n//           for(let i = 0; i < weeks; i++) {\r\n\r\n//           var date = new Date();\r\n//           date.setDate(date.getDate() + (7 * i));\r\n\r\n//               function formatDate(date) {\r\n\r\n//                   var d = new Date(date),\r\n//                       month = '' + (d.getMonth() + 1),\r\n//                       day = '' + d.getDate(),\r\n//                       year = d.getFullYear();\r\n              \r\n//                   if (month.length < 2) \r\n//                       month = '0' + month;\r\n//                   if (day.length < 2) \r\n//                       day = '0' + day;\r\n              \r\n//                   return [year, month, day].join('-');\r\n//               }\r\n\r\n//           dateArr.push(formatDate(date));\r\n//       }\r\n\r\n\r\n//   return dateArr\r\n// }\r\n\r\n//   weekDate();\r\n\r\n\r\n      function retweets () {\r\n          \r\n          for( let i = 0; i < weeks; i++) {\r\n\r\n\r\n              var partyRetweets = currentParty.map(td => td.retweetData[i].retweets)\r\n\r\n              var partyRetweetsTotal = partyRetweets.reduce((a, b) => a + b, 0)\r\n\r\n              retweetArr.push(partyRetweetsTotal)\r\n      \r\n          }\r\n      }\r\n\r\n  retweets();\r\n\r\n      function change() {\r\n\r\n          for( let i = 0; i < retweetArr.length; i++) {\r\n\r\n              var lastWeek  = retweetArr[i - 1]\r\n              var thisWeek = retweetArr[i]\r\n              var diff = ((thisWeek - lastWeek) / lastWeek) * 100;\r\n              \r\n              //filter NaN at start\r\n\r\n              if(diff !== diff) {changeArr.push(0)} else {\r\n              changeArr.push(diff)\r\n              }\r\n          }\r\n      }\r\n\r\n      change();\r\n\r\n      function toObj() {\r\n\r\n      for(let i = 0; i < weeks; i++) {\r\n\r\n          var retweetObj = new Object;\r\n          var date = dateArr[i];\r\n          var retweets = retweetArr[i];\r\n          var change = changeArr[i];\r\n\r\n          retweetObj.date = date;\r\n          retweetObj.retweets = retweets;\r\n          retweetObj.change = change;\r\n          \r\n          arr.push(retweetObj)\r\n\r\n          \r\n      }\r\n  return arr\r\n      \r\n      }\r\n\r\n      toObj();\r\n\r\n\r\n      return arr\r\n  }\r\n\r\n  function polarity() {\r\n\r\n    var arr = [];\r\n    var polarityArr = [];\r\n    var dateArr = currentParty[0].sentimentData.map(function(d) {\r\n\r\n      var apart = d.date.split('/')\r\n      var day = apart[0]\r\n      var month = apart[1]\r\n      var year = apart[2]\r\n\r\n      var together = []\r\n      together.push(month, day, year)\r\n      var allDone = together.toString().replace(\",\",\"/\").replace(\",\",\"/\")\r\n      return allDone\r\n\r\n    })\r\n    var changeArr = [];\r\n\r\n\r\n\r\n    \r\n//       function weekDate () {\r\n\r\n//           for(let i = 0; i < weeks; i++) {\r\n\r\n//           var date = new Date();\r\n//           date.setDate(date.getDate() + (7 * i));\r\n\r\n//               function formatDate(date) {\r\n\r\n//                   var d = new Date(date),\r\n//                       month = '' + (d.getMonth() + 1),\r\n//                       day = '' + d.getDate(),\r\n//                       year = d.getFullYear();\r\n            \r\n//                   if (month.length < 2) \r\n//                       month = '0' + month;\r\n//                   if (day.length < 2) \r\n//                       day = '0' + day;\r\n            \r\n//                   return [year, month, day].join('-');\r\n//               }\r\n\r\n//           dateArr.push(formatDate(date));\r\n//       }\r\n\r\n\r\n//   return dateArr\r\n// }\r\n\r\n//   weekDate();\r\n\r\n\r\n    function polarityAvg () {\r\n        \r\n        for( let i = 0; i < weeks; i++) {\r\n\r\n          var tdAmount = currentParty.length\r\n\r\n            var partyPolarity = currentParty.map(td => td.sentimentData[i].polarity)\r\n\r\n            var partyPolarityAvg = partyPolarity.reduce((a, b) => a + b, 0) \r\n\r\n            polarityArr.push(partyPolarityAvg)\r\n    \r\n        }\r\n    }\r\n\r\npolarityAvg();\r\n\r\n    function change() {\r\n\r\n        for( let i = 0; i < polarityArr.length; i++) {\r\n\r\n            var lastWeek  = polarityArr[i - 1]\r\n            var thisWeek = polarityArr[i]\r\n            var diff = ((thisWeek - lastWeek) / lastWeek) * 100;\r\n            \r\n            //filter NaN at start\r\n\r\n            \r\n\r\n            if(diff !== diff || diff === Infinity) {changeArr.push(0)} else {\r\n            changeArr.push(diff)\r\n            }\r\n        }\r\n    }\r\n\r\n    change();\r\n\r\n    function toObj() {\r\n\r\n    for(let i = 0; i < weeks; i++) {\r\n\r\n        var polarityObj = new Object;\r\n        var date = dateArr[i];\r\n        var polAvg = polarityArr[i];\r\n        var change = changeArr[i];\r\n\r\n        polarityObj.date = date;\r\n        polarityObj.polarityAvg = polAvg\r\n        polarityObj.change = change;\r\n        \r\n        arr.push(polarityObj)\r\n\r\n        \r\n    }\r\nreturn arr\r\n    \r\n    }\r\n\r\n    toObj();\r\n\r\n\r\n    return arr\r\n}\r\n\r\n\r\n  function PartyObj() {\r\n\r\n      this.id = justParty(party)[0].party\r\n      this.name = justParty(party)[0].partyName\r\n      this.partyColor = justParty(party)[0].partyColor\r\n      this.followerData = followers()\r\n      this.retweetData = retweets()\r\n      this.polarityData = polarity()\r\n\r\n  }\r\n\r\n  return new PartyObj()\r\n}\r\n\r\nconsole.log(partyStats(\"Aont\", TDData))\r\n\r\nconst fineGaelData = {\r\n  name: \"Fine Gael\",\r\n  color: \"#6699FF\",\r\n  items: partyStats('Fine Gael', TDData).retweetData.map((d) => ({ ...d, date: new Date(d.date) }))\r\n};\r\n\r\nconsole.log(fineGaelData)\r\nconst sinnFeinData = {\r\n  name: \"Sinn Fin\",\r\n  color: \"#326760\",\r\n  items: partyStats(\"Sinn Fin\", TDData).retweetData.map((d) => ({ ...d, date: new Date(d.date) }))\r\n};\r\n\r\nconst fiannaFailData = {\r\n  name: \"Fianna Fil\",\r\n  color: \"#66BB66\",\r\n  items: partyStats('Fianna Fil', TDData).retweetData.map((d) => ({ ...d, date: new Date(d.date) }))\r\n};\r\n\r\nconst labourData = {\r\n  name: \"Labour\",\r\n  color: \"#CC0000\",\r\n  items: partyStats('Labour Party', TDData).retweetData.map((d) => ({ ...d, date: new Date(d.date) }))\r\n};\r\n\r\nconst peopleBeforeProfitData = {\r\n  name: \"People Before Profit\",\r\n  color: \"#660000\",\r\n  items: partyStats('Solidarity - People Before Profit', TDData).retweetData.map((d) => ({ ...d, date: new Date(d.date) }))\r\n};\r\n\r\nconst independentData = {\r\n  name: \"Independents\",\r\n  color: \"white\",\r\n  items: partyStats('Independent').retweetData.map((d) => ({ ...d, date: new Date(d.date) }))\r\n};\r\n\r\nconst greenPartyData = {\r\n  name: \"Green Party\",\r\n  color: \"#99CC33\",\r\n  items: partyStats('Green Party').retweetData.map((d) => ({ ...d, date: new Date(d.date) }))\r\n};\r\n\r\nconst independents4ChangeData = {\r\n  name: \"Independents 4 Change\",\r\n  color: \"grey\",\r\n  items: partyStats('Independents 4 Change').retweetData.map((d) => ({ ...d, date: new Date(d.date) }))\r\n};\r\n\r\nconst aontuData = {\r\n  name: \"Aont\",\r\n  color: \"#44532A\",\r\n  items: partyStats('Aont').retweetData.map((d) => ({ ...d, date: new Date(d.date) }))\r\n};\r\n\r\nconst socDemData = {\r\n  name: \"Social Democrats\",\r\n  color: \"#752F8B\",\r\n  items: partyStats('Social Democrats').retweetData.map((d) => ({ ...d, date: new Date(d.date) }))\r\n};\r\n\r\n\r\n  console.log(partyStats(\"Aont\"))\r\n  console.log(aontuData)\r\n  \r\n\r\n  \r\n  const chartData = [\r\n    ...[fineGaelData, fiannaFailData, sinnFeinData, labourData, independentData,  independents4ChangeData, peopleBeforeProfitData, greenPartyData, aontuData, socDemData].filter((d) => selectedItems.includes(d.name))\r\n  ];\r\n\r\n  \r\n\r\n\r\nconst legendData = [ fineGaelData, sinnFeinData, fiannaFailData, independentData, labourData, independents4ChangeData, peopleBeforeProfitData, greenPartyData, aontuData, socDemData];\r\n\r\n\r\n  return (\r\n  <div className=\"featuredItem\" style={{textAlign: \"center\"}}>\r\n    <Typography variant=\"h5\">Party Retweets</Typography>\r\n      <Legend\r\n        data={legendData}\r\n        selectedItems={selectedItems}\r\n        onChange={onChangeSelection}\r\n      />\r\n      <MultilineChart data={chartData} />\r\n      </div>\r\n\r\n  );\r\n}\r\n\r\n","import { arrayOf, shape, string, date as dateProp, number } from \"prop-types\";\r\n\r\nexport const MultiLineDataItemsPropTypes = arrayOf(\r\n  shape({\r\n    date: dateProp,\r\n    change: number,\r\n    polarityAvg: number\r\n  })\r\n);\r\n\r\nexport const MultiLineDataPropTypes = arrayOf(\r\n  shape({\r\n    name: string,\r\n    items: MultiLineDataItemsPropTypes,\r\n    color: string\r\n  })\r\n);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport * as d3 from \"d3\";\r\n\r\nconst Line = ({\r\n  xScale,\r\n  yScale,\r\n  color,\r\n  data,\r\n  isSmooth,\r\n  animation,\r\n  ...props\r\n}) => {\r\n  const ref = React.useRef(null);\r\n  // Define different types of animation that we can use\r\n  const animateLeft = React.useCallback(() => {\r\n    // NOTE: for some reason getTotalLength() doesn't work in tests\r\n    // in this codesandbox so we added default value just for tests\r\n    const totalLength = ref.current.getTotalLength\r\n      ? ref.current.getTotalLength()\r\n      : 500;\r\n    d3.select(ref.current)\r\n      .attr(\"opacity\", 1)\r\n      .attr(\"stroke-dasharray\", `${totalLength},${totalLength}`)\r\n      .attr(\"stroke-dashoffset\", totalLength)\r\n      .transition()\r\n      .duration(750)\r\n      .ease(d3.easeLinear)\r\n      .attr(\"stroke-dashoffset\", 0);\r\n  }, []);\r\n  const animateFadeIn = React.useCallback(() => {\r\n    d3.select(ref.current)\r\n      .transition()\r\n      .duration(750)\r\n      .ease(d3.easeLinear)\r\n      .attr(\"opacity\", 1);\r\n  }, []);\r\n  const noneAnimation = React.useCallback(() => {\r\n    d3.select(ref.current).attr(\"opacity\", 1);\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    switch (animation) {\r\n      case \"left\":\r\n        animateLeft();\r\n        break;\r\n      case \"fadeIn\":\r\n        animateFadeIn();\r\n        break;\r\n      case \"none\":\r\n      default:\r\n        noneAnimation();\r\n        break;\r\n    }\r\n  }, [animateLeft, animateFadeIn, noneAnimation, animation]);\r\n\r\n  // Recalculate line length if scale has changed\r\n  React.useEffect(() => {\r\n    if (animation === \"left\") {\r\n      const totalLength = ref.current.getTotalLength\r\n        ? ref.current.getTotalLength()\r\n        : 500;\r\n      d3.select(ref.current).attr(\r\n        \"stroke-dasharray\",\r\n        `${totalLength},${totalLength}`\r\n      );\r\n    }\r\n  }, [xScale, yScale, animation]);\r\n\r\n  const line = d3\r\n    .line()\r\n    .x((d) => xScale(d.date))\r\n    .y((d) => yScale(d.polarityAvg));\r\n\r\n  const d = line(data);\r\n\r\n  return (\r\n    <path\r\n      ref={ref}\r\n      d={d?.match(/NaN|undefined/) ? \"\" : d}\r\n      stroke={color}\r\n      strokeWidth={3}\r\n      fill=\"none\"\r\n      opacity={0}\r\n      {...props}\r\n    />\r\n  );\r\n};\r\n\r\nLine.propTypes = {\r\n  xScale: PropTypes.func.isRequired,\r\n  yScale: PropTypes.func.isRequired,\r\n  data: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      date: PropTypes.date,\r\n      change: PropTypes.number\r\n    })\r\n  ),\r\n  color: PropTypes.string,\r\n  isSmooth: PropTypes.bool,\r\n  animation: PropTypes.oneOf([\"left\", \"fadeIn\", \"none\"])\r\n};\r\n\r\nLine.defaultProps = {\r\n  data: [],\r\n  color: \"white\",\r\n  isSmooth: false,\r\n  animation: \"left\"\r\n};\r\n\r\nexport default Line;\r\n","/** Area.js */\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport * as d3 from \"d3\";\r\n\r\nconst Area = ({ xScale, yScale, color, data, disableAnimation, ...props }) => {\r\n  const ref = React.useRef(null);\r\n  React.useEffect(() => {\r\n    if (disableAnimation) {\r\n      d3.select(ref.current).attr(\"opacity\", 1);\r\n      return;\r\n    }\r\n    d3.select(ref.current)\r\n      .transition()\r\n      .duration(750)\r\n      .ease(d3.easeBackIn)\r\n      .attr(\"opacity\", 1);\r\n  }, [disableAnimation]);\r\n\r\n  const d = React.useMemo(() => {\r\n    const area = d3\r\n      .area()\r\n      .x(({ date }) => xScale(date))\r\n      .y1(({ polarityAvg }) => yScale(polarityAvg))\r\n      .y0(() => yScale(yScale.domain()[0]));\r\n    return area(data);\r\n  }, [xScale, yScale, data]);\r\n\r\n  return (\r\n    <>\r\n      <path\r\n        ref={ref}\r\n        d={d}\r\n        fill={`url(#gradient-${color})`}\r\n        opacity={0}\r\n        {...props}\r\n      />\r\n      <defs>\r\n        <linearGradient\r\n          id={`gradient-${color}`}\r\n          x1=\"0%\"\r\n          x2=\"0%\"\r\n          y1=\"0%\"\r\n          y2=\"100%\"\r\n        >\r\n          <stop offset=\"0%\" stopColor={color} stopOpacity={0.2} />\r\n          <stop offset=\"100%\" stopColor={color} stopOpacity={0} />\r\n        </linearGradient>\r\n      </defs>\r\n    </>\r\n  );\r\n};\r\n\r\nArea.propTypes = {\r\n  xScale: PropTypes.func.isRequired,\r\n  yScale: PropTypes.func.isRequired,\r\n  data: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      date: PropTypes.date,\r\n      retweets: PropTypes.number\r\n    })\r\n  ),\r\n  color: PropTypes.string,\r\n  disableAnimation: PropTypes.bool\r\n};\r\n\r\nArea.defaultProps = {\r\n  data: [],\r\n  color: \"white\",\r\n  disableAnimation: false\r\n};\r\n\r\nexport default Area;\r\n","/** AxisX.js */\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport * as d3 from \"d3\";\r\n\r\nconst Axis = ({\r\n  type,\r\n  scale,\r\n  ticks,\r\n  transform,\r\n  tickFormat,\r\n  disableAnimation,\r\n  anchorEl,\r\n  ...props\r\n}) => {\r\n  const ref = React.useRef(null);\r\n  React.useEffect(() => {\r\n    const axisGenerator = type === \"left\" ? d3.axisRight : d3.axisBottom;\r\n    const axis = axisGenerator(scale).ticks(ticks).tickFormat(tickFormat);\r\n    const axisGroup = d3.select(ref.current);\r\n    if (disableAnimation) {\r\n      axisGroup.call(axis);\r\n    } else {\r\n      axisGroup.transition().duration(750).ease(d3.easeLinear).call(axis);\r\n    }\r\n    axisGroup.select(\".domain\").remove();\r\n    axisGroup.selectAll(\"line\").remove();\r\n    axisGroup\r\n      .selectAll(\"text\")\r\n      .attr(\"opacity\", 0.5)\r\n      .attr(\"color\", \"white\")\r\n      .attr(\"font-size\", \"0.75rem\");\r\n  }, [scale, ticks, tickFormat, disableAnimation]);\r\n\r\n  React.useEffect(() => {\r\n    d3.select(anchorEl)\r\n      .on(\"mouseout.axisX\", () => {\r\n        d3.select(ref.current)\r\n          .selectAll(\"text\")\r\n          .attr(\"opacity\", 0.5)\r\n          .style(\"font-weight\", \"normal\");\r\n      })\r\n      .on(\"mousemove.axisX\", () => {\r\n        const [x] = d3.mouse(anchorEl);\r\n        const xDate = scale.invert(x);\r\n        const textElements = d3.select(ref.current).selectAll(\"text\");\r\n        const data = textElements.data();\r\n        const index = d3.bisector((d) => d).left(data, xDate);\r\n        textElements\r\n          .attr(\"opacity\", (d, i) => (i === index - 1 ? 1 : 0.5))\r\n          .style(\"font-weight\", (d, i) =>\r\n            i === index - 1 ? \"bold\" : \"normal\"\r\n          );\r\n      });\r\n  }, [anchorEl, scale]);\r\n\r\n  return <g ref={ref} transform={transform} {...props} />;\r\n};\r\n\r\nAxis.propTypes = {\r\n  type: PropTypes.oneOf([\"left\", \"bottom\"]).isRequired,\r\n  scale: PropTypes.func.isRequired,\r\n  ticks: PropTypes.oneOfType([PropTypes.number, PropTypes.func]).toLocaleString(),\r\n  tickFormat: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\r\n  transform: PropTypes.string,\r\n  disableAnimation: PropTypes.bool,\r\n  anchorEl: PropTypes.instanceOf(Element)\r\n};\r\n\r\nAxis.defaultProps = {\r\n  ticks: 0,\r\n  tickFormat: null,\r\n  transform: \"\",\r\n  disableAnimation: false,\r\n  anchorEl: null\r\n};\r\n\r\nexport default Axis;\r\n","/** GridLine.js */\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport * as d3 from \"d3\";\r\n\r\nconst GridLine = ({\r\n  type,\r\n  scale,\r\n  ticks,\r\n  size,\r\n  transform,\r\n  disableAnimation,\r\n  ...props\r\n}) => {\r\n  const ref = React.useRef(null);\r\n  React.useEffect(() => {\r\n    const axisGenerator = type === \"vertical\" ? d3.axisBottom : d3.axisLeft;\r\n    const axis = axisGenerator(scale).ticks(ticks).tickSize(-size);\r\n\r\n    const gridGroup = d3.select(ref.current);\r\n    if (disableAnimation) {\r\n      gridGroup.call(axis);\r\n    } else {\r\n      gridGroup.transition().duration(750).ease(d3.easeLinear).call(axis);\r\n    }\r\n    gridGroup.select(\".domain\").remove();\r\n    gridGroup.selectAll(\"text\").remove();\r\n    gridGroup.selectAll(\"line\").attr(\"stroke\", \"rgba(255, 255, 255, 0.1)\");\r\n  }, [scale, ticks, size, disableAnimation]);\r\n\r\n  return <g ref={ref} transform={transform} {...props} />;\r\n};\r\n\r\nGridLine.propTypes = {\r\n  scale: PropTypes.func.isRequired,\r\n  type: PropTypes.oneOf([\"vertical\", \"horizontal\"]).isRequired,\r\n  ticks: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\r\n  transform: PropTypes.string,\r\n  size: PropTypes.number,\r\n  disableAnimation: PropTypes.bool\r\n};\r\n\r\nGridLine.defaultProps = {\r\n  ticks: 0,\r\n  transform: \"\",\r\n  size: 0,\r\n  disableAnimation: false\r\n};\r\n\r\nexport default GridLine;\r\n","/** Overlay.js */\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\n/**\r\n * Use Overlay as a wrapper for components that need mouse events to be handled.\r\n * For example: Tooltip, AxisX.\r\n */\r\nconst Overlay = React.forwardRef(({ width, height, children }, ref) => (\r\n  <g>\r\n    {children}\r\n    <rect ref={ref} width={width} height={height} opacity={0} />\r\n  </g>\r\n));\r\n\r\nOverlay.propTypes = {\r\n  width: PropTypes.number.isRequired,\r\n  height: PropTypes.number.isRequired,\r\n  children: PropTypes.node.isRequired\r\n};\r\n\r\nexport default Overlay;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport * as d3 from \"d3\";\r\nimport { MultiLineDataPropTypes } from \"../utils/propTypes\";\r\nimport {formatPercent } from \"../utils/commonUtils\"\r\n// import { formatPercent, formatPriceUSD } from \"../utils/commonUtils\";\r\n\r\nconst Tooltip = ({\r\n  xScale,\r\n  yScale,\r\n  width,\r\n  height,\r\n  data,\r\n  margin,\r\n  anchorEl,\r\n  children,\r\n  ...props\r\n}) => {\r\n  const ref = React.useRef(null);\r\n  const drawLine = React.useCallback(\r\n    (x) => {\r\n      d3.select(ref.current)\r\n        .select(\".tooltipLine\")\r\n        .attr(\"x1\", x)\r\n        .attr(\"x2\", x)\r\n        .attr(\"y1\", -margin.top)\r\n        .attr(\"y2\", height);\r\n    },\r\n    [ref, height, margin]\r\n  );\r\n\r\n  const drawContent = React.useCallback(\r\n    (x) => {\r\n      const tooltipContent = d3.select(ref.current).select(\".tooltipContent\");\r\n      tooltipContent.attr(\"transform\", (cur, i, nodes) => {\r\n        const nodeWidth = nodes[i]?.getBoundingClientRect()?.width || 0;\r\n        const translateX = nodeWidth + x > width ? x - nodeWidth - 12 : x + 8;\r\n        return `translate(${translateX}, ${-margin.top})`;\r\n      });\r\n      tooltipContent\r\n        .select(\".contentTitle\")\r\n        .text(d3.timeFormat(\"%b %d, %Y\")(xScale.invert(x)));\r\n    },\r\n    [xScale, margin, width]\r\n  );\r\n\r\n  const drawBackground = React.useCallback(() => {\r\n    // reset background size to defaults\r\n    const contentBackground = d3\r\n      .select(ref.current)\r\n      .select(\".contentBackground\");\r\n    contentBackground.attr(\"width\", 125).attr(\"height\", 40);\r\n\r\n    // calculate new background size\r\n    const tooltipContentElement = d3\r\n      .select(ref.current)\r\n      .select(\".tooltipContent\")\r\n      .node();\r\n    if (!tooltipContentElement) return;\r\n\r\n    const contentSize = tooltipContentElement.getBoundingClientRect();\r\n    contentBackground\r\n      .attr(\"width\", contentSize.width + 8)\r\n      .attr(\"height\", contentSize.height + 4);\r\n  }, []);\r\n\r\n  const onChangePosition = React.useCallback((d, i, isVisible) => {\r\n    d3.selectAll(\".performanceItemChangePolarity\")\r\n      .filter((td, tIndex) => tIndex === i)\r\n      .text(isVisible ? formatPercent(d.change) : \"\");\r\n\r\n    d3.selectAll(\".performanceItemPolarity\")\r\n      .filter((td, tIndex) => tIndex === i)\r\n      .text(\r\n        d.polarityAvg.toLocaleString() && !isVisible ? \"No data\" : d.polarityAvg.toLocaleString()\r\n      );\r\n       // .text(\r\n      //   d.marketvalue && !isVisible ? \"No data\" : formatPriceUSD(d.marketvalue)\r\n      // );\r\n\r\n    const maxNameWidth = d3.max(\r\n      d3.selectAll(\".performanceItemName\").nodes(),\r\n      (node) => node.getBoundingClientRect().width\r\n    );\r\n    d3.selectAll(\".performanceItemChangePolarity\").attr(\r\n      \"transform\",\r\n      (datum, index, nodes) =>\r\n        `translate(${\r\n          nodes[index].previousSibling.getBoundingClientRect().width + 14\r\n        },4)`\r\n    );\r\n\r\n    d3.selectAll(\".performanceItemPolarity\").attr(\r\n      \"transform\",\r\n      `translate(${maxNameWidth + 60},4)`\r\n    );\r\n  }, []);\r\n\r\n  const followPoints = React.useCallback(() => {\r\n    const [x] = d3.mouse(anchorEl);\r\n    const xDate = xScale.invert(x);\r\n    const bisectDate = d3.bisector((d) => d.date).left;\r\n    let baseXPos = 0;\r\n\r\n    // draw circles on line\r\n    d3.select(ref.current)\r\n      .selectAll(\".tooltipLinePoint\")\r\n      .attr(\"transform\", (cur, i) => {\r\n        const index = bisectDate(data[i].items, xDate, 1);\r\n        const d0 = data[i].items[index - 1];\r\n        const d1 = data[i].items[index];\r\n        const d = xDate - d0?.date > d1?.date - xDate ? d1 : d0;\r\n        if (d.date === undefined && d.polarityAvg === undefined) {\r\n          // move point out of container\r\n          return \"translate(-100,-100)\";\r\n        }\r\n        const xPos = xScale(d.date);\r\n        if (i === 0) {\r\n          baseXPos = xPos;\r\n        }\r\n\r\n        let isVisible = true;\r\n        if (xPos !== baseXPos) {\r\n          isVisible = false;\r\n        }\r\n        const yPos = yScale(d.polarityAvg);\r\n\r\n        onChangePosition(d, i, isVisible);\r\n\r\n        return isVisible\r\n          ? `translate(${xPos}, ${yPos})`\r\n          : \"translate(-100,-100)\";\r\n      });\r\n\r\n    drawLine(baseXPos);\r\n    drawContent(baseXPos);\r\n    drawBackground();\r\n  }, [\r\n    anchorEl,\r\n    drawLine,\r\n    drawContent,\r\n    drawBackground,\r\n    xScale,\r\n    yScale,\r\n    data,\r\n    onChangePosition\r\n  ]);\r\n\r\n  React.useEffect(() => {\r\n    d3.select(anchorEl)\r\n      .on(\"mouseout.tooltip\", () => {\r\n        d3.select(ref.current).attr(\"opacity\", 0);\r\n      })\r\n      .on(\"mouseover.tooltip\", () => {\r\n        d3.select(ref.current).attr(\"opacity\", 1);\r\n      })\r\n      .on(\"mousemove.tooltip\", () => {\r\n        d3.select(ref.current)\r\n          .selectAll(\".tooltipLinePoint\")\r\n          .attr(\"opacity\", 1);\r\n        followPoints();\r\n      });\r\n  }, [anchorEl, followPoints]);\r\n\r\n  if (!data.length) return null;\r\n\r\n  return (\r\n    <g ref={ref} opacity={0} {...props}>\r\n      <line className=\"tooltipLine\" />\r\n      <g className=\"tooltipContent\">\r\n        <rect className=\"contentBackground\" rx={4} ry={4} opacity={0.2} />\r\n        <text className=\"contentTitle\" transform=\"translate(4,14)\" />\r\n        <g className=\"content\" transform=\"translate(4,32)\">\r\n          {data.map(({ name, color }, i) => (\r\n            <g key={name} transform={`translate(6,${22 * i})`}>\r\n              <circle r={6} fill={color} />\r\n              <text className=\"performanceItemName\" transform=\"translate(10,4)\">\r\n                {name}\r\n              </text>\r\n              <text\r\n                className=\"performanceItemChangePolarity\"\r\n                opacity={0.5}\r\n                fontSize={10}\r\n              />\r\n              <text className=\"performanceItemPolarity\" />\r\n            </g>\r\n          ))}\r\n        </g>\r\n      </g>\r\n      {data.map(({ name }) => (\r\n        <circle className=\"tooltipLinePoint\" r={6} key={name} opacity={0} />\r\n      ))}\r\n    </g>\r\n  );\r\n};\r\n\r\nTooltip.propTypes = {\r\n  width: PropTypes.number,\r\n  height: PropTypes.number,\r\n  margin: PropTypes.shape({\r\n    top: PropTypes.number,\r\n    bottom: PropTypes.number,\r\n    left: PropTypes.number,\r\n    right: PropTypes.number\r\n  }),\r\n  data: MultiLineDataPropTypes,\r\n  xScale: PropTypes.func.isRequired,\r\n  yScale: PropTypes.func.isRequired,\r\n  anchorEl: PropTypes.instanceOf(Element)\r\n};\r\n\r\nTooltip.defaultProps = {\r\n  width: 0,\r\n  height: 0,\r\n  margin: {\r\n    top: 0,\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0\r\n  },\r\n  data: [],\r\n  anchorEl: null\r\n};\r\n\r\nexport default Tooltip;\r\n","/* eslint-disable no-bitwise */\r\nimport * as d3 from \"d3\";\r\nimport { DateTime, Interval } from \"luxon\";\r\n\r\n// export const formatPriceUSD = (price) =>\r\n//   new Intl.NumberFormat(\"en-US\", { style: \"currency\", currency: \"USD\" }).format(\r\n//     price\r\n//   );\r\n\r\nexport const formatPercent = (percent = 0) => {\r\n  let result = \"0.00%\";\r\n  const isNumber = typeof percent === \"number\";\r\n  const isString = typeof percent === \"string\";\r\n  const isNotNaN = !Number.isNaN(parseFloat(percent));\r\n\r\n  if ((isNumber || isString) && isNotNaN) {\r\n    result = `${parseFloat(percent) > 0 ? \"+\" : \"\"}${d3.format(\".2%\")(\r\n      percent / 100\r\n    )}`;\r\n  }\r\n  return result;\r\n};\r\n\r\nexport const getPeriod = (date) => {\r\n  if (!date) return 6;\r\n  const now = DateTime.utc();\r\n  const before = DateTime.fromJSDate(date);\r\n  const i = Interval.fromDateTimes(before, now);\r\n  return i.length(\"months\");\r\n};\r\n\r\nexport const getXTicks = (months) => {\r\n  if (months <= 2) return d3.timeDay.every(5).filter((d) => d.getDate() !== 31);\r\n  if (months <= 6) return d3.timeMonth.every(1);\r\n  if (months <= 13) return d3.timeMonth.every(2);\r\n  return d3.timeYear.every(1);\r\n};\r\n\r\nexport const getXTickFormat = (months) => {\r\n  if (months <= 2) return d3.timeFormat(\"%d %b\");\r\n  if (months <= 6) return d3.timeFormat(\"%b\");\r\n  if (months <= 13) return d3.timeFormat(\"%b %Y\");\r\n  return d3.timeFormat(\"%Y\");\r\n};\r\n","/** MultilineChart.controller.js */\r\nimport { useMemo } from \"react\";\r\nimport * as d3 from \"d3\";\r\n\r\nconst useController = ({ data, width, height }) => {\r\n  const xMin = useMemo(\r\n    () => d3.min(data, ({ items }) => d3.min(items, ({ date }) => date)),\r\n    [data]\r\n  );\r\n\r\n  const xMax = useMemo(\r\n    () => d3.max(data, ({ items }) => d3.max(items, ({ date }) => date)),\r\n    [data]\r\n  );\r\n\r\n  const xScale = useMemo(\r\n    () => d3.scaleTime().domain([xMin, xMax]).range([0, width]),\r\n    [xMin, xMax, width]\r\n  );\r\n\r\n  const yMin = useMemo(\r\n    () => d3.min(data, ({ items }) => d3.min(items, ({ polarityAvg }) => polarityAvg)),\r\n    [data]\r\n  );\r\n\r\n  const yMax = useMemo(\r\n    () => d3.max(data, ({ items }) => d3.max(items, ({polarityAvg}) => polarityAvg)),\r\n    [data]\r\n  );\r\n\r\n  const yScale = useMemo(() => {\r\n    const indention = (yMax - yMin) * 0.5;\r\n    return d3\r\n      .scaleLinear()\r\n      .domain([yMin - indention, yMax + indention])\r\n      .range([height, 0]);\r\n  }, [height, yMin, yMax]);\r\n\r\n  const yScaleForAxis = useMemo(\r\n    () => d3.scaleBand().domain([yMin, yMax]).range([height, 0]),\r\n    [height, yMin, yMax]\r\n  );\r\n\r\n  const yTickFormat = (d) => {\r\n\r\n    return d\r\n    // `${parseFloat(d) > 0 ? \"+\" : \"\"}${d3.format(\".2%\")(d / 100)}`;\r\n  }\r\n  const xTickFormat = (d) => {\r\n    if (d3.timeFormat(\"%b\")(d) === \"Jan\") {\r\n      return d3.timeFormat(\"%Y\")(d);\r\n    }\r\n    return d3.timeFormat(\"%b\")(d);\r\n  };\r\n  return {\r\n    yTickFormat,\r\n    xScale,\r\n    yScale,\r\n    yScaleForAxis,\r\n    xTickFormat\r\n  };\r\n};\r\n\r\nexport default useController;\r\n","import React from 'react';\r\nimport ResizeObserver from 'resize-observer-polyfill';\r\n\r\n/**\r\n * Use ResizeObserver to listen for the changes to the dimensions of an element\r\n * @params ref - React ref\r\n * @returns {object} - { width, height, top, left }\r\n */\r\nconst useResize = (ref) => {\r\n  const [dimensions, setDimensions] = React.useState(null);\r\n  React.useEffect(() => {\r\n    const element = ref.current;\r\n    const resizeObserver = new ResizeObserver((entries) => {\r\n      entries.forEach((entry) => {\r\n        setDimensions(entry.contentRect);\r\n      });\r\n    });\r\n    resizeObserver.observe(element);\r\n    return () => {\r\n      resizeObserver.unobserve(element);\r\n    };\r\n  }, [ref]);\r\n  return dimensions || {\r\n    width: 0,\r\n    height: 0,\r\n    top: 0,\r\n    left: 0,\r\n  };\r\n};\r\n\r\nexport default useResize;\r\n","import React from \"react\";\r\nimport useResize from \"./useResize\";\r\n\r\nconst useDimensions = ({ maxHeight, margin = {}, scaleCoef = 0.5 }) => {\r\n  const ref = React.useRef(null);\r\n  const { width } = useResize(ref);\r\n\r\n  const height =\r\n    !maxHeight || width * scaleCoef < maxHeight ? width * scaleCoef : maxHeight;\r\n  const innerWidth = width - (margin.left || 0) - (margin.right || 0);\r\n  const innerHeight = height - (margin.top || 0) - (margin.bottom || 0);\r\n\r\n  return [\r\n    ref,\r\n    {\r\n      svgWidth: width,\r\n      svgHeight: height,\r\n      width: innerWidth,\r\n      height: innerHeight\r\n    }\r\n  ];\r\n};\r\n\r\nexport default useDimensions;\r\n","/** MultilineChart.js */\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { MultiLineDataPropTypes } from \"../utils/propTypes\";\r\nimport { Line, Axis, GridLine, Overlay, Tooltip, Area } from \"../components\";\r\nimport useController from \"./MultilineChart.controller\";\r\nimport useDimensions from \"../utils/useDimensions\";\r\n\r\nconst MultilineChart = ({ data = [], margin = {} }) => {\r\n  const overlayRef = React.useRef(null);\r\n  const [containerRef, { svgWidth, svgHeight, width, height }] = useDimensions({\r\n    maxHeight: 800,\r\n    margin\r\n  });\r\n  const controller = useController({ data, width, height });\r\n  const {\r\n    yTickFormat,\r\n    xTickFormat,\r\n    xScale,\r\n    yScale,\r\n    yScaleForAxis\r\n  } = controller;\r\n\r\n  return (\r\n    <div ref={containerRef}>\r\n      <svg width={svgWidth} height={svgHeight}>\r\n        <g transform={`translate(${margin.left},${margin.top})`}>\r\n          <GridLine\r\n            type=\"vertical\"\r\n            scale={xScale}\r\n            ticks={5}\r\n            size={height}\r\n            transform={`translate(0, ${height})`}\r\n          />\r\n          <GridLine\r\n            type=\"horizontal\"\r\n            scale={yScaleForAxis}\r\n            ticks={2}\r\n            size={width}\r\n          />\r\n          <GridLine\r\n            type=\"horizontal\"\r\n            className=\"baseGridLine\"\r\n            scale={yScale}\r\n            ticks={1}\r\n            size={width}\r\n            disableAnimation\r\n          />\r\n          {data.map(({ name, items = [], color }) => (\r\n            <Line\r\n              key={name}\r\n              data={items}\r\n              xScale={xScale}\r\n              yScale={yScale}\r\n              color={color}\r\n            />\r\n          ))}\r\n          {/* <Area data={data[0].items} xScale={xScale} yScale={yScale} /> */}\r\n          <Axis\r\n            type=\"left\"\r\n            scale={yScaleForAxis}\r\n            transform=\"translate(0, -10)\"\r\n            ticks={5}\r\n            tickFormat={yTickFormat}\r\n          />\r\n          <Overlay ref={overlayRef} width={width} height={height}>\r\n            <Axis\r\n              type=\"bottom\"\r\n              className=\"axisX\"\r\n              anchorEl={overlayRef.current}\r\n              scale={xScale}\r\n              transform={`translate(10, ${height - height / 6})`}\r\n              ticks={5}\r\n              tickFormat={xTickFormat}\r\n            />\r\n            <Tooltip\r\n              className=\"tooltip\"\r\n              anchorEl={overlayRef.current}\r\n              width={width}\r\n              height={height}\r\n              margin={margin}\r\n              xScale={xScale}\r\n              yScale={yScale}\r\n              data={data}\r\n            />\r\n          </Overlay>\r\n        </g>\r\n      </svg>\r\n    </div>\r\n  );\r\n};\r\n\r\nMultilineChart.propTypes = {\r\n  data: MultiLineDataPropTypes,\r\n  margin: PropTypes.shape({\r\n    top: PropTypes.number,\r\n    bottom: PropTypes.number,\r\n    left: PropTypes.number,\r\n    right: PropTypes.number\r\n  })\r\n};\r\n\r\nMultilineChart.defaultProps = {\r\n  data: [],\r\n  margin: {\r\n    top: 30,\r\n    right: 15,\r\n    bottom: 15,\r\n    left: 15\r\n  }\r\n};\r\n\r\nexport default MultilineChart;\r\n","import React from \"react\";\r\n\r\nconst Legend = ({ data, selectedItems, onChange }) => (\r\n  <div className=\"legendContainer\">\r\n    {data.map((d) => (\r\n      <div className=\"checkbox\" style={{ color: d.color }} key={d.name}>\r\n        <label>\r\n          {d.name !== \"Total\" && (\r\n            <input\r\n              type=\"checkbox\"\r\n              value={d.name}\r\n              checked={selectedItems.includes(d.name)}\r\n              onChange={() => onChange(d.name)}\r\n            />\r\n          )}\r\n          {d.name}\r\n        </label>\r\n      </div>\r\n    ))}\r\n  </div>\r\n);\r\n\r\nexport default Legend;\r\n","/** App.js */\r\nimport React, {useState, useEffect} from \"react\";\r\nimport MultilineChart from \"./views/MultilineChart\";\r\nimport Legend from \"./components/Legend\";\r\nimport vcit from \"./data/VCIT.json\";\r\nimport portfolio from \"./data/portfolio.json\";\r\nimport schc from \"./data/SCHC.json\";\r\nimport \"./styles.css\";\r\nimport fiannafail from \"./data/fiannaFail.json\"\r\nimport finegael from \"./data/finegael.json\"\r\nimport ind from \"./data/ind.json\"\r\nimport sinnfein from \"./data/sinnfein.json\"\r\nimport labour from \"./data/labour.json\"\r\nimport { chamberStats } from '../../../Backend/metaData';\r\nimport axios from \"axios\";\r\nimport { Typography } from \"@material-ui/core\";\r\n\r\n\r\n\r\n\r\n\r\nexport default function MultilineAppV3PartyPolarity (data) {\r\n\r\n  const [selectedItems, setSelectedItems] = useState([\"Aont\", \"Independents\", \"Green Party\", \"Labour\", \"Fianna Fil\", \"Fine Gael\", \"Social Democrats\", \"People Before Profit\", \"Independents 4 Change\", \"Sinn Fin\"]);\r\n  const [TDData, setTDData] = useState(null)\r\n  \r\n  \r\n  \r\n  useEffect(() => {\r\n\r\n    setTDData(data)\r\n\r\n}, []);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst onChangeSelection = (name) => {\r\n    const newSelectedItems = selectedItems.includes(name)\r\n      ? selectedItems.filter((item) => item !== name)\r\n      : [...selectedItems, name];\r\n    setSelectedItems(newSelectedItems);\r\n  };\r\n  \r\nif (!TDData) return null;\r\n\r\n\r\n\r\nconsole.log(TDData.data.filter(d => d.party == \"Fine Gael\"))\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// const totalData = {\r\n//   name: \"Total\",\r\n//   color: \"#ffffff\",\r\n//   items: partyStats('sf').followerData.map((d) => ({ ...d, date: new Date(d.date) }))\r\n// };\r\n  const weeks = TDData.data[0].retweetData.length\r\n\r\nfunction justParty(party) {\r\n\r\n\r\n  var just = TDData.data.filter(td => td.party == party)\r\n\r\n  \r\n\r\n  return just\r\n\r\n}\r\n\r\nfunction partyStats(party) {\r\n\r\n  //chamber\r\n  var currentParty = justParty(party) \r\n\r\n  function followers() {\r\n\r\n      var arr = [];\r\n      var followArr = [];\r\n      // var dateArr = currentParty[0].followerData.map(d => d.date);\r\n      var dateArr = currentParty[0].followerData.map(function(d) {\r\n\r\n                      var apart = d.date.split('/')\r\n                      var day = apart[0]\r\n                      var month = apart[1]\r\n                      var year = apart[2]\r\n\r\n                      var together = []\r\n                      together.push(month, day, year)\r\n                      var allDone = together.toString().replace(\",\",\"/\").replace(\",\",\"/\")\r\n                      return allDone\r\n                    })\r\n      var changeArr = [];\r\n\r\n\r\n\r\n      console.log(currentParty[0].retweetData.map(function(d) {\r\n\r\n        var apart = d.date.split('/')\r\n        var day = apart[0]\r\n        var month = apart[1]\r\n        var year = apart[2]\r\n\r\n        var together = []\r\n        together.push(month, day, year)\r\n        var allDone = together.toString().replace(\",\",\"/\").replace(\",\",\"/\")\r\n        return allDone\r\n\r\n      }))\r\n\r\n      // function weekDate () {\r\n\r\n//           for(let i = 0; i < weeks; i++) {\r\n\r\n//           var date = new Date();\r\n//           date.setDate(date.getDate() + (7 * i));\r\n\r\n//               function formatDate(date) {\r\n\r\n//                   var d = new Date(date),\r\n//                       month = '' + (d.getMonth() + 1),\r\n//                       day = '' + d.getDate(),\r\n//                       year = d.getFullYear();\r\n              \r\n//                   if (month.length < 2) \r\n//                       month = '0' + month;\r\n//                   if (day.length < 2) \r\n//                       day = '0' + day;\r\n              \r\n//                   return [year, month, day].join('-');\r\n//               }\r\n\r\n//           dateArr.push(formatDate(date));\r\n//       }\r\n\r\n\r\n//   return dateArr\r\n// }\r\n\r\n//   weekDate();\r\n\r\n\r\n      function follows () {\r\n          \r\n          for( let i = 0; i < weeks; i++) {\r\n\r\n\r\n              var partyFollowers = currentParty.map(td => td.followerData[i].followers)\r\n\r\n              var partyFollowersTotal = partyFollowers.reduce((a, b) => a + b, 0)\r\n\r\n              followArr.push(partyFollowersTotal)\r\n      \r\n          }\r\n      }\r\n\r\n  follows();\r\n\r\n      function change() {\r\n\r\n          for( let i = 0; i < followArr.length; i++) {\r\n\r\n              var lastWeek  = followArr[i - 1]\r\n              var thisWeek = followArr[i]\r\n              var diff = ((thisWeek - lastWeek) / lastWeek) * 100;\r\n              \r\n              //filter NaN at start\r\n\r\n              if(diff !== diff) {changeArr.push(0)} else {\r\n              changeArr.push(diff)\r\n              }\r\n          }\r\n      }\r\n\r\n      change();\r\n\r\n      function toObj() {\r\n\r\n      for(let i = 0; i < weeks; i++) {\r\n\r\n          var followObj = new Object;\r\n          var date = dateArr[i];\r\n          var followers = followArr[i];\r\n          var change = changeArr[i];\r\n\r\n          followObj.date = date;\r\n          followObj.followers = followers;\r\n          followObj.change = change;\r\n          \r\n          arr.push(followObj)\r\n\r\n          \r\n      }\r\n  return arr\r\n      \r\n      }\r\n\r\n      toObj();\r\n\r\n\r\n      return arr\r\n  } \r\n\r\n  function retweets() {\r\n\r\n      var arr = [];\r\n      var retweetArr = [];\r\n      var dateArr = currentParty[0].retweetData.map(function(d) {\r\n\r\n        var apart = d.date.split('/')\r\n        var day = apart[0]\r\n        var month = apart[1]\r\n        var year = apart[2]\r\n\r\n        var together = []\r\n        together.push(month, day, year)\r\n        var allDone = together.toString().replace(\",\",\"/\").replace(\",\",\"/\")\r\n        return allDone\r\n\r\n      })\r\n      var changeArr = [];\r\n\r\n\r\n\r\n      \r\n//       function weekDate () {\r\n\r\n//           for(let i = 0; i < weeks; i++) {\r\n\r\n//           var date = new Date();\r\n//           date.setDate(date.getDate() + (7 * i));\r\n\r\n//               function formatDate(date) {\r\n\r\n//                   var d = new Date(date),\r\n//                       month = '' + (d.getMonth() + 1),\r\n//                       day = '' + d.getDate(),\r\n//                       year = d.getFullYear();\r\n              \r\n//                   if (month.length < 2) \r\n//                       month = '0' + month;\r\n//                   if (day.length < 2) \r\n//                       day = '0' + day;\r\n              \r\n//                   return [year, month, day].join('-');\r\n//               }\r\n\r\n//           dateArr.push(formatDate(date));\r\n//       }\r\n\r\n\r\n//   return dateArr\r\n// }\r\n\r\n//   weekDate();\r\n\r\n\r\n      function retweets () {\r\n          \r\n          for( let i = 0; i < weeks; i++) {\r\n\r\n\r\n              var partyRetweets = currentParty.map(td => td.retweetData[i].retweets)\r\n\r\n              var partyRetweetsTotal = partyRetweets.reduce((a, b) => a + b, 0)\r\n\r\n              retweetArr.push(partyRetweetsTotal)\r\n      \r\n          }\r\n      }\r\n\r\n  retweets();\r\n\r\n      function change() {\r\n\r\n          for( let i = 0; i < retweetArr.length; i++) {\r\n\r\n              var lastWeek  = retweetArr[i - 1]\r\n              var thisWeek = retweetArr[i]\r\n              var diff = ((thisWeek - lastWeek) / lastWeek) * 100;\r\n              \r\n              //filter NaN at start\r\n\r\n              if(diff !== diff) {changeArr.push(0)} else {\r\n              changeArr.push(diff)\r\n              }\r\n          }\r\n      }\r\n\r\n      change();\r\n\r\n      function toObj() {\r\n\r\n      for(let i = 0; i < weeks; i++) {\r\n\r\n          var retweetObj = new Object;\r\n          var date = dateArr[i];\r\n          var retweets = retweetArr[i];\r\n          var change = changeArr[i];\r\n\r\n          retweetObj.date = date;\r\n          retweetObj.retweets = retweets;\r\n          retweetObj.change = change;\r\n          \r\n          arr.push(retweetObj)\r\n\r\n          \r\n      }\r\n  return arr\r\n      \r\n      }\r\n\r\n      toObj();\r\n\r\n\r\n      return arr\r\n  }\r\n\r\n  function polarity() {\r\n\r\n    var arr = [];\r\n    var polarityArr = [];\r\n    var dateArr = currentParty[0].sentimentData.map(function(d) {\r\n\r\n      var apart = d.date.split('/')\r\n      var day = apart[0]\r\n      var month = apart[1]\r\n      var year = apart[2]\r\n\r\n      var together = []\r\n      together.push(month, day, year)\r\n      var allDone = together.toString().replace(\",\",\"/\").replace(\",\",\"/\")\r\n      return allDone\r\n\r\n    })\r\n    var changeArr = [];\r\n\r\n\r\n\r\n    \r\n//       function weekDate () {\r\n\r\n//           for(let i = 0; i < weeks; i++) {\r\n\r\n//           var date = new Date();\r\n//           date.setDate(date.getDate() + (7 * i));\r\n\r\n//               function formatDate(date) {\r\n\r\n//                   var d = new Date(date),\r\n//                       month = '' + (d.getMonth() + 1),\r\n//                       day = '' + d.getDate(),\r\n//                       year = d.getFullYear();\r\n            \r\n//                   if (month.length < 2) \r\n//                       month = '0' + month;\r\n//                   if (day.length < 2) \r\n//                       day = '0' + day;\r\n            \r\n//                   return [year, month, day].join('-');\r\n//               }\r\n\r\n//           dateArr.push(formatDate(date));\r\n//       }\r\n\r\n\r\n//   return dateArr\r\n// }\r\n\r\n//   weekDate();\r\n\r\n\r\n    function polarityAvg () {\r\n        \r\n        for( let i = 0; i < weeks; i++) {\r\n\r\n          var tdAmount = currentParty.length\r\n\r\n            var partyPolarity = currentParty.map(td => td.sentimentData[i].polarity)\r\n\r\n            var partyPolarityAvg = partyPolarity.reduce((a, b) => a + b, 0) / tdAmount\r\n\r\n            // var test = Math.round((partyPolarityAvg * 100)) / 100\r\n          var test = +partyPolarityAvg.toFixed(3)\r\n            polarityArr.push(test)\r\n    \r\n        }\r\n    }\r\n\r\npolarityAvg();\r\n\r\n    function change() {\r\n\r\n        for( let i = 0; i < polarityArr.length; i++) {\r\n\r\n            var lastWeek  = polarityArr[i - 1]\r\n            var thisWeek = polarityArr[i]\r\n            var diff = ((thisWeek - lastWeek) / lastWeek) * 100;\r\n            \r\n            //filter NaN at start\r\n\r\n            if(diff !== diff) {changeArr.push(0)} else {\r\n            changeArr.push(diff)\r\n            }\r\n        }\r\n    }\r\n\r\n    change();\r\n\r\n    function toObj() {\r\n\r\n    for(let i = 0; i < weeks; i++) {\r\n\r\n        var polarityObj = new Object;\r\n        var date = dateArr[i];\r\n        var polAvg = polarityArr[i];\r\n        var change = changeArr[i];\r\n\r\n        polarityObj.date = date;\r\n        polarityObj.polarityAvg = polAvg\r\n        polarityObj.change = change;\r\n        \r\n        arr.push(polarityObj)\r\n\r\n        \r\n    }\r\nreturn arr\r\n    \r\n    }\r\n\r\n    toObj();\r\n\r\n\r\n    return arr\r\n}\r\n\r\n\r\n  function PartyObj() {\r\n\r\n      this.id = justParty(party)[0].party\r\n      this.name = justParty(party)[0].partyName\r\n      this.partyColor = justParty(party)[0].partyColor\r\n      this.followerData = followers()\r\n      this.retweetData = retweets()\r\n      this.polarityData = polarity()\r\n\r\n  }\r\n\r\n  return new PartyObj()\r\n}\r\n\r\nconsole.log(partyStats(\"Aont\", TDData))\r\n\r\nconst fineGaelData = {\r\n  name: \"Fine Gael\",\r\n  color: \"#6699FF\",\r\n  items: partyStats('Fine Gael', TDData).polarityData.map((d) => ({ ...d, date: new Date(d.date) }))\r\n};\r\n\r\nconsole.log(fineGaelData)\r\nconst sinnFeinData = {\r\n  name: \"Sinn Fin\",\r\n  color: \"#326760\",\r\n  items: partyStats(\"Sinn Fin\", TDData).polarityData.map((d) => ({ ...d, date: new Date(d.date) }))\r\n};\r\n\r\nconst fiannaFailData = {\r\n  name: \"Fianna Fil\",\r\n  color: \"#66BB66\",\r\n  items: partyStats('Fianna Fil', TDData).polarityData.map((d) => ({ ...d, date: new Date(d.date) }))\r\n};\r\n\r\nconst labourData = {\r\n  name: \"Labour\",\r\n  color: \"#CC0000\",\r\n  items: partyStats('Labour Party', TDData).polarityData.map((d) => ({ ...d, date: new Date(d.date) }))\r\n};\r\n\r\nconst peopleBeforeProfitData = {\r\n  name: \"People Before Profit\",\r\n  color: \"#660000\",\r\n  items: partyStats('Solidarity - People Before Profit', TDData).polarityData.map((d) => ({ ...d, date: new Date(d.date) }))\r\n};\r\n\r\nconst independentData = {\r\n  name: \"Independents\",\r\n  color: \"white\",\r\n  items: partyStats('Independent').polarityData.map((d) => ({ ...d, date: new Date(d.date) }))\r\n};\r\n\r\nconst greenPartyData = {\r\n  name: \"Green Party\",\r\n  color: \"#99CC33\",\r\n  items: partyStats('Green Party').polarityData.map((d) => ({ ...d, date: new Date(d.date) }))\r\n};\r\n\r\nconst independents4ChangeData = {\r\n  name: \"Independents 4 Change\",\r\n  color: \"grey\",\r\n  items: partyStats('Independents 4 Change').polarityData.map((d) => ({ ...d, date: new Date(d.date) }))\r\n};\r\n\r\nconst aontuData = {\r\n  name: \"Aont\",\r\n  color: \"#44532A\",\r\n  items: partyStats('Aont').polarityData.map((d) => ({ ...d, date: new Date(d.date) }))\r\n};\r\n\r\nconst socDemData = {\r\n  name: \"Social Democrats\",\r\n  color: \"#752F8B\",\r\n  items: partyStats('Social Democrats').polarityData.map((d) => ({ ...d, date: new Date(d.date) }))\r\n};\r\n\r\n\r\n  console.log(partyStats(\"Aont\"))\r\n  console.log(aontuData)\r\n  \r\n\r\n  \r\n  const chartData = [\r\n    ...[fineGaelData, fiannaFailData, sinnFeinData, labourData, independentData,  independents4ChangeData, peopleBeforeProfitData, greenPartyData, aontuData ,socDemData].filter((d) => selectedItems.includes(d.name))\r\n  ];\r\n\r\n  \r\n\r\n\r\nconst legendData = [ fineGaelData, sinnFeinData, fiannaFailData, independentData, labourData, independents4ChangeData, peopleBeforeProfitData, greenPartyData, aontuData, socDemData ];\r\n\r\n\r\n  return (\r\n  <div className=\"featuredItem\" style={{textAlign: \"center\"}}>\r\n    <Typography variant=\"h5\">Party Polarity</Typography>\r\n      <Legend\r\n        data={legendData}\r\n        selectedItems={selectedItems}\r\n        onChange={onChangeSelection}\r\n      />\r\n      <MultilineChart data={chartData} />\r\n      </div>\r\n\r\n  );\r\n}\r\n\r\n","import { arrayOf, shape, string, date as dateProp, number } from \"prop-types\";\r\n\r\nexport const MultiLineDataItemsPropTypes = arrayOf(\r\n  shape({\r\n    date: dateProp,\r\n    change: number,\r\n    subjectivityAvg: number\r\n  })\r\n);\r\n\r\nexport const MultiLineDataPropTypes = arrayOf(\r\n  shape({\r\n    name: string,\r\n    items: MultiLineDataItemsPropTypes,\r\n    color: string\r\n  })\r\n);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport * as d3 from \"d3\";\r\n\r\nconst Line = ({\r\n  xScale,\r\n  yScale,\r\n  color,\r\n  data,\r\n  isSmooth,\r\n  animation,\r\n  ...props\r\n}) => {\r\n  const ref = React.useRef(null);\r\n  // Define different types of animation that we can use\r\n  const animateLeft = React.useCallback(() => {\r\n    // NOTE: for some reason getTotalLength() doesn't work in tests\r\n    // in this codesandbox so we added default value just for tests\r\n    const totalLength = ref.current.getTotalLength\r\n      ? ref.current.getTotalLength()\r\n      : 500;\r\n    d3.select(ref.current)\r\n      .attr(\"opacity\", 1)\r\n      .attr(\"stroke-dasharray\", `${totalLength},${totalLength}`)\r\n      .attr(\"stroke-dashoffset\", totalLength)\r\n      .transition()\r\n      .duration(750)\r\n      .ease(d3.easeLinear)\r\n      .attr(\"stroke-dashoffset\", 0);\r\n  }, []);\r\n  const animateFadeIn = React.useCallback(() => {\r\n    d3.select(ref.current)\r\n      .transition()\r\n      .duration(750)\r\n      .ease(d3.easeLinear)\r\n      .attr(\"opacity\", 1);\r\n  }, []);\r\n  const noneAnimation = React.useCallback(() => {\r\n    d3.select(ref.current).attr(\"opacity\", 1);\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    switch (animation) {\r\n      case \"left\":\r\n        animateLeft();\r\n        break;\r\n      case \"fadeIn\":\r\n        animateFadeIn();\r\n        break;\r\n      case \"none\":\r\n      default:\r\n        noneAnimation();\r\n        break;\r\n    }\r\n  }, [animateLeft, animateFadeIn, noneAnimation, animation]);\r\n\r\n  // Recalculate line length if scale has changed\r\n  React.useEffect(() => {\r\n    if (animation === \"left\") {\r\n      const totalLength = ref.current.getTotalLength\r\n        ? ref.current.getTotalLength()\r\n        : 500;\r\n      d3.select(ref.current).attr(\r\n        \"stroke-dasharray\",\r\n        `${totalLength},${totalLength}`\r\n      );\r\n    }\r\n  }, [xScale, yScale, animation]);\r\n\r\n  const line = d3\r\n    .line()\r\n    .x((d) => xScale(d.date))\r\n    .y((d) => yScale(d.subjectivityAvg));\r\n\r\n  const d = line(data);\r\n\r\n  return (\r\n    <path\r\n      ref={ref}\r\n      d={d?.match(/NaN|undefined/) ? \"\" : d}\r\n      stroke={color}\r\n      strokeWidth={3}\r\n      fill=\"none\"\r\n      opacity={0}\r\n      {...props}\r\n    />\r\n  );\r\n};\r\n\r\nLine.propTypes = {\r\n  xScale: PropTypes.func.isRequired,\r\n  yScale: PropTypes.func.isRequired,\r\n  data: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      date: PropTypes.date,\r\n      change: PropTypes.number\r\n    })\r\n  ),\r\n  color: PropTypes.string,\r\n  isSmooth: PropTypes.bool,\r\n  animation: PropTypes.oneOf([\"left\", \"fadeIn\", \"none\"])\r\n};\r\n\r\nLine.defaultProps = {\r\n  data: [],\r\n  color: \"white\",\r\n  isSmooth: false,\r\n  animation: \"left\"\r\n};\r\n\r\nexport default Line;\r\n","/** Area.js */\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport * as d3 from \"d3\";\r\n\r\nconst Area = ({ xScale, yScale, color, data, disableAnimation, ...props }) => {\r\n  const ref = React.useRef(null);\r\n  React.useEffect(() => {\r\n    if (disableAnimation) {\r\n      d3.select(ref.current).attr(\"opacity\", 1);\r\n      return;\r\n    }\r\n    d3.select(ref.current)\r\n      .transition()\r\n      .duration(750)\r\n      .ease(d3.easeBackIn)\r\n      .attr(\"opacity\", 1);\r\n  }, [disableAnimation]);\r\n\r\n  const d = React.useMemo(() => {\r\n    const area = d3\r\n      .area()\r\n      .x(({ date }) => xScale(date))\r\n      .y1(({ subjectivityAvg }) => yScale(subjectivityAvg))\r\n      .y0(() => yScale(yScale.domain()[0]));\r\n    return area(data);\r\n  }, [xScale, yScale, data]);\r\n\r\n  return (\r\n    <>\r\n      <path\r\n        ref={ref}\r\n        d={d}\r\n        fill={`url(#gradient-${color})`}\r\n        opacity={0}\r\n        {...props}\r\n      />\r\n      <defs>\r\n        <linearGradient\r\n          id={`gradient-${color}`}\r\n          x1=\"0%\"\r\n          x2=\"0%\"\r\n          y1=\"0%\"\r\n          y2=\"100%\"\r\n        >\r\n          <stop offset=\"0%\" stopColor={color} stopOpacity={0.2} />\r\n          <stop offset=\"100%\" stopColor={color} stopOpacity={0} />\r\n        </linearGradient>\r\n      </defs>\r\n    </>\r\n  );\r\n};\r\n\r\nArea.propTypes = {\r\n  xScale: PropTypes.func.isRequired,\r\n  yScale: PropTypes.func.isRequired,\r\n  data: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      date: PropTypes.date,\r\n      retweets: PropTypes.number\r\n    })\r\n  ),\r\n  color: PropTypes.string,\r\n  disableAnimation: PropTypes.bool\r\n};\r\n\r\nArea.defaultProps = {\r\n  data: [],\r\n  color: \"white\",\r\n  disableAnimation: false\r\n};\r\n\r\nexport default Area;\r\n","/** AxisX.js */\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport * as d3 from \"d3\";\r\n\r\nconst Axis = ({\r\n  type,\r\n  scale,\r\n  ticks,\r\n  transform,\r\n  tickFormat,\r\n  disableAnimation,\r\n  anchorEl,\r\n  ...props\r\n}) => {\r\n  const ref = React.useRef(null);\r\n  React.useEffect(() => {\r\n    const axisGenerator = type === \"left\" ? d3.axisRight : d3.axisBottom;\r\n    const axis = axisGenerator(scale).ticks(ticks).tickFormat(tickFormat);\r\n    const axisGroup = d3.select(ref.current);\r\n    if (disableAnimation) {\r\n      axisGroup.call(axis);\r\n    } else {\r\n      axisGroup.transition().duration(750).ease(d3.easeLinear).call(axis);\r\n    }\r\n    axisGroup.select(\".domain\").remove();\r\n    axisGroup.selectAll(\"line\").remove();\r\n    axisGroup\r\n      .selectAll(\"text\")\r\n      .attr(\"opacity\", 0.5)\r\n      .attr(\"color\", \"white\")\r\n      .attr(\"font-size\", \"0.75rem\");\r\n  }, [scale, ticks, tickFormat, disableAnimation]);\r\n\r\n  React.useEffect(() => {\r\n    d3.select(anchorEl)\r\n      .on(\"mouseout.axisX\", () => {\r\n        d3.select(ref.current)\r\n          .selectAll(\"text\")\r\n          .attr(\"opacity\", 0.5)\r\n          .style(\"font-weight\", \"normal\");\r\n      })\r\n      .on(\"mousemove.axisX\", () => {\r\n        const [x] = d3.mouse(anchorEl);\r\n        const xDate = scale.invert(x);\r\n        const textElements = d3.select(ref.current).selectAll(\"text\");\r\n        const data = textElements.data();\r\n        const index = d3.bisector((d) => d).left(data, xDate);\r\n        textElements\r\n          .attr(\"opacity\", (d, i) => (i === index - 1 ? 1 : 0.5))\r\n          .style(\"font-weight\", (d, i) =>\r\n            i === index - 1 ? \"bold\" : \"normal\"\r\n          );\r\n      });\r\n  }, [anchorEl, scale]);\r\n\r\n  return <g ref={ref} transform={transform} {...props} />;\r\n};\r\n\r\nAxis.propTypes = {\r\n  type: PropTypes.oneOf([\"left\", \"bottom\"]).isRequired,\r\n  scale: PropTypes.func.isRequired,\r\n  ticks: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\r\n  tickFormat: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\r\n  transform: PropTypes.string,\r\n  disableAnimation: PropTypes.bool,\r\n  anchorEl: PropTypes.instanceOf(Element)\r\n};\r\n\r\nAxis.defaultProps = {\r\n  ticks: 0,\r\n  tickFormat: null,\r\n  transform: \"\",\r\n  disableAnimation: false,\r\n  anchorEl: null\r\n};\r\n\r\nexport default Axis;\r\n","/** GridLine.js */\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport * as d3 from \"d3\";\r\n\r\nconst GridLine = ({\r\n  type,\r\n  scale,\r\n  ticks,\r\n  size,\r\n  transform,\r\n  disableAnimation,\r\n  ...props\r\n}) => {\r\n  const ref = React.useRef(null);\r\n  React.useEffect(() => {\r\n    const axisGenerator = type === \"vertical\" ? d3.axisBottom : d3.axisLeft;\r\n    const axis = axisGenerator(scale).ticks(ticks).tickSize(-size);\r\n\r\n    const gridGroup = d3.select(ref.current);\r\n    if (disableAnimation) {\r\n      gridGroup.call(axis);\r\n    } else {\r\n      gridGroup.transition().duration(750).ease(d3.easeLinear).call(axis);\r\n    }\r\n    gridGroup.select(\".domain\").remove();\r\n    gridGroup.selectAll(\"text\").remove();\r\n    gridGroup.selectAll(\"line\").attr(\"stroke\", \"rgba(255, 255, 255, 0.1)\");\r\n  }, [scale, ticks, size, disableAnimation]);\r\n\r\n  return <g ref={ref} transform={transform} {...props} />;\r\n};\r\n\r\nGridLine.propTypes = {\r\n  scale: PropTypes.func.isRequired,\r\n  type: PropTypes.oneOf([\"vertical\", \"horizontal\"]).isRequired,\r\n  ticks: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\r\n  transform: PropTypes.string,\r\n  size: PropTypes.number,\r\n  disableAnimation: PropTypes.bool\r\n};\r\n\r\nGridLine.defaultProps = {\r\n  ticks: 0,\r\n  transform: \"\",\r\n  size: 0,\r\n  disableAnimation: false\r\n};\r\n\r\nexport default GridLine;\r\n","/** Overlay.js */\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\n/**\r\n * Use Overlay as a wrapper for components that need mouse events to be handled.\r\n * For example: Tooltip, AxisX.\r\n */\r\nconst Overlay = React.forwardRef(({ width, height, children }, ref) => (\r\n  <g>\r\n    {children}\r\n    <rect ref={ref} width={width} height={height} opacity={0} />\r\n  </g>\r\n));\r\n\r\nOverlay.propTypes = {\r\n  width: PropTypes.number.isRequired,\r\n  height: PropTypes.number.isRequired,\r\n  children: PropTypes.node.isRequired\r\n};\r\n\r\nexport default Overlay;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport * as d3 from \"d3\";\r\nimport { MultiLineDataPropTypes } from \"../utils/propTypes\";\r\nimport {formatPercent } from \"../utils/commonUtils\"\r\n// import { formatPercent, formatPriceUSD } from \"../utils/commonUtils\";\r\n\r\nconst Tooltip = ({\r\n  xScale,\r\n  yScale,\r\n  width,\r\n  height,\r\n  data,\r\n  margin,\r\n  anchorEl,\r\n  children,\r\n  ...props\r\n}) => {\r\n  const ref = React.useRef(null);\r\n  const drawLine = React.useCallback(\r\n    (x) => {\r\n      d3.select(ref.current)\r\n        .select(\".tooltipLine\")\r\n        .attr(\"x1\", x)\r\n        .attr(\"x2\", x)\r\n        .attr(\"y1\", -margin.top)\r\n        .attr(\"y2\", height);\r\n    },\r\n    [ref, height, margin]\r\n  );\r\n\r\n  const drawContent = React.useCallback(\r\n    (x) => {\r\n      const tooltipContent = d3.select(ref.current).select(\".tooltipContent\");\r\n      tooltipContent.attr(\"transform\", (cur, i, nodes) => {\r\n        const nodeWidth = nodes[i]?.getBoundingClientRect()?.width || 0;\r\n        const translateX = nodeWidth + x > width ? x - nodeWidth - 12 : x + 8;\r\n        return `translate(${translateX}, ${-margin.top})`;\r\n      });\r\n      tooltipContent\r\n        .select(\".contentTitle\")\r\n        .text(d3.timeFormat(\"%b %d, %Y\")(xScale.invert(x)));\r\n    },\r\n    [xScale, margin, width]\r\n  );\r\n\r\n  const drawBackground = React.useCallback(() => {\r\n    // reset background size to defaults\r\n    const contentBackground = d3\r\n      .select(ref.current)\r\n      .select(\".contentBackground\");\r\n    contentBackground.attr(\"width\", 125).attr(\"height\", 40);\r\n\r\n    // calculate new background size\r\n    const tooltipContentElement = d3\r\n      .select(ref.current)\r\n      .select(\".tooltipContent\")\r\n      .node();\r\n    if (!tooltipContentElement) return;\r\n\r\n    const contentSize = tooltipContentElement.getBoundingClientRect();\r\n    contentBackground\r\n      .attr(\"width\", contentSize.width + 8)\r\n      .attr(\"height\", contentSize.height + 4);\r\n  }, []);\r\n\r\n  const onChangePosition = React.useCallback((d, i, isVisible) => {\r\n    d3.selectAll(\".performanceItemChangeSubjectivity\")\r\n      .filter((td, tIndex) => tIndex === i)\r\n      .text(isVisible ? formatPercent(d.change) : \"\");\r\n\r\n    d3.selectAll(\".performanceItemSubjectivity\")\r\n      .filter((td, tIndex) => tIndex === i)\r\n      .text(\r\n        d.subjectivityAvg.toLocaleString() && !isVisible ? \"No data\" : d.subjectivityAvg.toLocaleString()\r\n      );\r\n       // .text(\r\n      //   d.marketvalue && !isVisible ? \"No data\" : formatPriceUSD(d.marketvalue)\r\n      // );\r\n\r\n    const maxNameWidth = d3.max(\r\n      d3.selectAll(\".performanceItemName\").nodes(),\r\n      (node) => node.getBoundingClientRect().width\r\n    );\r\n    d3.selectAll(\".performanceItemChangeSubjectivity\").attr(\r\n      \"transform\",\r\n      (datum, index, nodes) =>\r\n        `translate(${\r\n          nodes[index].previousSibling.getBoundingClientRect().width + 14\r\n        },4)`\r\n    );\r\n\r\n    d3.selectAll(\".performanceItemSubjectivity\").attr(\r\n      \"transform\",\r\n      `translate(${maxNameWidth + 60},4)`\r\n    );\r\n  }, []);\r\n\r\n  const followPoints = React.useCallback(() => {\r\n    const [x] = d3.mouse(anchorEl);\r\n    const xDate = xScale.invert(x);\r\n    const bisectDate = d3.bisector((d) => d.date).left;\r\n    let baseXPos = 0;\r\n\r\n    // draw circles on line\r\n    d3.select(ref.current)\r\n      .selectAll(\".tooltipLinePoint\")\r\n      .attr(\"transform\", (cur, i) => {\r\n        const index = bisectDate(data[i].items, xDate, 1);\r\n        const d0 = data[i].items[index - 1];\r\n        const d1 = data[i].items[index];\r\n        const d = xDate - d0?.date > d1?.date - xDate ? d1 : d0;\r\n        if (d.date === undefined && d.subjectivityAvg === undefined) {\r\n          // move point out of container\r\n          return \"translate(-100,-100)\";\r\n        }\r\n        const xPos = xScale(d.date);\r\n        if (i === 0) {\r\n          baseXPos = xPos;\r\n        }\r\n\r\n        let isVisible = true;\r\n        if (xPos !== baseXPos) {\r\n          isVisible = false;\r\n        }\r\n        const yPos = yScale(d.subjectivityAvg);\r\n\r\n        onChangePosition(d, i, isVisible);\r\n\r\n        return isVisible\r\n          ? `translate(${xPos}, ${yPos})`\r\n          : \"translate(-100,-100)\";\r\n      });\r\n\r\n    drawLine(baseXPos);\r\n    drawContent(baseXPos);\r\n    drawBackground();\r\n  }, [\r\n    anchorEl,\r\n    drawLine,\r\n    drawContent,\r\n    drawBackground,\r\n    xScale,\r\n    yScale,\r\n    data,\r\n    onChangePosition\r\n  ]);\r\n\r\n  React.useEffect(() => {\r\n    d3.select(anchorEl)\r\n      .on(\"mouseout.tooltip\", () => {\r\n        d3.select(ref.current).attr(\"opacity\", 0);\r\n      })\r\n      .on(\"mouseover.tooltip\", () => {\r\n        d3.select(ref.current).attr(\"opacity\", 1);\r\n      })\r\n      .on(\"mousemove.tooltip\", () => {\r\n        d3.select(ref.current)\r\n          .selectAll(\".tooltipLinePoint\")\r\n          .attr(\"opacity\", 1);\r\n        followPoints();\r\n      });\r\n  }, [anchorEl, followPoints]);\r\n\r\n  if (!data.length) return null;\r\n\r\n  return (\r\n    <g ref={ref} opacity={0} {...props}>\r\n      <line className=\"tooltipLine\" />\r\n      <g className=\"tooltipContent\">\r\n        <rect className=\"contentBackground\" rx={4} ry={4} opacity={0.2} />\r\n        <text className=\"contentTitle\" transform=\"translate(4,14)\" />\r\n        <g className=\"content\" transform=\"translate(4,32)\">\r\n          {data.map(({ name, color }, i) => (\r\n            <g key={name} transform={`translate(6,${22 * i})`}>\r\n              <circle r={6} fill={color} />\r\n              <text className=\"performanceItemName\" transform=\"translate(10,4)\">\r\n                {name}\r\n              </text>\r\n              <text\r\n                className=\"performanceItemChangeSubjectivity\"\r\n                opacity={0.5}\r\n                fontSize={10}\r\n              />\r\n              <text className=\"performanceItemSubjectivity\" />\r\n            </g>\r\n          ))}\r\n        </g>\r\n      </g>\r\n      {data.map(({ name }) => (\r\n        <circle className=\"tooltipLinePoint\" r={6} key={name} opacity={0} />\r\n      ))}\r\n    </g>\r\n  );\r\n};\r\n\r\nTooltip.propTypes = {\r\n  width: PropTypes.number,\r\n  height: PropTypes.number,\r\n  margin: PropTypes.shape({\r\n    top: PropTypes.number,\r\n    bottom: PropTypes.number,\r\n    left: PropTypes.number,\r\n    right: PropTypes.number\r\n  }),\r\n  data: MultiLineDataPropTypes,\r\n  xScale: PropTypes.func.isRequired,\r\n  yScale: PropTypes.func.isRequired,\r\n  anchorEl: PropTypes.instanceOf(Element)\r\n};\r\n\r\nTooltip.defaultProps = {\r\n  width: 0,\r\n  height: 0,\r\n  margin: {\r\n    top: 0,\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0\r\n  },\r\n  data: [],\r\n  anchorEl: null\r\n};\r\n\r\nexport default Tooltip;\r\n","/* eslint-disable no-bitwise */\r\nimport * as d3 from \"d3\";\r\nimport { DateTime, Interval } from \"luxon\";\r\n\r\n// export const formatPriceUSD = (price) =>\r\n//   new Intl.NumberFormat(\"en-US\", { style: \"currency\", currency: \"USD\" }).format(\r\n//     price\r\n//   );\r\n\r\nexport const formatPercent = (percent = 0) => {\r\n  let result = \"0.00%\";\r\n  const isNumber = typeof percent === \"number\";\r\n  const isString = typeof percent === \"string\";\r\n  const isNotNaN = !Number.isNaN(parseFloat(percent));\r\n\r\n  if ((isNumber || isString) && isNotNaN) {\r\n    result = `${parseFloat(percent) > 0 ? \"+\" : \"\"}${d3.format(\".2%\")(\r\n      percent / 100\r\n    )}`;\r\n  }\r\n  return result;\r\n};\r\n\r\nexport const getPeriod = (date) => {\r\n  if (!date) return 6;\r\n  const now = DateTime.utc();\r\n  const before = DateTime.fromJSDate(date);\r\n  const i = Interval.fromDateTimes(before, now);\r\n  return i.length(\"months\");\r\n};\r\n\r\nexport const getXTicks = (months) => {\r\n  if (months <= 2) return d3.timeDay.every(5).filter((d) => d.getDate() !== 31);\r\n  if (months <= 6) return d3.timeMonth.every(1);\r\n  if (months <= 13) return d3.timeMonth.every(2);\r\n  return d3.timeYear.every(1);\r\n};\r\n\r\nexport const getXTickFormat = (months) => {\r\n  if (months <= 2) return d3.timeFormat(\"%d %b\");\r\n  if (months <= 6) return d3.timeFormat(\"%b\");\r\n  if (months <= 13) return d3.timeFormat(\"%b %Y\");\r\n  return d3.timeFormat(\"%Y\");\r\n};\r\n","/** MultilineChart.controller.js */\r\nimport { useMemo } from \"react\";\r\nimport * as d3 from \"d3\";\r\n\r\nconst useController = ({ data, width, height }) => {\r\n  const xMin = useMemo(\r\n    () => d3.min(data, ({ items }) => d3.min(items, ({ date }) => date)),\r\n    [data]\r\n  );\r\n\r\n  const xMax = useMemo(\r\n    () => d3.max(data, ({ items }) => d3.max(items, ({ date }) => date)),\r\n    [data]\r\n  );\r\n\r\n  const xScale = useMemo(\r\n    () => d3.scaleTime().domain([xMin, xMax]).range([0, width]),\r\n    [xMin, xMax, width]\r\n  );\r\n\r\n  const yMin = useMemo(\r\n    () => d3.min(data, ({ items }) => d3.min(items, ({ subjectivityAvg }) => subjectivityAvg)),\r\n    [data]\r\n  );\r\n\r\n  const yMax = useMemo(\r\n    () => d3.max(data, ({ items }) => d3.max(items, ({subjectivityAvg}) => subjectivityAvg)),\r\n    [data]\r\n  );\r\n\r\n  const yScale = useMemo(() => {\r\n    const indention = (yMax - yMin) * 0.5;\r\n    return d3\r\n      .scaleLinear()\r\n      .domain([yMin - indention, yMax + indention])\r\n      .range([height, 0]);\r\n  }, [height, yMin, yMax]);\r\n\r\n  const yScaleForAxis = useMemo(\r\n    () => d3.scaleBand().domain([yMin, yMax]).range([height, 0]),\r\n    [height, yMin, yMax]\r\n  );\r\n\r\n  const yTickFormat = (d) => {\r\n\r\n    return d\r\n    // `${parseFloat(d) > 0 ? \"+\" : \"\"}${d3.format(\".2%\")(d / 100)}`;\r\n  }\r\n  const xTickFormat = (d) => {\r\n    if (d3.timeFormat(\"%b\")(d) === \"Jan\") {\r\n      return d3.timeFormat(\"%Y\")(d);\r\n    }\r\n    return d3.timeFormat(\"%b\")(d);\r\n  };\r\n  return {\r\n    yTickFormat,\r\n    xScale,\r\n    yScale,\r\n    yScaleForAxis,\r\n    xTickFormat\r\n  };\r\n};\r\n\r\nexport default useController;\r\n","import React from 'react';\r\nimport ResizeObserver from 'resize-observer-polyfill';\r\n\r\n/**\r\n * Use ResizeObserver to listen for the changes to the dimensions of an element\r\n * @params ref - React ref\r\n * @returns {object} - { width, height, top, left }\r\n */\r\nconst useResize = (ref) => {\r\n  const [dimensions, setDimensions] = React.useState(null);\r\n  React.useEffect(() => {\r\n    const element = ref.current;\r\n    const resizeObserver = new ResizeObserver((entries) => {\r\n      entries.forEach((entry) => {\r\n        setDimensions(entry.contentRect);\r\n      });\r\n    });\r\n    resizeObserver.observe(element);\r\n    return () => {\r\n      resizeObserver.unobserve(element);\r\n    };\r\n  }, [ref]);\r\n  return dimensions || {\r\n    width: 0,\r\n    height: 0,\r\n    top: 0,\r\n    left: 0,\r\n  };\r\n};\r\n\r\nexport default useResize;\r\n","import React from \"react\";\r\nimport useResize from \"./useResize\";\r\n\r\nconst useDimensions = ({ maxHeight, margin = {}, scaleCoef = 0.5 }) => {\r\n  const ref = React.useRef(null);\r\n  const { width } = useResize(ref);\r\n\r\n  const height =\r\n    !maxHeight || width * scaleCoef < maxHeight ? width * scaleCoef : maxHeight;\r\n  const innerWidth = width - (margin.left || 0) - (margin.right || 0);\r\n  const innerHeight = height - (margin.top || 0) - (margin.bottom || 0);\r\n\r\n  return [\r\n    ref,\r\n    {\r\n      svgWidth: width,\r\n      svgHeight: height,\r\n      width: innerWidth,\r\n      height: innerHeight\r\n    }\r\n  ];\r\n};\r\n\r\nexport default useDimensions;\r\n","/** MultilineChart.js */\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { MultiLineDataPropTypes } from \"../utils/propTypes\";\r\nimport { Line, Axis, GridLine, Overlay, Tooltip, Area } from \"../components\";\r\nimport useController from \"./MultilineChart.controller\";\r\nimport useDimensions from \"../utils/useDimensions\";\r\n\r\nconst MultilineChart = ({ data = [], margin = {} }) => {\r\n  const overlayRef = React.useRef(null);\r\n  const [containerRef, { svgWidth, svgHeight, width, height }] = useDimensions({\r\n    maxHeight: 800,\r\n    margin\r\n  });\r\n  const controller = useController({ data, width, height });\r\n  const {\r\n    yTickFormat,\r\n    xTickFormat,\r\n    xScale,\r\n    yScale,\r\n    yScaleForAxis\r\n  } = controller;\r\n\r\n  return (\r\n    <div ref={containerRef}>\r\n      <svg width={svgWidth} height={svgHeight}>\r\n        <g transform={`translate(${margin.left},${margin.top})`}>\r\n          <GridLine\r\n            type=\"vertical\"\r\n            scale={xScale}\r\n            ticks={5}\r\n            size={height}\r\n            transform={`translate(0, ${height})`}\r\n          />\r\n          <GridLine\r\n            type=\"horizontal\"\r\n            scale={yScaleForAxis}\r\n            ticks={2}\r\n            size={width}\r\n          />\r\n          <GridLine\r\n            type=\"horizontal\"\r\n            className=\"baseGridLine\"\r\n            scale={yScale}\r\n            ticks={1}\r\n            size={width}\r\n            disableAnimation\r\n          />\r\n          {data.map(({ name, items = [], color }) => (\r\n            <Line\r\n              key={name}\r\n              data={items}\r\n              xScale={xScale}\r\n              yScale={yScale}\r\n              color={color}\r\n            />\r\n          ))}\r\n          {/* <Area data={data[0].items} xScale={xScale} yScale={yScale} /> */}\r\n          <Axis\r\n            type=\"left\"\r\n            scale={yScaleForAxis}\r\n            transform=\"translate(0, -10)\"\r\n            ticks={5}\r\n            tickFormat={yTickFormat}\r\n          />\r\n          <Overlay ref={overlayRef} width={width} height={height}>\r\n            <Axis\r\n              type=\"bottom\"\r\n              className=\"axisX\"\r\n              anchorEl={overlayRef.current}\r\n              scale={xScale}\r\n              transform={`translate(10, ${height - height / 6})`}\r\n              ticks={5}\r\n              tickFormat={xTickFormat}\r\n            />\r\n            <Tooltip\r\n              className=\"tooltip\"\r\n              anchorEl={overlayRef.current}\r\n              width={width}\r\n              height={height}\r\n              margin={margin}\r\n              xScale={xScale}\r\n              yScale={yScale}\r\n              data={data}\r\n            />\r\n          </Overlay>\r\n        </g>\r\n      </svg>\r\n    </div>\r\n  );\r\n};\r\n\r\nMultilineChart.propTypes = {\r\n  data: MultiLineDataPropTypes,\r\n  margin: PropTypes.shape({\r\n    top: PropTypes.number,\r\n    bottom: PropTypes.number,\r\n    left: PropTypes.number,\r\n    right: PropTypes.number\r\n  })\r\n};\r\n\r\nMultilineChart.defaultProps = {\r\n  data: [],\r\n  margin: {\r\n    top: 30,\r\n    right: 15,\r\n    bottom: 15,\r\n    left: 15\r\n  }\r\n};\r\n\r\nexport default MultilineChart;\r\n","import React from \"react\";\r\n\r\nconst Legend = ({ data, selectedItems, onChange }) => (\r\n  <div className=\"legendContainer\">\r\n    {data.map((d) => (\r\n      <div className=\"checkbox\" style={{ color: d.color }} key={d.name}>\r\n        <label>\r\n          {d.name !== \"Total\" && (\r\n            <input\r\n              type=\"checkbox\"\r\n              value={d.name}\r\n              checked={selectedItems.includes(d.name)}\r\n              onChange={() => onChange(d.name)}\r\n            />\r\n          )}\r\n          {d.name}\r\n        </label>\r\n      </div>\r\n    ))}\r\n  </div>\r\n);\r\n\r\nexport default Legend;\r\n","/** App.js */\r\nimport React, {useState, useEffect} from \"react\";\r\nimport MultilineChart from \"./views/MultilineChart\";\r\nimport Legend from \"./components/Legend\";\r\nimport vcit from \"./data/VCIT.json\";\r\nimport portfolio from \"./data/portfolio.json\";\r\nimport schc from \"./data/SCHC.json\";\r\nimport \"./styles.css\";\r\nimport fiannafail from \"./data/fiannaFail.json\"\r\nimport finegael from \"./data/finegael.json\"\r\nimport ind from \"./data/ind.json\"\r\nimport sinnfein from \"./data/sinnfein.json\"\r\nimport labour from \"./data/labour.json\"\r\nimport { chamberStats } from '../../../Backend/metaData';\r\nimport axios from \"axios\";\r\nimport { Typography } from \"@material-ui/core\";\r\n\r\n\r\n\r\n\r\n\r\nexport default function MultilineAppV3PartySubjectivity (data) {\r\n\r\n  const [selectedItems, setSelectedItems] = useState([\"Aont\", \"Independents\", \"Green Party\", \"Labour\", \"Fianna Fil\", \"Fine Gael\", \"Social Democrats\", \"People Before Profit\", \"Independents 4 Change\", \"Sinn Fin\"]);\r\n  const [TDData, setTDData] = useState(null)\r\n  \r\n  \r\n  \r\n  useEffect(() => {\r\n\r\n    setTDData(data)\r\n\r\n}, []);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst onChangeSelection = (name) => {\r\n    const newSelectedItems = selectedItems.includes(name)\r\n      ? selectedItems.filter((item) => item !== name)\r\n      : [...selectedItems, name];\r\n    setSelectedItems(newSelectedItems);\r\n  };\r\n\r\n\r\n  console.log(selectedItems)\r\n  \r\nif (!TDData) return null;\r\n\r\n\r\n\r\nconsole.log(TDData.data.filter(d => d.party == \"Fine Gael\"))\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// const totalData = {\r\n//   name: \"Total\",\r\n//   color: \"#ffffff\",\r\n//   items: partyStats('sf').followerData.map((d) => ({ ...d, date: new Date(d.date) }))\r\n// };\r\n  const weeks = TDData.data[0].retweetData.length\r\n\r\nfunction justParty(party) {\r\n\r\n\r\n  var just = TDData.data.filter(td => td.party == party)\r\n\r\n  \r\n\r\n  return just\r\n\r\n}\r\n\r\nfunction partyStats(party) {\r\n\r\n  //chamber\r\n  var currentParty = justParty(party) \r\n\r\n  function followers() {\r\n\r\n      var arr = [];\r\n      var followArr = [];\r\n      // var dateArr = currentParty[0].followerData.map(d => d.date);\r\n      var dateArr = currentParty[0].followerData.map(function(d) {\r\n\r\n                      var apart = d.date.split('/')\r\n                      var day = apart[0]\r\n                      var month = apart[1]\r\n                      var year = apart[2]\r\n\r\n                      var together = []\r\n                      together.push(month, day, year)\r\n                      var allDone = together.toString().replace(\",\",\"/\").replace(\",\",\"/\")\r\n                      return allDone\r\n                    })\r\n      var changeArr = [];\r\n\r\n\r\n\r\n      console.log(currentParty[0].retweetData.map(function(d) {\r\n\r\n        var apart = d.date.split('/')\r\n        var day = apart[0]\r\n        var month = apart[1]\r\n        var year = apart[2]\r\n\r\n        var together = []\r\n        together.push(month, day, year)\r\n        var allDone = together.toString().replace(\",\",\"/\").replace(\",\",\"/\")\r\n        return allDone\r\n\r\n      }))\r\n\r\n      // function weekDate () {\r\n\r\n//           for(let i = 0; i < weeks; i++) {\r\n\r\n//           var date = new Date();\r\n//           date.setDate(date.getDate() + (7 * i));\r\n\r\n//               function formatDate(date) {\r\n\r\n//                   var d = new Date(date),\r\n//                       month = '' + (d.getMonth() + 1),\r\n//                       day = '' + d.getDate(),\r\n//                       year = d.getFullYear();\r\n              \r\n//                   if (month.length < 2) \r\n//                       month = '0' + month;\r\n//                   if (day.length < 2) \r\n//                       day = '0' + day;\r\n              \r\n//                   return [year, month, day].join('-');\r\n//               }\r\n\r\n//           dateArr.push(formatDate(date));\r\n//       }\r\n\r\n\r\n//   return dateArr\r\n// }\r\n\r\n//   weekDate();\r\n\r\n\r\n      function follows () {\r\n          \r\n          for( let i = 0; i < weeks; i++) {\r\n\r\n\r\n              var partyFollowers = currentParty.map(td => td.followerData[i].followers)\r\n\r\n              var partyFollowersTotal = partyFollowers.reduce((a, b) => a + b, 0)\r\n\r\n              followArr.push(partyFollowersTotal)\r\n      \r\n          }\r\n      }\r\n\r\n  follows();\r\n\r\n      function change() {\r\n\r\n          for( let i = 0; i < followArr.length; i++) {\r\n\r\n              var lastWeek  = followArr[i - 1]\r\n              var thisWeek = followArr[i]\r\n              var diff = ((thisWeek - lastWeek) / lastWeek) * 100;\r\n              \r\n              //filter NaN at start\r\n\r\n              if(diff !== diff) {changeArr.push(0)} else {\r\n              changeArr.push(diff)\r\n              }\r\n          }\r\n      }\r\n\r\n      change();\r\n\r\n      function toObj() {\r\n\r\n      for(let i = 0; i < weeks; i++) {\r\n\r\n          var followObj = new Object;\r\n          var date = dateArr[i];\r\n          var followers = followArr[i];\r\n          var change = changeArr[i];\r\n\r\n          followObj.date = date;\r\n          followObj.followers = followers;\r\n          followObj.change = change;\r\n          \r\n          arr.push(followObj)\r\n\r\n          \r\n      }\r\n  return arr\r\n      \r\n      }\r\n\r\n      toObj();\r\n\r\n\r\n      return arr\r\n  } \r\n\r\n  function retweets() {\r\n\r\n      var arr = [];\r\n      var retweetArr = [];\r\n      var dateArr = currentParty[0].retweetData.map(function(d) {\r\n\r\n        var apart = d.date.split('/')\r\n        var day = apart[0]\r\n        var month = apart[1]\r\n        var year = apart[2]\r\n\r\n        var together = []\r\n        together.push(month, day, year)\r\n        var allDone = together.toString().replace(\",\",\"/\").replace(\",\",\"/\")\r\n        return allDone\r\n\r\n      })\r\n      var changeArr = [];\r\n\r\n\r\n\r\n      \r\n//       function weekDate () {\r\n\r\n//           for(let i = 0; i < weeks; i++) {\r\n\r\n//           var date = new Date();\r\n//           date.setDate(date.getDate() + (7 * i));\r\n\r\n//               function formatDate(date) {\r\n\r\n//                   var d = new Date(date),\r\n//                       month = '' + (d.getMonth() + 1),\r\n//                       day = '' + d.getDate(),\r\n//                       year = d.getFullYear();\r\n              \r\n//                   if (month.length < 2) \r\n//                       month = '0' + month;\r\n//                   if (day.length < 2) \r\n//                       day = '0' + day;\r\n              \r\n//                   return [year, month, day].join('-');\r\n//               }\r\n\r\n//           dateArr.push(formatDate(date));\r\n//       }\r\n\r\n\r\n//   return dateArr\r\n// }\r\n\r\n//   weekDate();\r\n\r\n\r\n      function retweets () {\r\n          \r\n          for( let i = 0; i < weeks; i++) {\r\n\r\n\r\n              var partyRetweets = currentParty.map(td => td.retweetData[i].retweets)\r\n\r\n              var partyRetweetsTotal = partyRetweets.reduce((a, b) => a + b, 0)\r\n\r\n              retweetArr.push(partyRetweetsTotal)\r\n      \r\n          }\r\n      }\r\n\r\n  retweets();\r\n\r\n      function change() {\r\n\r\n          for( let i = 0; i < retweetArr.length; i++) {\r\n\r\n              var lastWeek  = retweetArr[i - 1]\r\n              var thisWeek = retweetArr[i]\r\n              var diff = ((thisWeek - lastWeek) / lastWeek) * 100;\r\n              \r\n              //filter NaN at start\r\n\r\n              if(diff !== diff) {changeArr.push(0)} else {\r\n              changeArr.push(diff)\r\n              }\r\n          }\r\n      }\r\n\r\n      change();\r\n\r\n      function toObj() {\r\n\r\n      for(let i = 0; i < weeks; i++) {\r\n\r\n          var retweetObj = new Object;\r\n          var date = dateArr[i];\r\n          var retweets = retweetArr[i];\r\n          var change = changeArr[i];\r\n\r\n          retweetObj.date = date;\r\n          retweetObj.retweets = retweets;\r\n          retweetObj.change = change;\r\n          \r\n          arr.push(retweetObj)\r\n\r\n          \r\n      }\r\n  return arr\r\n      \r\n      }\r\n\r\n      toObj();\r\n\r\n\r\n      return arr\r\n  }\r\n\r\n  function polarity() {\r\n\r\n    var arr = [];\r\n    var polarityArr = [];\r\n    var dateArr = currentParty[0].sentimentData.map(function(d) {\r\n\r\n      var apart = d.date.split('/')\r\n      var day = apart[0]\r\n      var month = apart[1]\r\n      var year = apart[2]\r\n\r\n      var together = []\r\n      together.push(month, day, year)\r\n      var allDone = together.toString().replace(\",\",\"/\").replace(\",\",\"/\")\r\n      return allDone\r\n\r\n    })\r\n    var changeArr = [];\r\n\r\n\r\n\r\n    \r\n//       function weekDate () {\r\n\r\n//           for(let i = 0; i < weeks; i++) {\r\n\r\n//           var date = new Date();\r\n//           date.setDate(date.getDate() + (7 * i));\r\n\r\n//               function formatDate(date) {\r\n\r\n//                   var d = new Date(date),\r\n//                       month = '' + (d.getMonth() + 1),\r\n//                       day = '' + d.getDate(),\r\n//                       year = d.getFullYear();\r\n            \r\n//                   if (month.length < 2) \r\n//                       month = '0' + month;\r\n//                   if (day.length < 2) \r\n//                       day = '0' + day;\r\n            \r\n//                   return [year, month, day].join('-');\r\n//               }\r\n\r\n//           dateArr.push(formatDate(date));\r\n//       }\r\n\r\n\r\n//   return dateArr\r\n// }\r\n\r\n//   weekDate();\r\n\r\n\r\n    function polarityAvg () {\r\n        \r\n        for( let i = 0; i < weeks; i++) {\r\n\r\n          var tdAmount = currentParty.length\r\n\r\n            var partyPolarity = currentParty.map(td => td.sentimentData[i].polarity)\r\n\r\n            var partyPolarityAvg = partyPolarity.reduce((a, b) => a + b, 0) / tdAmount\r\n\r\n            // var test = Math.round((partyPolarityAvg * 100)) / 100\r\n          var test = +partyPolarityAvg.toFixed(3)\r\n            polarityArr.push(test)\r\n    \r\n        }\r\n    }\r\n\r\npolarityAvg();\r\n\r\n    function change() {\r\n\r\n        for( let i = 0; i < polarityArr.length; i++) {\r\n\r\n            var lastWeek  = polarityArr[i - 1]\r\n            var thisWeek = polarityArr[i]\r\n            var diff = ((thisWeek - lastWeek) / lastWeek) * 100;\r\n            \r\n            //filter NaN at start\r\n\r\n            if(diff !== diff) {changeArr.push(0)} else {\r\n            changeArr.push(diff)\r\n            }\r\n        }\r\n    }\r\n\r\n    change();\r\n\r\n    function toObj() {\r\n\r\n    for(let i = 0; i < weeks; i++) {\r\n\r\n        var polarityObj = new Object;\r\n        var date = dateArr[i];\r\n        var polAvg = polarityArr[i];\r\n        var change = changeArr[i];\r\n\r\n        polarityObj.date = date;\r\n        polarityObj.polarityAvg = polAvg\r\n        polarityObj.change = change;\r\n        \r\n        arr.push(polarityObj)\r\n\r\n        \r\n    }\r\nreturn arr\r\n    \r\n    }\r\n\r\n    toObj();\r\n\r\n\r\n    return arr\r\n}\r\n\r\nfunction subjectivity() {\r\n\r\n  var arr = [];\r\n  var subjectivityArr = [];\r\n  var dateArr = currentParty[0].sentimentData.map(function(d) {\r\n\r\n    var apart = d.date.split('/')\r\n    var day = apart[0]\r\n    var month = apart[1]\r\n    var year = apart[2]\r\n\r\n    var together = []\r\n    together.push(month, day, year)\r\n    var allDone = together.toString().replace(\",\",\"/\").replace(\",\",\"/\")\r\n    return allDone\r\n\r\n  })\r\n  var changeArr = [];\r\n\r\n\r\n\r\n  \r\n//       function weekDate () {\r\n\r\n//           for(let i = 0; i < weeks; i++) {\r\n\r\n//           var date = new Date();\r\n//           date.setDate(date.getDate() + (7 * i));\r\n\r\n//               function formatDate(date) {\r\n\r\n//                   var d = new Date(date),\r\n//                       month = '' + (d.getMonth() + 1),\r\n//                       day = '' + d.getDate(),\r\n//                       year = d.getFullYear();\r\n          \r\n//                   if (month.length < 2) \r\n//                       month = '0' + month;\r\n//                   if (day.length < 2) \r\n//                       day = '0' + day;\r\n          \r\n//                   return [year, month, day].join('-');\r\n//               }\r\n\r\n//           dateArr.push(formatDate(date));\r\n//       }\r\n\r\n\r\n//   return dateArr\r\n// }\r\n\r\n//   weekDate();\r\n\r\n\r\n  function subjectivityAvg () {\r\n      \r\n      for( let i = 0; i < weeks; i++) {\r\n\r\n        var tdAmount = currentParty.length\r\n\r\n          var partySubjectivity = currentParty.map(td => td.sentimentData[i].subjectivity)\r\n\r\n          var partySubjectivityAvg = partySubjectivity.reduce((a, b) => a + b, 0) / tdAmount\r\n\r\n          // var test = Math.round((partyPolarityAvg * 100)) / 100\r\n        var test = +partySubjectivityAvg.toFixed(3)\r\n        subjectivityArr.push(test)\r\n  \r\n      }\r\n  }\r\n\r\nsubjectivityAvg();\r\n\r\n  function change() {\r\n\r\n      for( let i = 0; i < subjectivityArr.length; i++) {\r\n\r\n          var lastWeek  = subjectivityArr[i - 1]\r\n          var thisWeek = subjectivityArr[i]\r\n          var diff = ((thisWeek - lastWeek) / lastWeek) * 100;\r\n          \r\n          //filter NaN at start\r\n\r\n          if(diff !== diff) {changeArr.push(0)} else {\r\n          changeArr.push(diff)\r\n          }\r\n      }\r\n  }\r\n\r\n  change();\r\n\r\n  function toObj() {\r\n\r\n  for(let i = 0; i < weeks; i++) {\r\n\r\n      var subjectivityObj = new Object;\r\n      var date = dateArr[i];\r\n      var subAvg = subjectivityArr[i];\r\n      var change = changeArr[i];\r\n\r\n      subjectivityObj.date = date;\r\n      subjectivityObj.subjectivityAvg = subAvg\r\n      subjectivityObj.change = change;\r\n      \r\n      arr.push(subjectivityObj)\r\n\r\n      \r\n  }\r\nreturn arr\r\n  \r\n  }\r\n\r\n  toObj();\r\n\r\n\r\n  return arr\r\n}\r\n\r\n\r\n  function PartyObj() {\r\n\r\n      this.id = justParty(party)[0].party\r\n      this.name = justParty(party)[0].partyName\r\n      this.partyColor = justParty(party)[0].partyColor\r\n      this.followerData = followers()\r\n      this.retweetData = retweets()\r\n      this.polarityData = polarity()\r\n      this.subjectivityData = subjectivity()\r\n\r\n  }\r\n\r\n  return new PartyObj()\r\n}\r\n\r\nconsole.log(partyStats(\"Aont\", TDData))\r\n\r\nconst fineGaelData = {\r\n  name: \"Fine Gael\",\r\n  color: \"#6699FF\",\r\n  items: partyStats('Fine Gael', TDData).subjectivityData.map((d) => ({ ...d, date: new Date(d.date) }))\r\n};\r\n\r\nconsole.log(fineGaelData)\r\nconst sinnFeinData = {\r\n  name: \"Sinn Fin\",\r\n  color: \"#326760\",\r\n  items: partyStats(\"Sinn Fin\", TDData).subjectivityData.map((d) => ({ ...d, date: new Date(d.date) }))\r\n};\r\n\r\nconst fiannaFailData = {\r\n  name: \"Fianna Fil\",\r\n  color: \"#66BB66\",\r\n  items: partyStats('Fianna Fil', TDData).subjectivityData.map((d) => ({ ...d, date: new Date(d.date) }))\r\n};\r\n\r\nconst labourData = {\r\n  name: \"Labour\",\r\n  color: \"#CC0000\",\r\n  items: partyStats('Labour Party', TDData).subjectivityData.map((d) => ({ ...d, date: new Date(d.date) }))\r\n};\r\n\r\nconst peopleBeforeProfitData = {\r\n  name: \"People Before Profit\",\r\n  color: \"#660000\",\r\n  items: partyStats('Solidarity - People Before Profit', TDData).subjectivityData.map((d) => ({ ...d, date: new Date(d.date) }))\r\n};\r\n\r\nconst independentData = {\r\n  name: \"Independents\",\r\n  color: \"white\",\r\n  items: partyStats('Independent').subjectivityData.map((d) => ({ ...d, date: new Date(d.date) }))\r\n};\r\n\r\nconst greenPartyData = {\r\n  name: \"Green Party\",\r\n  color: \"#99CC33\",\r\n  items: partyStats('Green Party').subjectivityData.map((d) => ({ ...d, date: new Date(d.date) }))\r\n};\r\n\r\nconst independents4ChangeData = {\r\n  name: \"Independents 4 Change\",\r\n  color: \"grey\",\r\n  items: partyStats('Independents 4 Change').subjectivityData.map((d) => ({ ...d, date: new Date(d.date) }))\r\n};\r\n\r\nconst aontuData = {\r\n  name: \"Aont\",\r\n  color: \"#44532A\",\r\n  items: partyStats('Aont').subjectivityData.map((d) => ({ ...d, date: new Date(d.date) }))\r\n};\r\n\r\nconst socDemData = {\r\n  name: \"Social Democrats\",\r\n  color: \"#752F8B\",\r\n  items: partyStats('Social Democrats').subjectivityData.map((d) => ({ ...d, date: new Date(d.date) }))\r\n};\r\n\r\n\r\n  console.log(partyStats(\"Aont\"))\r\n  console.log(aontuData)\r\n  \r\n\r\n  \r\n  const chartData = [\r\n    ...[fineGaelData, fiannaFailData, sinnFeinData, labourData, independentData,  independents4ChangeData, peopleBeforeProfitData, greenPartyData, aontuData ,socDemData].filter((d) => selectedItems.includes(d.name))\r\n  ];\r\n\r\n  \r\n\r\n\r\nconst legendData = [ fineGaelData, sinnFeinData, fiannaFailData, independentData, labourData, independents4ChangeData, peopleBeforeProfitData, greenPartyData, aontuData, socDemData ];\r\n\r\n\r\n  return (\r\n  <div className=\"featuredItem\" style={{textAlign: \"center\"}}>\r\n    <Typography variant=\"h5\">Party Subjectivity</Typography>\r\n      <Legend\r\n        data={legendData}\r\n        selectedItems={selectedItems}\r\n        onChange={onChangeSelection}\r\n      />\r\n      <MultilineChart data={chartData} />\r\n      </div>\r\n\r\n  );\r\n}\r\n\r\n","import { Typography } from '@material-ui/core'\r\nimport React from 'react'\r\nimport { Grid } from '@material-ui/core'\r\n\r\nconst ComingSoon = () => {\r\n\r\n\r\n\r\n\r\n    return (\r\n        <Grid container xs={12} sm={12} justifyContent=\"space-around\">\r\n            <Grid item >\r\n        <div className=\"featuredItem\" style={{display: \"inline-block\", justifyContent: \"center\", fontSize: \"20px\", padding: \"50px\", paddingLeft: \"100px\", paddingRight: \"100px\"}}>\r\n            <div>\r\n            <Typography variant=\"h5\" style={{marginBottom: \"20px\"}}>Coming Soon</Typography>\r\n            <ul style={{fontSize: \"18px\"}}>\r\n            <li style={{listStyleType: \"circle\", marginBottom: \"5px\"}}>\r\n            <p>Network Graph</p>\r\n            </li>\r\n            <li style={{listStyleType: \"circle\", marginBottom: \"5px\"}}>\r\n            <p>Parliamentary Data</p>\r\n            </li>\r\n            <li style={{listStyleType: \"circle\", marginBottom: \"5px\"}}>\r\n            <p>Electoral Data</p>\r\n            </li>\r\n            <li style={{listStyleType: \"circle\", marginBottom: \"5px\"}}>\r\n            <p>Standalone TD pages</p>\r\n            </li>\r\n            <li style={{listStyleType: \"circle\", marginBottom: \"5px\"}}>\r\n            <p>API</p>\r\n            </li>\r\n            </ul>\r\n            </div>\r\n        </div>\r\n        </Grid>\r\n        </Grid>\r\n    )\r\n}\r\n\r\nexport default ComingSoon\r\n","import React, {useState, useEffect} from 'react'\r\nimport { Typography } from '@material-ui/core'\r\nimport './welcome.css'\r\n\r\n\r\nconst Welcome = ({data}) => {\r\n\r\n\r\n    const [TDFollowerDataObjArr, setTDFollowerDataObjArr] = useState(null)\r\n    const [currentWeekIndex, setCurrentWeekIndex] = useState(null)\r\n\r\n    useEffect(() => {\r\n\r\n        setTDFollowerDataObjArr(data)\r\n\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n\r\n        if(!TDFollowerDataObjArr) return null;\r\n\r\n        setCurrentWeekIndex(TDFollowerDataObjArr.length - 1)\r\n\r\n    }, [TDFollowerDataObjArr])\r\n\r\n\r\n    if(!currentWeekIndex || !TDFollowerDataObjArr) return null;\r\n\r\n\r\n    return (\r\n        <>\r\n        <div className=\"featuredItem\">\r\n            <Typography variant=\"h5\">What is this site for?</Typography>\r\n            <p style={{marginBottom: \"20px\"}}>Visualising Irish Politics through:</p>\r\n            <ul>\r\n                <li style={{listStyleType: \"circle\", marginLeft: \"20px\", marginBottom: \"5px\"}}>TD Twitter Data</li>\r\n                <li style={{listStyleType: \"circle\", marginLeft: \"20px\", marginBottom: \"5px\"}}>Oireachtas Data (soon)</li> \r\n                <li style={{listStyleType: \"circle\", marginLeft: \"20px\", marginBottom: \"5px\"}}>News/Polling Data (soon)</li>\r\n                <li style={{listStyleType: \"circle\",marginLeft: \"20px\",marginBottom: \"5px\"}}>Electoral Data (soon)</li> \r\n                </ul>\r\n                <p style={{marginTop: \"15px\"}}>Or more succintly, through: <b style={{fontWeight: 600, color: \"lightblue\"}}>what TD's say</b>, <b style={{fontWeight: 600, color: \"darkgreen\"}}>what TD's do</b>, <b style={{fontWeight: 600, color: \"lightpink\"}}>what we think</b>, and <b style={{fontWeight: 600}}>how we vote.</b></p>\r\n                \r\n            \r\n</div><div className=\"featuredItem\">\r\n<Typography variant=\"h5\">Twitter Data</Typography>\r\n            <p style={{marginBottom: \"5px\", marginTop: \"15px\"}}>Every week, each TD has the following metrics recorded:</p>\r\n                <ul>\r\n                <li style={{listStyleType: \"circle\", marginLeft: \"20px\", marginBottom: \"5px\"}}>Followers</li>\r\n                </ul>\r\n                <p style={{marginBottom: \"5px\"}} >And for the last seven days:</p>\r\n                <ul>\r\n                <li style={{listStyleType: \"circle\", marginLeft: \"20px\", marginBottom: \"5px\"}}>Retweets</li>\r\n                <li style={{listStyleType: \"circle\", marginLeft: \"20px\", marginBottom: \"5px\"}}>Original Tweets posted</li> \r\n                <li style={{listStyleType: \"circle\",marginLeft: \"20px\",marginBottom: \"5px\"}}>Tweet subjectivity average</li> \r\n                <li style={{listStyleType: \"circle\", marginLeft: \"20px\", marginBottom: \"5px\"}}>Tweet polarity average</li> \r\n                </ul>\r\n                <p style={{marginBottom: \"5px\", marginTop: \"15px\"}}>To learn how polarity and subjectivity is calculated, click <a href=\"https://textblob.readthedocs.io/en/dev/\">here</a>.</p>            \r\n                <p style={{marginTop: \"20px\"}}>Questions to ask:</p>\r\n            <ul>\r\n                <li style={{listStyleType: \"circle\", marginLeft: \"20px\", marginBottom: \"5px\"}}>\"Which party is most followed?\"</li>\r\n                <li style={{listStyleType: \"circle\", marginLeft: \"20px\", marginBottom: \"5px\"}}>\"Is their a correlation between a TD's subjectivity or polarity, and the Party they are in?\"</li>\r\n                <li style={{listStyleType: \"circle\", marginLeft: \"20px\", marginBottom: \"5px\"}}>\"Are subjective or polarising TD's more or less engaging?\"</li>\r\n                </ul>\r\n                <p style={{marginTop: \"15px\"}}>Collections run every Tuesday since <b style={{fontWeight: 600}}>25/08/2021</b>. Last Collection <b style={{fontWeight: 600}}>{TDFollowerDataObjArr[currentWeekIndex].date}</b>.\r\n                </p>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Welcome\r\n","import React, { useEffect, useState } from 'react'\r\nimport {Grid} from '@material-ui/core'\r\nimport {MostFollowedTD, MostFollowedParty, MostRetweetedTD, DailTotal, MostNegativeTD, MostActiveTD, MostPositiveTD } from './FeaturedItem/FeaturedItem'\r\nimport SimpleLineChart from './SimpleLineChart/SimpleLineChart'\r\nimport SimplePieChart from './SimplePieChart/SimplePieChart'\r\nimport {DailSentimentGauge, DailConnectivityGauge} from './SimpleGauge/SimpleGauge'\r\nimport MultilineAppV3PartyFollowers from './MultilineChartV3PartyFollowers/MultilineAppV3PartyFollowers'\r\nimport PartyFollowersGraph from './PartyFollowersGraph/PartyFollowersGraph'\r\nimport Scatterplot from './Scatterplot/Scatterplot'\r\nimport { PartyBarchart } from './PartyBarchart/PartyBarchart'\r\nimport Test from '../Test/Test'\r\nimport ForceGraph from './ForceGraph/ForceGraph'\r\nimport axios from 'axios'\r\nimport ScatterplotZoom from './ScatterplotZoom/ScatterplotZoom'\r\nimport { BarChart } from './BarChart.js'\r\nimport ScatterplotParty from './ScatterplotParty/ScatterplotParty'\r\nimport { VoteBarchart } from './VoteBarchart/VoteBarchart'\r\nimport LineChart from '../LineChart/LineChart'\r\nimport GroupedBarChart from './GroupedBarChart/GroupedBarChart'\r\nimport GroupedBarChartTest from './GroupedBarChartTest/GroupedBarChartTest'\r\nimport { Typography } from '@material-ui/core'\r\nimport PieChart from './PieChart/PieChart'\r\nimport MultilineAppV3PartyRetweets from './MultilineChartV3PartyRetweets/MultilineAppV3PartyRetweets'\r\nimport MultilineAppV3PartyPolarity from './MultilineChartV3PartyPolarity/MultilineAppV3PartyPolarity'\r\nimport MultilineAppV3PartySubjectivity from './MultilineChartV3PartySubjectivity/MultilineAppV3PartySubjectivity'\r\nimport ComingSoon from './ComingSoon'\r\nimport Welcome from './Welcome/Welcome'\r\n\r\n\r\n\r\nconst Dashboard = () => {\r\n\r\n    const [TDData, setTDData] = useState(null)\r\n    const [oirData, setOirData] = useState(null)\r\n\r\n\r\n    React.useEffect(() => {\r\n        axios.get('https://eirpol.herokuapp.com/api').then((response) => {\r\n          setTDData(response.data.filter(function(d) {\r\n          \r\n            if(d.followerData[0] != undefined) {\r\n            return d\r\n          }\r\n        }\r\n        ));\r\n          \r\n        });\r\n\r\n        // axios.get('https://api.oireachtas.ie/v1/members?date_start=2020-01-01&chamber_id=&date_end=2099-01-01&limit=50').then((response) => {\r\n\r\n        //     setOirData(response.data)\r\n            \r\n        //   });\r\n        \r\n        \r\n      }, []);\r\n    \r\n\r\n      if (!TDData) return null;\r\n\r\n        console.log(TDData)\r\n\r\n    return (\r\n        \r\n\r\n        <Grid container xs={12} spacing={0}>         \r\n\r\n            <Grid item xs={12} sm={12}>\r\n                <Welcome data={TDData[0].followerData}/>\r\n            </Grid>\r\n            <Grid item xs={12} sm={4}>\r\n                <MostFollowedTD data={TDData}/>\r\n            </Grid>\r\n\r\n            <Grid item xs={12} sm={4}>\r\n                <MostFollowedParty data={TDData}/>\r\n            </Grid>\r\n            <Grid item xs={12} sm={4}>\r\n                <MostRetweetedTD data={TDData}/>\r\n            </Grid>    \r\n\r\n            <Grid item xs={12} sm={4}>\r\n                <MostPositiveTD data={TDData}/>\r\n            </Grid>\r\n            <Grid item xs={12} sm={4}>\r\n                <MostNegativeTD data={TDData}/>\r\n            </Grid>    \r\n            <Grid item xs={12} sm={4}>\r\n                <MostActiveTD data={TDData}/>\r\n            </Grid>       \r\n\r\n            <Grid item xs={12} sm={6}>\r\n            <DailSentimentGauge data={TDData}/>\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n                <DailConnectivityGauge data={TDData}/>\r\n            </Grid>        \r\n            <Grid item xs={12} sm={12}>\r\n                <DailTotal data={TDData}/>\r\n            </Grid>  \r\n            <Grid item xs={12} sm={12}>\r\n                <Scatterplot data={TDData}/>\r\n            </Grid>\r\n            <Grid item xs={12} sm={12}>\r\n                <PartyBarchart data={TDData}/>\r\n            </Grid>\r\n            {/* <Grid item xs={12} sm={12}>\r\n                <ForceGraph/>\r\n            </Grid> */}\r\n            <Grid item xs={12} sm={12}>\r\n                <ScatterplotParty data={TDData}/>\r\n            </Grid>\r\n\r\n            <Grid item xs={12} sm={12}>\r\n                <MultilineAppV3PartyFollowers data={TDData}/>\r\n            </Grid>\r\n            <Grid item xs={12} sm={12}>\r\n                <MultilineAppV3PartyRetweets data={TDData}/>\r\n            </Grid>\r\n            <Grid item xs={12} sm={12}>\r\n                <MultilineAppV3PartyPolarity data={TDData}/>\r\n            </Grid>\r\n            <Grid item xs={12} sm={12}>\r\n                <MultilineAppV3PartySubjectivity data={TDData}/>\r\n            </Grid>            \r\n            {/* <Grid item xs={12} sm={6}>\r\n                <VoteBarchart data={TDData}/>\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n                <LineChart data={TDData}/>\r\n            </Grid> */}\r\n            <Grid item xs={12} sm={12}>\r\n                <ComingSoon/>\r\n            </Grid>\r\n\r\n\r\n\r\n\r\n        </Grid>\r\n\r\n    )\r\n}\r\n\r\nexport default Dashboard\r\n","import React, { useState } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport \"./navbar.css\";\r\n\r\nfunction Navbar() {\r\n  const [click, setClick] = useState(false);\r\n\r\n  const handleClick = () => setClick(!click);\r\n  return (\r\n    <>\r\n      <nav className=\"navbar\">\r\n        <div className=\"nav-container\">\r\n          <NavLink exact to=\"/\" className=\"nav-logo\">\r\n            <img className=\"logo-img\" src=\"https://vectr.com/tmp/a6z2fwTvN/cd00KuhHM.svg?width=640&height=640&select=cd00KuhHMpage0\" style={{height: \"80px\", width: \"170px\"}}/>\r\n          </NavLink>\r\n\r\n          <ul className={click ? \"nav-menu active\" : \"nav-menu\"}>\r\n            <li className=\"nav-item\">\r\n              <NavLink\r\n                exact\r\n                to=\"/\"\r\n                activeClassName=\"active\"\r\n                className=\"nav-links\"\r\n                onClick={handleClick}\r\n              >\r\n                Twitter Data\r\n              </NavLink>\r\n            </li>\r\n            {/* <li className=\"nav-item\">\r\n              <NavLink\r\n                exact\r\n                to=\"/tdlist\"\r\n                activeClassName=\"active\"\r\n                className=\"nav-links\"\r\n                onClick={handleClick}\r\n              >\r\n                TD List\r\n              </NavLink>\r\n            </li> */}\r\n            {/* <li className=\"nav-item\">\r\n              <NavLink\r\n                exact\r\n                to=\"/td/michaelmartin\"\r\n                activeClassName=\"active\"\r\n                className=\"nav-links\"\r\n                onClick={handleClick}\r\n              >\r\n                News Coverage\r\n              </NavLink>\r\n            </li> */}\r\n            {/* <li className=\"nav-item\">\r\n              <NavLink\r\n                exact\r\n                to=\"/contact\"\r\n                activeClassName=\"active\"\r\n                className=\"nav-links\"\r\n                onClick={handleClick}\r\n              >\r\n                Electoral Data\r\n              </NavLink>\r\n            </li> */}\r\n          </ul>\r\n          <div className=\"nav-icon\" onClick={handleClick}>\r\n            <i className={click ? \"fas fa-times\" : \"fas fa-bars\"}></i>\r\n          </div>\r\n        </div>\r\n      </nav>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Navbar;","import React from 'react'\r\nimport { Avatar, Typography, Grid } from '@material-ui/core'\r\n\r\nconst TDHeader = () => {\r\n\r\n    const tdImg = \"https://upload.wikimedia.org/wikipedia/commons/5/52/Miche%C3%A1l_Martin_TD_%28cropped%29.jpg\"\r\n    const tdName = \"Michel Martin\"\r\n\r\n    return (\r\n\r\n\r\n        <div className=\"td-header\">\r\n            <Grid container direction=\"column\" alignItems=\"center\"><Typography variant=\"h4\">{tdName}</Typography>\r\n            <Avatar variant=\"\" src={tdImg} style={{height: '150px', width: '150px', marginBottom: '20px', marginTop: '10px'}}/>\r\n            <Typography variant=\"h5\">Taoiseach</Typography>\r\n            <Typography variant=\"h5\">Party Leader, FF<span class=\"party-dot-ff\"/></Typography>\r\n            </Grid>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TDHeader\r\n","import React from 'react'\r\nimport { Grid, Typography, Avatar } from '@material-ui/core'\r\nimport { ArrowDownward, ArrowUpward } from '@material-ui/icons'\r\nimport GaugeChart from 'react-gauge-chart'\r\n\r\n\r\nexport const TDFollowerStats = () => {\r\n\r\n    const govPos = \"Taoiseach\"\r\n    const party = \"Fianna Fil\"\r\n    const partyLogo = \"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6e/Fianna_F%C3%A1il_logo_circa_1970s%2C_1980s.png/220px-Fianna_F%C3%A1il_logo_circa_1970s%2C_1980s.png\"\r\n    const TDFollowerCount = \"567,342\"\r\n\r\n\r\n    return (\r\n       \r\n\r\n        <div className=\"featuredItem\">\r\n        \r\n        <span className=\"featuredTitle\" style={{marginLeft: 0}}>Twitter Followers</span>\r\n            <span className=\"featuredSub\" style={{marginLeft: '10px'}}>#2 in Dil</span>\r\n            <span className=\"featuredSub\" style={{marginLeft: '10px'}}>#1 in FF</span>\r\n        <div className=\"featuredFollowerContainer\">\r\n            <span className=\"featuredFollowers\">450,042</span>\r\n                <span className=\"featuredFollowerChange\">+4.9% <ArrowUpward style={{fill: \"green\"}}/></span>\r\n        </div>\r\n    </div>\r\n\r\n\r\n            \r\n    )\r\n}\r\n\r\n\r\n\r\nexport const TDRetweetStats = () => {\r\n\r\n\r\n    return (\r\n\r\n        <div className=\"featuredItem\">\r\n        \r\n        <span className=\"featuredTitle\" style={{marginLeft: 0}}>Retweets this week</span>\r\n            <span className=\"featuredSub\" style={{marginLeft: '10px'}}>#16 in Dil</span>\r\n            <span className=\"featuredSub\" style={{marginLeft: '10px'}}>#4 in FF</span>\r\n        <div className=\"featuredFollowerContainer\">\r\n            <span className=\"featuredFollowers\">27</span>\r\n                <span className=\"featuredFollowerChange\">-1.2% <ArrowDownward style={{fill: \"red\"}}/></span>\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n\r\n\r\nexport const TDTwitterActivity = () => {\r\n\r\n\r\n\r\n\r\n    return (\r\n\r\n\r\n        <div className=\"featuredItem\">\r\n        \r\n        <span className=\"featuredTitle\" style={{marginLeft: 0}}>Tweets this week</span>\r\n            <span className=\"featuredSub\" style={{marginLeft: '10px'}}>#16 in Dil</span>\r\n            <span className=\"featuredSub\" style={{marginLeft: '10px'}}>#4 in FF</span>\r\n        <div className=\"featuredFollowerContainer\">\r\n            <span className=\"featuredFollowers\">17</span>\r\n                <span className=\"featuredFollowerChange\">-22.5% <ArrowDownward style={{fill: \"red\"}}/></span>\r\n        </div>\r\n    </div>\r\n\r\n    )\r\n\r\n}\r\n\r\nexport const TDSentimentGauge = () => {\r\n\r\nreturn (\r\n    <div className=\"featuredItem\">\r\n    <Typography style={{marginBottom: \"5px\"}} variant=\"h6\">Michel Martin has a sunny disposition</Typography>\r\n    <p>Michel ranks 1st  in his party, and 1st overall for positive tweet sentiment. See through <a href=\"#\" style={{color: \"lightblue\"}}> time</a></p>\r\n    <GaugeChart\r\n    percent={0.15}\r\n    style={{marginTop: \"20px\"}}\r\n    formatTextValue={value=>value/100}\r\n    />\r\n</div>\r\n)\r\n\r\n} \r\n\r\n\r\nexport const TDConnectivityGauge = () => {\r\n\r\n\r\n    return (\r\n        <div className=\"featuredItem\">\r\n        <Typography style={{marginBottom: \"5px\"}} variant=\"h6\">Michel Martin is not well connected</Typography>\r\n        <p>Michel ranks 23rd in his party, and 59th overall for connectivty. See through <a href=\"#\" style={{color: \"lightblue\"}}> time</a></p>\r\n        <GaugeChart \r\n        percent={0.2}\r\n        style={{marginTop: \"20px\"}}\r\n        formatTextValue={value=>value/100}\r\n        />\r\n    </div>\r\n    )\r\n}\r\n\r\nexport const TDLinks = () => {\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n\r\n\r\n    <div className=\"featuredItem\">\r\n        <Typography style={{marginBottom: \"5px\"}} variant=\"h6\">Michel Martin is not well connected</Typography>\r\n        <p>Michel ranks 23rd in his party, and 59th overall for connectivty. See through <a href=\"#\" style={{color: \"lightblue\"}}> time</a></p>\r\n        <GaugeChart \r\n        percent={0.2}\r\n        style={{marginTop: \"20px\"}}\r\n        formatTextValue={value=>value/100}\r\n        />\r\n    </div>\r\n\r\n\r\n\r\n\r\n    )\r\n}","import React from 'react'\r\nimport TDHeader from './TDHeader'\r\nimport {TDConnectivityGauge, TDFollowerStats, TDRetweetStats, TDSentimentGauge, TDTwitterActivity } from './TDStats'\r\nimport { Avatar, Grid } from '@material-ui/core'\r\nimport './tdpage.css'\r\n\r\nconst TDPage = () => {\r\n    return (\r\n\r\n\r\n        <Grid container xs={12}>               \r\n        <Grid item xs={12}>\r\n                <TDHeader/>\r\n            </Grid>         \r\n        <Grid item xs={12}>\r\n                <TDSentimentGauge/>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n                <TDConnectivityGauge/>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n                <TDFollowerStats/>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n                <TDRetweetStats/>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n                <TDTwitterActivity/>\r\n            </Grid>\r\n        </Grid>\r\n    )\r\n}\r\n\r\nexport default TDPage\r\n","import React, {useState, useEffect} from 'react'\r\nimport { Grid, ListItem, ListItemText, ListItemAvatar, List, Avatar, Typography } from '@material-ui/core'\r\nimport { chamber } from '../../Backend/rollCall';\r\nimport { toCssValue } from 'jss';\r\nimport { Switch } from 'react-router-dom';\r\n\r\n\r\nconst TDList = ({data}) => {\r\n\r\n\r\n  const [TDData, setTDData] = useState(null)\r\n\r\n\r\n\r\n\r\n\r\n  useEffect(() => {\r\n\r\n\r\n    setTDData(data)\r\n\r\n  }, [])\r\n\r\n\r\n  if(!TDData) return null;\r\n\r\n\r\n\r\n\r\n\r\n    function generate(element) {\r\n        return TDData.map((d) =>\r\n\r\n        \r\n\r\n        <ListItem button component=\"a\" href=\"/TDs/michaelmartin\">\r\n            <ListItemAvatar>\r\n                <Avatar src={d.img}/>\r\n            </ListItemAvatar>\r\n            <ListItemText primary={d.name}/>\r\n          </ListItem>\r\n          )\r\n      \r\n    }\r\n\r\n\r\n\r\n    return (\r\n\r\n<div className=\"featuredItem\">\r\n            <h1>TD List</h1>\r\n    <div>\r\n        <Grid item xs={12} md={6}>\r\n          <Typography variant=\"h6\">\r\n            Avatar with text and icon\r\n          </Typography>\r\n          <div className>\r\n            <List>\r\n              {generate(\r\n\r\n              )}\r\n            </List>\r\n          </div>\r\n        </Grid>\r\n    </div>\r\n\r\n</div>\r\n    )\r\n}\r\n\r\nexport default TDList\r\n","import { Grid, IconButton, Typography } from '@material-ui/core'\r\nimport React from 'react'\r\nimport GitHubIcon from '@material-ui/icons/GitHub';\r\nimport './footer.css'\r\nimport { makeStyles } from '@material-ui/core';\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    myClassName: {\r\n      backgroundColor: \"white\",\r\n      marginBottom: \"5px\",\r\n      position: \"relative\",\r\n      \"&:hover\": {\r\n        backgroundColor: \"#ffdd40\"\r\n      }\r\n    }\r\n  }));\r\n\r\n\r\nconst Footer = () => {\r\n\r\n    const classes = useStyles()\r\n\r\n\r\n    return (\r\n\r\n<div id=\"footer\" style={{textAlign: \"center\", background: \"#004D44\", position: \"absolute\", width: \"100%\", height: \"100px\", alignItems: \"center\", display: \"flex\",\r\n  justifyContent: \"center\",\r\n  alignItems: \"center\",\r\n  marginTop: \"20px\",\r\n  paddingTop: \"40px\",\r\n  paddingBottom: \"50px\"}}>\r\n    <Grid container justifyContent=\"center\" alignItems=\"center\" style={{height: \"height\"}}>\r\n        <Grid xs={12}>\r\n            <div style={{textAlign: \"center\"}}>\r\n    <IconButton className={classes.myClassName} style={{color: \"#004D44\"}} aria-label=\"https://github.com/judeluka/eirpol\" onClick={() => window.open('https://github.com/judeluka/eirpol')}>\r\n    <GitHubIcon style={{fontSize: \"50px\"}}></GitHubIcon>  \r\n    </IconButton>\r\n    </div>\r\n    </Grid>\r\n    <Grid >\r\n<div style={{textAlign: \"center\"}}>\r\n<Typography style={{color: \"white\"}}>jude-luka</Typography>\r\n    </div>\r\n    </Grid>\r\n    </Grid>\r\n</div>    \r\n\r\n    )\r\n}\r\n\r\nexport default Footer\r\n","import \"./App.css\";\nimport SideMenu, { menuItems } from \"./components/SideMenu/SideMenu\";\nimport Dashboard from \"./components/Dashboard/Dashboard\";\nimport Navbar from \"./components/Navbar/Navbar\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\nimport MultilineAppV3 from \"./components/MultilineChartV3/MultilineAppV3\";\nimport TDPage from \"./components/TDPage/TDPage\";\nimport TDList from \"./components/TDList/TDList\";\nimport { axisBottom } from \"d3\";\nimport axios from 'axios'\nimport { Component } from \"react\";\nimport Footer from \"./components/Footer/Footer\";\n\n\nconst Content = () => <h1>Content</h1>;\nconst Courses = () => <h1>Content/Courses</h1>;\nconst Videos = () => <h1>Content/Videos</h1>;\nconst Design = () => <h1>Design</h1>;\nconst Content2 = () => <h1>Content2</h1>;\nconst Courses2 = () => <h1>Content/Courses 2</h1>;\nconst Videos2 = () => <h1>Content/Videos 2</h1>;\nconst Design2 = () => <h1>Design 2</h1>;\n\nfunction App() {\n\n\n  const [inactive, setInactive] = useState(false);\n  const [TDData, setTDData] = useState(null)\n\n\n    useEffect(() => {\n    axios.get('https://eirpol.herokuapp.com/api').then((response) => {\n      setTDData(response.data);\n    });\n  }, [])\n\n\n    if(!TDData) return null;\n  \n\n\n\n\n\n\n\n\n\n\n\n  return (\n    <div className=\"App\">\n      <Router>\n\n        <Navbar/>\n          {/* improvememt, not recorded in video, its just looping through menuItems\n          instead of hard coding all the routes */}\n          {/* {menuItems.map((menu, index) => (\n            <>\n              <Route key={menu.name} exact={menu.exact} path={menu.to}>\n                <h1>{menu.name}</h1>\n              </Route>\n              {menu.subMenus && menu.subMenus.length > 0\n                ? menu.subMenus.map((subMenu, i) => (\n                    <Route key={subMenu.name} path={subMenu.to}>\n                      <h1>{subMenu.name}</h1>\n                    </Route>\n                  ))\n                : null}\n            </>\n          ))} */}\n\n          <Switch>\n            <Route exact path={\"/\"}>\n              <Dashboard/>\n            </Route>\n            <Route path={\"/TDs\"}>\n            <TDList data={TDData}/>\n            </Route>\n            <Route path={\"/TDs/michaelmartin\"}>\n              <TDPage />\n            </Route>\n          </Switch>\n      </Router>\n      <Footer>\n        \n      </Footer>\n    </div>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}